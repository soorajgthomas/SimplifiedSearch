/*
 * Version:  5.6.172_7B117 
 * Copyright (c) 10-06-2018 GlassBox http://www.glassboxdigital.com
 */
 
(function(cfg){

    cfg.domKeepScriptMatching = '(commonDataBlock\\s*=\\s*|utag_data\\s*=\\s*)';
    cfg.domKeepComments = true;
    cfg.reportCorsTakeNativeCookies = ['MC1'];
    
	cfg.interceptAjax = true;
	
	//cfg.ajaxCaptureResponseOnStatusGreater = 400;
	
	//cfg.recordAjaxRequest = true;
    //cfg.ajaxCaptureResponseHeaders = false;
	//cfg.ajaxCaptureResponseContentWhenUrlMatches="[/]multiItemCompleteBooking|[/]completeBooking";
	
	cfg.ajaxRecordMetadata = "never";
	cfg.ajaxRecordResponseBody = "or(statusGte(400), uriMatches([/]multiItemCompleteBooking|[/]completeBooking))";
    
})(window._cls_config = window._cls_config || {});

!function(e,t,n,r,o){function i(e,t){var n,r,o,i=t+"=",a=e.cookie.split(";");for(n=0;n<a.length;n++)if(r=a[n],-1!==(o=r.indexOf(i)))return r.substring(o+i.length,r.length);return null}function a(e,t){if(null===t||void 0===t)return!1;if(-1===t.indexOf("://"))return!0;var n=e.createElement("a");return n.href=t,n.hostname===e.location.hostname&&n.port===e.location.port&&n.protocol===e.location.protocol&&"file:"!==e.location.protocol}function s(){var e=[];this.add=function(t,n,r,o,i,a){this[i.toLowerCase()]={type:t,nullable:n,parser:r,name:i,required:a,validator:o},a&&e.push(i)},this.requiredFieldsMask=function(){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}}function c(){this.errors=[],this.warnings=[]}function u(e,t){var r,o="_cls_by_chances_"+t,a="_cls_last_chance_"+t,s=i(n,o),c=i(n,a);return c!==""+e&&(s=c=null),null===s?(r=Math.random()<e,n.cookie=o+"="+r,n.cookie=a+"="+e):r="true"===s,r}function l(e){var t={},n=[];(e=e||this).on=function(e,n,r){(t[e]=t[e]||[]).push([n,r])},e.off=function(e,r){e||(t={});for(var o=t[e]||n,i=o.length=r?o.length:0;i--;)r==o[i][0]&&o.splice(i,1)},e.emit=function(e){for(var r,o=t[e]||n,i=o.length>0?o.slice(0,o.length):o,a=0;r=i[a++];)r[0].apply(r[1],n.slice.call(arguments,1))}}function d(e,t,n,r,i,a,s){if(r){a=a||{};var c=this,u=r.getAttribute("id"),l=function(e,t){return function(n){var r=n.createElement("script");return r.setAttribute("type","text/javascript"),e&&r.setAttribute("id",e),r.setAttribute("src",t),r.setAttribute("data-clsautoinjected","true"),r}}(u,ve.toAbsoluteUrl(e.document,r.getAttribute("src"))),p=function(){var e=100;return function(){return""+e++}}(),f=function(e){return function(t){var n=ve.shallowExtend(e,{});return n.reportToStorageAfterUnload=!0,n}}(t),m=function(){return ve.uuid()},g=function(e){var t=e.getAttribute(d.CONTAINER_ID_ATTRIBUTE);return t||(t=p(),e.setAttribute(d.CONTAINER_ID_ATTRIBUTE,t)),t},h=function(e){delete e.contentWindow[i],e.contentWindow._cls_auto_injected=!1},v=function(e){return e.contentDocument&&"complete"===e.contentDocument.readyState&&e.contentDocument.body.hasChildNodes()},E=function(e,t,n,r){if(e._cls_auto_injected)return!1;var o=e.document;return u&&o.querySelector("script[id='"+u+"']")?(ve.log("iframe detector injection skipped since the iframe already contains Glassbox detector."),!1):(e._cls_container_id=r,e._cls_parent_pageId=n,e._cls_forced_pageId=t,e._cls_auto_injected=!0,e._cls_config=f(e),o.head.appendChild(l(o)),s&&setTimeout(s.bind(null,e),0),!0)},y=function(e,t,n){var r=a.assignContainerId?g(e):o;return!(v(e)&&!E(e.contentWindow,t,n,r))&&(e.addEventListener("load",function t(){try{e.removeEventListener("load",t),h(e),c.tryInjectFrame(e,n)}catch(e){ve.log("error during iframe injection after 'load' event. error:"+e)}}),!0)};this.scanAndInjectIFrames=function(t,n){if(!n)return-1;var r,o=0,i=t.document.getElementsByTagName("iframe");for(r=0;r<i.length;r++)try{!ge.isCrossOriginFrame(e,i[r])&&y(i[r],m(),n)&&o++}catch(e){ve.log("error during iframe injection (ignoring). error:"+e)}return o},this.tryInjectFrame=function(t,n){if(!n)return!1;try{return!ge.isCrossOriginFrame(e,t)&&y(t,m(),n)}catch(e){ve.log("error during iframe auto-injection. error:"+e)}return!1}}else this.scanAndInjectIFrames=this.tryInjectFrame=function(){if(!r)return ve.log("WARNING: IFrameInjector cannot perform injection - top most detector script tag was not found."),-1}}function p(e,t,n,r,o){function i(e,r,o){try{if(e[t])return o?setTimeout(function(){e[t].utils.bus.emit(r,n)},0):e[t].utils.bus.emit(r,n),!0}catch(e){}return!1}e.on("event:unload",function(){n.top!==n&&i(n.top,"innerFrameUnload",!1)}),e.on("domTrackingStarted",function(){i(n.top,"topMostOrInnerFrameDomTrackingStarted",!0)}),e.on("saveEvent",function(e){r.isStarted()&&"pageUpdate"!==e.type&&-1!==ee.snapshotApplicableEventType.indexOf(e.type)&&i(n.top,"topMostOrInnerFrameEvent",!0)}),e.on("topMostOrInnerFrameDomTrackingStarted",function(e){e!==n&&n[t].plugins.domMutationTracker.ensureStarted(!0),ge.bfsVisitFrames(n,function(r){if(r.contentWindow!==e){if(ge.isCrossOriginFrame(n,r))return!1;r.contentWindow[t]&&r.contentWindow[t].plugins.domMutationTracker.ensureStarted(!0)}return!0})}),e.on("innerFrameUnload",function(){setTimeout(function(){o.sendStoragePendingReports()},0)}),e.on("topMostOrInnerFrameEvent",function(e){n!==e&&n[t].savePageUpdate(),ge.bfsVisitFrames(n,function(r){if(r.contentWindow!==e){if(ge.isCrossOriginFrame(n,r))return!1;r.contentWindow[t]&&r.contentWindow[t].savePageUpdate()}return!0})})}function f(e){this.size=0,this.limit=e,this._keymap={}}function m(e,t){function n(t,n,r,o){e.emit("navigation",{direction:t,urlType:n,fromUrl:r,toUrl:o})}function r(e,t){e=e||"";var r=a.length;if(0===r)return a.push(e),!1;if(a[r-1]===e)return!1;var i=a[a.length-1],c=o(i),u=o(e),l=2===c.length&&2===u.length&&c[0]===u[0]?m.UrlType.HASH_ONLY:m.UrlType.FUlL_URL,d=null;r>=2&&a[r-2]===e?(a.pop(),s.push(i),d=m.DirectionType.BACK):s.length>0&&s[s.length-1]===e?(s.pop(),a.push(e),d=m.DirectionType.FORWARD):(a.push(e),s=[]);var p=l===m.UrlType.FUlL_URL?e:u[1],f=l===m.UrlType.FUlL_URL?i:c[1];return t?setTimeout(function(){n(d,l,f,p)},0):n(d,l,f,p),!0}function o(e){var t=e.split("#");return[t[0],t[1]||""]}function i(e){if("function"==typeof t[e]){var n=t[e];t[e]=function(){try{arguments.length>=3&&r(arguments[2],!0)}catch(t){ve.log("error while intercepting history."+e+" method. error:"+t)}return n.apply(t,[].slice.call(arguments))}}}var a=[],s=[];try{i("pushState"),i("replaceState")}catch(e){ve.log("failed hooking native history manipulation methods.",e)}this.onUrlChanged=function(e){return r(e,!1)},this.printHistory=function(){var e;for(e=0;e<a.length;e++)console.log("  - "+e+" : "+a[e])}}function g(e,t){var n=t?function(e){var n;for(n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1}:g.ALWAYS_FALSE;this.underBlackout=!1,this.onLocationChanged=function(t){if(n(t)!==this.underBlackout){var r=!this.underBlackout;ve.log((r?"ENTERING":"LEAVING")+" recording blackout for new location:"+t),e.emit(r?g.EVENTS.BlackoutEnter:g.EVENTS.BlackoutLeave,t),this.underBlackout=r}}}function h(e,t,n,r){this.severity=e,this.code=t,this.count=n,r&&(this.msg=r)}function v(e,t){this.compressionRatio=v.INITIAL_COMPRESSION_FACTOR,t||(t={compress:!0,forceBase64:!0});var n=t.compress||t.forceBase64?1.33:1,r=1,o=function(e){this.compressionRatio=Math.max(e,v.MINIMAL_COMPRESSION_FACTOR)},i=function(e,t){return(e?"1":"0")+(t?"1":"0")};this.newPayload=function(){return new E},this.encode=t.compress?function(t){if(0==t._updates.length)return"";var n=JSON.stringify(t._updates),r=ve.Base64.bytesToBase64(e.compress(n));return o(r.length/n.length),i(!0,!0)+r}:function(e){if(0==e._updates.length)return"";var n=JSON.stringify(e._updates);return i(!1,t.forceBase64)+(t.forceBase64?ve.Base64.toBase64(n):n)},this.refForEvent=function(e){return""+r+++ve.hashcode(e.type+e.timestamp)},this.estimatedDomUpdateSize=function(e){return(e?JSON.stringify(e).length:0)*n*(t.compress?this.compressionRatio:1)}}function E(){this._updates=[]}function y(e,t,n,r,o){o||(o={});var i=new v(r,{forceBase64:!0,compress:o.domCompress});this.name="FORM-URL",this.supportsCompression=!1,this.isCompressing=function(){return!1},this.visitXhr=function(e){e.setRequestHeader("Content-Type","application/x-www-form-urlencoded")},this.encodeSnapshotHtml=function(e){return o.domCompress?{encoded:n.Base64.bytesToBase64(r.compress(e)),plain:!1,compressed:!0}:{encoded:n.Base64.encode(e),plain:!1,compressed:!1}},this.estimateBeaconSize=function(e){return e},this.encodeEvent=function(a,s){var c=t.encoding.delimiters.eventParts,u=r.encodeTimestamp(a),l=r.encodeEventType(a.type),d=e.isUndefined(a.binding)||e.isUndefined(a.binding.valueEncoding)?a.value:a.binding.valueEncoding(a.value);void 0===s&&(s=e.isUndefined(a.selectorExpression)||null==a.selectorExpression?t.encoding.rootSelector:a.selectorExpression);var p=u+c+l+c+s;e.isString(d)&&d.length>0?p+=c+(a.shouldEncodeValue?t.encoding.valueEncodedPrefix:t.encoding.valueNotEncodedPrefix)+(a.shouldEncodeValue?n.Base64.encode(d):d):p+=c+"-",e.isUndefined(a.extraInfo)?p+=c+"-":p+=c+r.encodeExtraInfo(a),o.reportDebugInfo&&!e.isUndefined(a.debugInfo)?p+=c+r.encodeDebugInfo(a):p+=c+"-";var f="";a.domSnapshot&&(f=i.refForEvent(a),p+=c+t.encoding.domSnapshotRefPrefix+f),n.trace("encoding ("+a.type+") "+(e.contains(["webSocketFrame","resourceContent","pageSnapshot"],a.type)?u+c+l+c+"{event string is too long}":p)+(a.getSubPage().length>0?" [on "+a.getSubPage()+"]":""));var m={event:encodeURIComponent(p),domUpdate:a.domSnapshot,domUpdateRef:f};return m.length=m.event.length+i.estimatedDomUpdateSize(a.domSnapshot),m},this.encodeBeacon=function(e,n,r,o,a,s,c){var u,l=[],d=i.newPayload();for(u=0;u<c.length;u++)l.push(c[u].event),c[u].domUpdate&&d.add(c[u].domUpdate,c[u].domUpdateRef);return"v="+e+(void 0!==r?"&r="+encodeURIComponent(r):"")+"&sn="+n+"&p="+o+(void 0!==a?"&sp="+encodeURIComponent(a):"")+(void 0!==s?"&pssn="+s:"")+"&e="+l.join(t.encoding.delimiters.events)+"&dom="+encodeURIComponent(i.encode(d))}}function b(e,t,n,r,o){o||(o={});var i=.25,a=new v(r,{forceBase64:!1,compress:!o.compress&&o.domCompress}),s=function(e){var t,n=0;for(t in e.event)"string"==typeof e.event[t]&&(n+=t.length+e.event[t].length+6);return e.length=n+2+a.estimatedDomUpdateSize(e.domUpdate),e};this.name="JSON",this.supportsCompression=!0,this.isCompressing=function(){return!0},this.visitXhr=function(e){o.corsSafelisted?e.setRequestHeader("Content-Type","text/plain"+(o.compress?"; charset="+b.COMPRESSED_INDICATION_CHARSET:"")):(e.setRequestHeader("Content-Type","application/json"),o.compress&&e.setRequestHeader("Content-Encoding","gzip"))},this.encodeSnapshotHtml=function(e){return!o.compress&&o.domCompress?{encoded:n.Base64.bytesToBase64(r.compress(e)),plain:!1,compressed:!0}:{encoded:e,plain:!0,compressed:!1}},this.estimateBeaconSize=function(e){return o.compress?e*i:e},this.encodeEvent=function(i,c){var u={timestamp:r.encodeTimestamp(i),type:""+r.encodeEventType(i.type)};void 0===c&&(c=e.isUndefined(i.selectorExpression)||null==i.selectorExpression?t.encoding.rootSelector:i.selectorExpression),u.selector=c;var l=e.isUndefined(i.binding)||e.isUndefined(i.binding.valueEncoding)?i.value:i.binding.valueEncoding(i.value);if(e.isString(l)&&l.length>0){var d=i.shouldEncodeValue?t.encoding.valueEncodedPrefix:t.encoding.valueNotEncodedPrefix;l=i.shouldEncodeValue?n.Base64.encode(l):l,u.value=d+l}else u.value="-";e.isUndefined(i.extraInfo)?u.extraInfo="-":u.extraInfo=r.encodeExtraInfo(i),o.reportDebugInfo&&!e.isUndefined(i.debugInfo)?u.debugInfo=r.encodeDebugInfo(i):u.debugInfo="-";var p="";return i.domSnapshot?(p=a.refForEvent(i),u.domSnapshot=t.encoding.domSnapshotRefPrefix+p):u.domSnapshot="-",n.trace("json encoding ("+i.type+") "+u.timestamp+";"+u.type+" {event string is too long}"+(i.getSubPage().length>0?" [on "+i.getSubPage()+"]":"")),s({event:u,domUpdate:i.domSnapshot,domUpdateRef:p})},this.encodeBeacon=function(e,t,s,c,u,l,d){var p,f=[],m=a.newPayload();for(p=0;p<d.length;p++)f.push(d[p].event),d[p].domUpdate&&m.add(d[p].domUpdate,d[p].domUpdateRef);var g={ver:e,sn:t,pageId:c,events:f,dom:a.encode(m)};s&&(g.referrer=s),void 0!==u&&u.length>0&&(g.subPage=u),void 0!==l&&(g.pssn=l);var h=JSON.stringify(g);if(o.compress){var v=r.compress(h);return i=Math.max(v.length/h.length,b.MINIMAL_COMPRESSION_FACTOR),n.log("applying json compression. before:"+h.length+" after:"+v.length+" (ratio:"+i+")"),v}return h}}function _(e){function t(e,t){return e+"="+t}function n(n,r,o){o&&-1!==e.indexOf(r)&&n.push(t(r,o))}function r(e){var t=[];return n(t,"clsjsv",encodeURIComponent(we.version)),n(t,"_cls_s",Ie.get(ee.cookies.session)),n(t,"_cls_v",Ie.get(ee.cookies.visitor)),n(t,"pid",e),t.join("&")}if(e&&0!==e.length){var o=function(){var e;return function(){return e||(e=r(we.page.id)),e}}(),i=-1!==e.indexOf("sn"),a=-1!==e.indexOf("ref"),s=-1!==e.indexOf("_cls_subs");this.apply=function(e,n,c){var u=c?r(c):o();if(!(u||i||s||a))return e;var l=[];return a&&l.push("ref="+encodeURIComponent(_.currentRef())),u&&l.push(u),s&&Ie.get(ee.cookies.sub_session)&&l.push(t("_cls_subs",Ie.get(ee.cookies.sub_session))),i&&n&&l.push(t("sn",n)),l.length>0?e+(-1!==e.indexOf("?")?"&":"?")+l.join("&"):e}}else this.apply=function(e,t,n){return e}}function T(e,t){function n(t){return"hash"===t?e.location.hash:e.location.pathname}function r(r,o){var i=n(r);if(i!==u[r]){var l=ve.currentTimestamp(),d={type:r,hint:o,current:i,last:u[r],lastDwell:l-u.startedAt};u.startedAt=l,u[r]=i,c=e.location.hash,s=ve.stripHash(e.location.href),a=r,t.emit("segmentChanged",d)}}function o(){c=e.location.hash,s=ve.stripHash(e.location.href),u.startedAt=ve.currentTimestamp(),u.path=n("path"),e.location.hash&&r("hash","load")}function i(e){var t;e.direction===m.DirectionType.BACK?t="back":e.direction===m.DirectionType.FORWARD&&(t="forward");var n="path";e.urlType===m.UrlType.HASH_ONLY&&(n="hash"),r(n,t)}var a,s=ve.stripHash(e.location.href),c="",u={startedAt:ve.currentTimestamp(),path:n("path"),hash:""};!function(){var e=x;x=function(){e.apply(this,arguments),this.subPage=c,this.referrer=s}}(),t.on("navigation",i),t.on("init:loaded",o),this.createSegmentTracker=function(){return new S},this.onUnload=function(){if(a){var e={type:a,hint:"unload",current:"",last:u.value,lastDwell:ve.currentTimestamp()-u.startedAt};t.emit("segmentChanged",e)}}}function S(){this.current=null,this.last=null}function w(e,t,n){this.url=t,this.timestamp=n,this.type=e}function C(e,t){this.x=e,this.y=t}function I(e){this.map={},this.cookieName=e,this.readFromCookie()}function x(e,t,n,r){this.pageId=r,this.timestamp=t,this.type=e,this.element=n,this.report=!0,this.shouldEncodeValue=!0,this.dependent=!1,this.subPage=window.location.hash,this.referrer=ve.stripHash(window.location.href)}function A(e,t,n){this.element=e,this.message=t.length>0?t:"NONE",this.selector=n}function N(e){if("object"==typeof console){var t;for(t in e)!function(e,t){if("function"==typeof console[e]){var n=console[e];console[e]=function(){var e=Array.prototype.slice.call(arguments);n.apply(console,e),t(e)}}}(t,e[t])}}function R(e){this.value=e}function M(e){function t(e){var t=e.indexOf("(");if(t>-1){var n,r=-1,o=1;for(n=t+1;n<e.length;n++)if("("===e.charAt(n)&&o++,")"===e.charAt(n)&&0==--o){r=n;break}if(-1===r)throw new SyntaxError("illegal ajax predicate format: missing argument closing ')'");return[ve.trim(e.substring(0,t).toLowerCase()),ve.trim(e.substring(t+1,r))]}return[e.toLowerCase()]}function n(e){var n,r,i=[],a=(e||"").split(",");for(n=0;n<a.length;n++){if(r=t(ve.trim(a[n])),!o[r[0]])throw new SyntaxError("illegal ajax predicate format: unknown predicate type '"+r[0]+"'.");i.push(o[r[0]](r[1]))}return i}var r=M.extractTLD(e),o={always:function(){return function(){return!0}},never:function(){return function(){return!1}},fqdn:function(){return function(t){var n=ve.extractHostname(t.interception.url);return!n||n===e}},tld:function(){return function(e){var t=ve.extractHostname(e.interception.url);return!t||M.extractTLD(t)===r}},statusgte:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'status'.");var t=parseInt(e);return function(e){return e.status>=t}},urimatches:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'pattern'.");var t=new RegExp(e);return function(e){return null!==t.exec(e.interception.url)}},and:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'inner arguments'.");var t=n(e);return function(e){var n;for(n=0;n<t.length;n++)if(!t[n](e))return!1;return!0}},or:function(e){if(!e)throw new SyntaxError("illegal ajax predicate format: missing expected argument 'inner arguments'.");var t=n(e);return function(e){var n;for(n=0;n<t.length;n++)if(t[n](e))return!0;return!1}}};o.true=o.always,o.false=o.never,this.create=function(e){if(!e)return o.never();var n=t(e);if(!o[n[0]])throw new SyntaxError("illegal ajax predicate format: unknown predicate type '"+n[0]+"'.");return o[n[0]](n[1])}}function O(e,t,r,i){function a(e){he.emit("ajax:load",new D(this,ve.currentTimestamp())),p&&ve.trace("AJAX load intercepted",this)}function s(e){he.emit("ajax:error",new D(this,ve.currentTimestamp())),p&&ve.trace("AJAX error intercepted",this)}function c(e){p&&ve.trace("AJAX onLoadstart intercepted",this),this.interception?(this.interception.startTime=ve.currentTimestamp(),this.interception.lastFocusedElement=n.activeElement):ve.trace("AJAX onLoadstart - missing cls xhr interception data")}function u(e){if(p&&ve.trace("AJAX onLoadend intercepted",this),this.interception){var t=this,n=ve.currentTimestamp(),r=h(t),i=r||g(t),a=E(t),s=a||v(t);if(!(s||i||m(t)))return!1;setTimeout(function(){var e=t.getAllResponseHeaders(),c=r&&O.hasGzipContentEncoding(e),u=r?O.captureContent(t,c):null,l=new D(t,n,s&&t.interception.requestHeaders?t.interception.requestHeaders.join("\r\n"):null,a?t.interception.requestContent:null,i?O.fixHeaders(e,u?u.length:o):null,u,c);t.interception.startTime>0?l.duration=n-t.interception.startTime:l.duration=-1,l.lastFocusedElement=t.interception.lastFocusedElement,l.status=t.status,l.statusText=t.statusText,he.emit("ajax:loadend",l)},0)}else ve.trace("AJAX onLoadend - missing cls xhr interception data for url: "+(this.responseURL||""))}function l(){var t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send,r=XMLHttpRequest.prototype.setRequestHeader;t&&n?(e.XMLHttpRequest.prototype.open=function(){var e,n=this;try{d(n,e="object"==typeof arguments[1]?arguments[1].toString():arguments[1])&&(n.interception={uuid:ve.uuid(),requestHeaders:[],method:arguments[0],url:e,async:arguments[2]},n.addEventListener("load",a,!1),n.addEventListener("error",s,!1),n.addEventListener("loadstart",c,!1),n.addEventListener("loadend",u,!1),he.emit("ajax:open",new D(n,ve.currentTimestamp())),p&&ve.trace("AJAX open intercepted",n))}catch(t){ve.log("Exception occurred when intercepting ajax 'open' for url: "+e+" Error: "+t.message,t)}t.apply(this,arguments)},e.XMLHttpRequest.prototype.send=function(){var e=this;if(e.interception)try{var t=arguments[0],r=new D(e,ve.currentTimestamp());arguments.length>0&&(e.interception.requestContent=t,r.data=t),he.emit("ajax:send",r),p&&ve.trace("AJAX send intercepted",e)}catch(e){ve.log("Exception occurred when intercepting ajax 'send'. Error: "+e.message,e)}n.apply(this,arguments)},e.XMLHttpRequest.prototype.setRequestHeader=function(){var e=this;if(e.interception)try{e.interception&&e.interception.requestHeaders&&e.interception.requestHeaders.push(arguments[0]+": "+arguments[1]),p&&ve.trace("AJAX 'setRequestHeader' intercepted",e)}catch(e){ve.log("Exception occurred when intercepting ajax 'setRequestHeader'. Error: "+e.message,e)}r.apply(this,arguments)}):ve.log("WARNING: cannot intercept ajax, XMLHttpRequest prototype was altered (other, earlier loaded, 3rd party js?).")}function d(e,t){if(O.isClsOwnAjax(e))return!1;var n,r=t.toLowerCase();for(n=0;n<i.length;n++)if(r.indexOf(i[n])>=0)return!1;return!0}var p=r.ajaxDebug,f=function(){return!1},m=f,g=f,h=f,v=f,E=f;this.initialize=function(e){try{O.cfgBackwardComp(r)&&ve.log("Warning: using deprecated ajax configuration modifiers.");var n=new M(t);te.ajaxRecordMetadata&&(m=n.create(te.ajaxRecordMetadata)),te.ajaxRecordResponseHeaders&&(g=n.create(te.ajaxRecordResponseHeaders)),te.ajaxRecordResponseBody&&(h=n.create(te.ajaxRecordResponseBody)),te.ajaxRecordRequestHeaders&&(v=n.create(te.ajaxRecordRequestHeaders)),te.ajaxRecordRequestBody&&(E=n.create(te.ajaxRecordRequestBody))}catch(e){return ve.log("Error while parsing Ajax predicates from configuration. interception disabled. error:"+e),!1}return O.supportAjaxOnProgressEvents()?(e.on("init:preloaded",l),ve.log("Intercepting AJAX calls."),!0):(ve.log("Ajax interception not supported."),!1)}}function D(e,t,n,r,o,i,a){try{if(!e.interception)return void(debugMode&&ve.trace("AjaxCall - missing cls xhr interception data for url: "+(e.responseURL||"")));this.xhr=e,this.timestamp=t,this.interception=e.interception,this.url=e.interception.url,this.method=e.interception.method,this.requestHeaders=n||null,this.requestContent="string"==typeof r?r:null,this.responseHeaders=o,this.responseContent=i,this.responseCompressed=a}catch(e){console.log("Error in AjaxCall construction: "+e)}}function L(e,t,n,r){t=t||"",r=r||[];var o=null!==ve.readCookie(L.READY_COOKIE)?L.STATE.READY:L.STATE.INIT,i=[],a=function(t){t&&(e.cookie=L.READY_COOKIE+"=;path=/;domain="+Ie.getDefaultDomain());var n=i;i=[],o=L.STATE.READY;for(var r=0;r<n.length;r++)n[r](t)};this.help=function(e,s){if(o===L.STATE.READY)return s(!0);var c,u,l=[];for(c in ee.cookies)(u=ve.readCookie(ee.cookies[c]))&&l.push(ee.cookies[c]+"="+encodeURIComponent(u));for(c=0;c<r.length;c++)(u=ve.readCookie(r[c]))&&l.push(r[c]+"="+encodeURIComponent(u));if(i.push(s),l.length>0){if(o===L.STATE.HELPING)return;o=L.STATE.HELPING;var d=t+"?"+l.join("&"),p=e();p.onreadystatechange=function(){4===p.readyState&&(200===p.status?a(!0):(ve.log("failed to execute CORS support request. statusCode:"+p.status),a(!1)))},p.open("GET",n.apply(d),!0),p.withCredentials=!0,p.send()}else ve.log("ERROR: could not retain cls cookies (was the TLD configured and detected correctly?)"),a(!1)}}function U(e,t){var n=function(e,n,r,o){var i,a;if("object"==typeof n)i=ve.Base64.bytesToBase64(n),a=U.ENCODING_BASE64;else{if("string"!=typeof n)throw"cannot report to storage: unsupported input type: "+typeof n;i=n,a="plain"}return(e=e?JSON.parse(e):[]).push({ts:r,pid:t,sn:o,encoding:a,e:i}),JSON.stringify(e)};this.config={maxReportSize:-1,maxReports:-1},this.gainLockToReport=function(){return!0},this.freeLock=function(){},this.flushEvents=function(t,r){try{e[U.KEY_NAME]=n(e[U.KEY_NAME],t,ve.currentTimestamp(),r)}catch(t){ve.log("error: could not flush client events into storage. "+t.message),delete e[U.KEY_NAME]}}}function B(e,t,n,r){r=r||function(){return!1},e.on("domMutation",function(o){var i=!1;if("childList"===o.type){var a,s,c;for(a=0;a<o.addedNodes.length;a++)if("IFRAME"===o.addedNodes[a].tagName&&n.tryInjectFrame(o.addedNodes[a],t))ve.log("new frame was detected and auto-injected."),i=!0;else if("function"==typeof o.addedNodes[a].getElementsByTagName)for(c=o.addedNodes[a].getElementsByTagName("iframe"),s=0;s<c.length;s++)n.tryInjectFrame(c[s],t)&&(ve.log("new frame was detected and auto-injected."),i=!0)}else"attributes"===o.type&&"IFRAME"===o.actualTarget.tagName&&(i=o.attributeName!==d.CONTAINER_ID_ATTRIBUTE);i&&r()&&e.emit("pageUpdate")})}function F(e,t,n,r){function o(e){for(var t,r=e.parentElement;r&&(t=n.idOf(r,!1),!a[t]);)a[t]=!0,r=r.parentElement}function i(e){var t,n=e.querySelectorAll("iframe");for(t=0;t<n.length;t++)o(n[t]);return n.length>0}r=r||function(){return!1};var a={};t.on("domMutation",function(e){var s=!1;if("childList"===e.type){var c;for(c=0;c<e.addedNodes.length;c++)"IFRAME"===e.addedNodes[c].tagName?(o(e.addedNodes[c]),s=!0):"function"==typeof e.addedNodes[c].getElementsByTagName&&(s=i(e.addedNodes[c]))}else"attributes"===e.type&&(s="IFRAME"===e.actualTarget.tagName||a[n.idOf(e.actualTarget,!0)]);s&&r()&&t.emit("pageUpdate")}),i(e)}function j(e,t,n,r){r=r&&new RegExp(r);var o=function(e){var t;for(t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])},i=function(e){var t=[];if(e.ownerDocument)for(var n,r=e.ownerDocument.createNodeIterator(e,NodeFilter.SHOW_COMMENT,null,!0);n=r.nextNode();)t.push(n);return t},a=function(e){var t,n=[],o=e.getElementsByTagName("script");for(t=0;t<o.length;t++)r.exec(o[t].innerText)||n.push(o[t]);return n};this.sanitize=function(s){var c,u=[];if(e&&Array.prototype.push.apply(u,i(s)),t&&"function"==typeof s.getElementsByTagName)for(c=0;c<t.length;c++)r&&"script"===t[c]?Array.prototype.push.apply(u,a(s)):Array.prototype.push.apply(u,s.getElementsByTagName(t[c]));if(n&&"function"==typeof s.querySelector){var l;for(l in n)for(c=0;c<n[l].length;c++)s.querySelector(l+"#"+n[l][c])&&u.push(s.querySelector(l+"#"+n[l][c]))}o(u),ve.log("sanitation of DOM element completed. removedNodes:"+u.length)}}function P(e){return e instanceof Comment||(!("IFRAME"!==e.tagName||!e.parentNode||"HEAD"!==e.parentNode.tagName)||P.IGNORABLE_TAGS.hasOwnProperty(e.nodeName))}function H(e,t){if(e.WebSocket){var n=e.WebSocket,r=function(e,r){
// #preserve native
var o=r?new n(e,r):new n(e);try{o.addEventListener("message",t)}catch(e){ve.log("failed intercepting WebSocket constructor: "+e.message,e)}return o};(r.prototype=n.prototype).constructor=n,r.CONNECTING=0,r.OPEN=1,r.CLOSING=2,r.CLOSED=3,e.WebSocket=r}else ve.log("WebSocket interface is not supported by the browser.")}function z(e,t){var n={},r=function(e,r,o){var i=z.propertyForElement(e);if(i){var a=(n[r]||{})[i],s=e[i],c={};c[i]=s,(void 0===a?s!==z.defaultValue(e,i):a!=s)&&(o[r]=o[r]||{element:e,selector:t.selectorFor(e,!0),properties:[]},o[r].properties.push(i)),n[r]=c}};this.track=function(){var o,i,a={},s={},c=e.querySelectorAll("input,select,textarea");for(o=0;o<c.length;o++)i=t.idOf(c[o]),r(c[o],i,a),s[i]=!0;var u;for(u in n)s[u]||delete n[u];return a},this.getEntriesCount=function(){return Object.keys(n).length}}function V(e,t){var n={},r=function(){var e=0;return function(){return++e}}(),o=function(e){var n=e[V.GB_ID_ATTRIBUTE_NAME];return n||(n=r(),e[V.GB_ID_ATTRIBUTE_NAME]=n,t&&"function"==typeof e.setAttribute&&e.setAttribute(V.GB_ID_ATTRIBUTE_NAME,n)),n},i=function(e){return"["+V.GB_ID_ATTRIBUTE_NAME+"='"+e+"']"};this.usingGlassboxIds=t,this.idOf=function(e,t){return t?e[V.GB_ID_ATTRIBUTE_NAME]:o(e)},this.selectorFor=function(r,a){var s=o(r),c=n[s];return c&&c.byId===a||(c={selector:t?i(s):e(r,a,V.GB_ID_ATTRIBUTE_NAME),byId:a&&!t},n[s]=c),c.selector},this.introduceDocument=function(e){if(t&&!e._gb_scanned){for(var n,r=e.createNodeIterator(e.documentElement,NodeFilter.SHOW_ELEMENT,null,!0);n=r.nextNode();)o(n);e._gb_scanned=!0}}}function W(e,t,n){var r,o=!1,i=null;"undefined"!=typeof MutationObserver?i=MutationObserver:"undefined"!=typeof WebKitMutationObserver&&(i=WebKitMutationObserver);var a=function(e){for(var t=0;t<e.length;t++)if(!n(e.item(t)))return!1;return!0},s=function(t){var r=t.target;if("attributes"===t.type){if(t.attributeName===V.GB_ID_ATTRIBUTE_NAME)return}else"characterData"===t.type&&r instanceof CharacterData&&(r=r.parentNode||r);if(!n(r)){if("childList"===t.type){for(var o=0;o<t.removedNodes.length;o++)delete t.removedNodes.item(o)[V.GB_ID_ATTRIBUTE_NAME];if(a(t.addedNodes)&&a(t.removedNodes))return}t.actualTarget=r,e.emit("domMutation",t)}},c={attributes:!0,childList:!0,characterData:!0,subtree:!0,attributeOldValue:!0,characterDataOldValue:!0};this.supported=function(){return null!==i},this.start=function(){if(!o){if(!r){if(!i)throw new Error("cannot start DomObserver: native interface not supported by the browser.");r=new i(function(e){e.forEach(s)})}r.observe(t,c),o=!0}},this.isActive=function(){return o}}function q(e,t,n){var r=!1,o=function(e){e.addEventListener("DOMNodeInserted",function(e){i(e)},!1),e.addEventListener("DOMCharacterDataModified",function(e){i(e)},!1),e.addEventListener("DOMNodeRemoved",function(e){i(e)},!1),e.addEventListener("DOMAttrModified",function(e){i(e)},!1)},i=function(t){var r={};r._cls_orig_type=t.type;var o=t.target;if("DOMNodeInserted"===t.type&&(o=o.parentNode||o,r.type="childList"),"DOMNodeRemoved"===t.type&&(delete o[V.GB_ID_ATTRIBUTE_NAME],o=o.parentNode||o,r.type="childList"),"DOMCharacterDataModified"===t.type&&(o=o.parentNode||o,r.type="characterData"),!n(o)){if("DOMAttrModified"===t.type){if(t.attrName===V.GB_ID_ATTRIBUTE_NAME)return;r.type="attributes",r.attributeName=t.attrName}r.actualTarget=o,e.emit("domMutation",r)}};this.supported=function(){return"undefined"!=typeof MutationEvent},this.start=function(){o(t),r=!0},this.isActive=function(){return r}}function X(e,t){function n(){var t=!r||r===e.title;return r=e.title,t}var r;t.on("init:loaded",function(){r=e.title}),t.on("domMutation",function(){n()||setTimeout(function(){t.emit("titleChanged")},0)})}function G(e){var t=e.implementation.createHTMLDocument("clonner-doc");this.cloneNode=function(e){return t.importNode(e,!0)}}function K(e,t,n,r,i,a){a=ve.shallowExtend(K.DefaultOptions,a);var s=function(e,t){var n=K.CLS_HEADER_PREFIX+"[createdAt:"+ve.currentTimeStamp()+" seq:"+t+"] ";e.head.insertBefore(e.createComment(n),e.head.childNodes[0])},c=function(e,t,r){var o,i,a,s=e.getElementsByTagName(t);for(o=0;o<s.length;o++)for(a=s[o],i=0;i<r.length;i++)K.AttributeUpdaters[r[i]](a,n)};this.supported=function(){return"undefined"!=typeof NodeFilter},this.setOption=function(e,t){a[e]=t},this.take=function(u){if(null===e.body)return o;var l=ve.currentTimeStamp();try{var d=t.cloneNode(e.documentElement),p=d.querySelector("head"),f=d.querySelector("body");r&&r.sanitize(p),i&&i.sanitize(f),c(d,"input",["value","checked"]),c(d,"textarea",["value"]),c(d,"textarea",["selectedIndex"]),a.addHeader&&s(d,u),n&&n.domMaskNode(d,De.OMIT,De.TEXT,De.VALUE_ATTRIBUTE);var m=K.HTML_SCHEMA_PREFIX+d.outerHTML,g=n?n.maskCookie(e.cookie):e.cookie;return new Y(m,e.referrer,u,g,e.characterSet)}catch(e){return ve.log("could not obtain page snapshot. error: "+e),this.lastError=e,o}finally{var h=ve.currentTimeStamp();ve.log("full page snapshot capturing took:"+(h-l)+"msc")}}}function Y(e,t,n,r,o){this.html=e,this.referrer=t,this.seq=n,this.charset=o,this.cookie=r}function J(e,t,n,r){n=n||function(){return!1};var o=function(e,r){var o=e.attributes?Object.keys(e.attributes):[];if(o&&o.length>0&&!n(e.element)){var i,a,s={};for(i=0;i<o.length;i++)a=e.element.getAttribute(o[i]),"INPUT"===e.element.tagName&&"value"===o[i]&&(a="password"===e.element.getAttribute("type")?$.maskValueOf(a):t.maskValue(e.element)),s[o[i]]={value:a,ordinal:e.attributes[o[i]]};ve.ensureProperty(r,"domChanges",e.selector).attributes=s}},i=function(r,o){if(void 0!==r.characterDataChild){var i=ve.indexOfNode(r.element.childNodes,r.characterDataChild);if(i>=0){var a=r.characterDataChild;if(n(a))return;t&&t.isDomMasked(r.element,Le.SELF_OR_ANY_PARENT,De.TEXT)&&(a=e.cloneNode(r.characterDataChild),t.domMaskNodeForce(a,De.TEXT)),ve.ensureProperty(o,"domChanges",r.selector).characterData={value:a.textContent,child:i}}}},a=function(r,o){if(void 0!==r.childListOrdinal){if(t.isDomMasked(r.element,Le.SELF_OR_ANY_PARENT,De.OMIT))return;var i,a,s,c=[],u=!1,l=t.isDomMasked(r.element,Le.SELF_OR_ANY_PARENT,De.TEXT);for(i=0;i<r.element.childNodes.length;i++)a=r.element.childNodes.item(i),n(a)||t.isDomMasked(a,Le.SELF,De.OMIT)||(l?(a=e.cloneNode(a),t.domMaskNodeForce(a)):(u=!1,t.isDomMasked(a,Le.SELF_OR_ANY_CHILD,De.OMIT)&&(a=e.cloneNode(a),t.domMaskNode(a,De.OMIT),u=!0),t.isDomMasked(a,Le.SELF_OR_ANY_CHILD,De.TEXT,De.VALUE_ATTRIBUTE)&&(u||(a=e.cloneNode(a)),t.domMaskNode(a,De.TEXT,De.VALUE_ATTRIBUTE))),(s=ve.DOMElement2Str(a))&&c.push(s));ve.ensureProperty(o,"domChanges",r.selector).children={ordinal:r.childListOrdinal,childList:c}}};return{all:function(){return[o,i,a]}}}function Q(e,t){var n=ve.immutableSet("checkbox","radio"),r=function(t,n){return e&&"value"===n?e.maskValue(t):t[n]},o=function(e){if(!t||void 0===t.ignoredFormElement)return!1;var n=ve.getElementId(e);return!!n&&me.contains(t.ignoredFormElement,n)},i=function(e,t){return"SELECT"===e.tagName?"selectedIndex":"INPUT"===e.tagName&&n[e.getAttribute("type")||""]?"checked":t},a={INPUT:"inputs",SELECT:"selects",TEXTAREA:"textareas"},s=function(e,t){if(!o(e.element)&&e.properties&&e.properties.length>0){var n,s,c=a[e.element.tagName],u={};if(c){for(n=0;n<e.properties.length;n++)u[s=i(e.element,e.properties[n])]=r(e.element,s);ve.ensureProperty(t,c)[e.selector]=u}}};return{all:function(){return[s]}}}function Z(e,t,n,r,i){var a={},s={},c=0,u=!1,l=0,p=function(e,t,n){if(t.removed)return!1;for(var r=0;r<e.length;r++)e[r](t,n);return!0},f=function(e,t){var n=0;if("function"==typeof t.element.contains){var r,o;for(r in e)e[r].removed||(o=e[r].element)!==t.element&&t.element.contains(o)&&(e[r].removed=!0,n++)}return n},m=function(e,n){for(var r,o,i=n.element.parentNode;i;){if(o=s[t.idOf(i,!0)])for(r=0;r<o.length;r++)if(void 0!==o[r].childListOrdinal)return n.removed=!0,o[r]=n.childListOrdinal,1;i=i.parentNode}return 0},g=function(e){var t,n,r=0;for(t in e)(n=e[t]).removed||(ve.isAttachedToDOM(n.element)?void 0!==n.childListOrdinal&&(r+=m(0,n),r+=n.removed?0:f(e,n)):(r++,n.removed=!0));return r},h=function(e,n,r){var o=e[r];if(!o){var i=t.idOf(n);o={element:n,selector:r},e[r]=o,(s[i]||(s[i]=[])).push(o)}return o},v=function(e){if(u&&("attributes"!==e.type||e.attributeName!==d.CONTAINER_ID_ATTRIBUTE)){var n=c++,r="id"===e.attributeName,i=t.selectorFor(e.actualTarget,!r),s=h(a,e.actualTarget,i);"characterData"===e.type?s.characterDataChild=e.target:"childList"===e.type?(s.childListOrdinal=n,s.characterDataChild=o):"attributes"===e.type&&(s.attributes||(s.attributes={}),s.attributes[e.attributeName]=n)}},E=function(){a={},s={},c=0};this.getSnapshot=function(){var e,s=n.track(),c={timestamp:l++,propertiesMode:"modifiedOnly",selectors:t.usingGlassboxIds?"gb":"native"},u=0,d=0,f=g(a);ve.log("DOM changes log was compacted by "+f+" entries.");for(e in a)a[e].removed||p(r,a[e],c)&&u++;var m;for(m in s)p(i,s[m],c)&&d++;return ve.log(u+" DOM changes log entries were processed and "+d+" property changes were processed. "),E(),u+d===0&&(c=o),c},this.start=function(){u=!0,ve.log("dom mutation accumulation started.")},e.on("domMutation",v)}function $(e){function t(e,t,n){var r,o=[];if(e)for(r=0;r<e.length;r++)o.push("#"+e[r]);if(t)for(r=0;r<t.length;r++)o.push("."+t[r]);return 0===o.length?null:n?o.map(function(e){return":not("+e+")"}).join(""):o.join(",")}this._options=e||{},this._cookieMaskSet=e.cookieMask?ve.immutableSet.apply(null,e.cookieMask):null,this._selectorsByMaskingType={},this._selectorsByMaskingType[De.TEXT.name]=t(e.domMaskIds,e.domMaskClasses),this._selectorsByMaskingType[De.OMIT.name]=t(e.domOmitIds,e.domOmitClasses),this._selectorsByMaskingType[De.VALUE_ATTRIBUTE.name]="input"+t(e.valueMaskIds,["cls_mask"].concat(e.valueMaskClasses||[]),ee.ValueMaskingMode.WhiteList===e.valueMaskingMode)}if(function(e,t){return e.top!==e&&e._cls_auto_injected}(window,"_detector")&&console.log("WARNING[EyeView-1302]: Iframes auto Injection configuration is ON. It is strongly advised to remove detector script tag from frame's source. url: "+location.href),void 0===window._detector){var ee={};ee.beaconVersion="2",ee.mouseEvents=window.PointerEvent?{down:"pointerdown",up:"pointerup"}:{down:"mousedown",up:"mouseup"},ee.eventTypes=[ee.mouseEvents.down,ee.mouseEvents.up,"touchstart","touchend","scroll","change","blur","focusout","keydown","submit","reset","load","unload","ajaxComplete","hashchange","navigation","popstate","focus","focusin","mouseenter","mousemove","error","beforeunload","resize","pagehide"],ee.snapshotApplicableEventType=["pageUpdate","change","mousedown","scroll","touchstart","blur","submit","drag","formValidationError","navigation","unload","beforeunload","segmentChanged"],ee.reportBase64URLs=!1,ee.nobelEventTypes=["pageSnapshot"],ee.socialNobelEventTypes=["resourceContent"],ee.encodeSelectors=!0,ee.encodeEventTypes=!0,ee.useClassesInSelectors=!1,ee.repeatingElementSelector="!",ee.encoding={numberBase:36,rootSelector:"-",delimiters:{versionPayload:";",pages:"~~~",events:"~~",eventParts:"~",pageIdEvents:"_"},domSnapshotPrefix:"D",domSnapshotRefPrefix:"r",domSnapshotCompressedPrefix:"d",domSnapshotPlainPrefix:"P",valueEncodedPrefix:"E",valueNotEncodedPrefix:"N"},ee.cookies={events:"_cls_events",session:"_cls_s",sub_session:"_cls_subs",visitor:"_cls_v",referrer:"_cls_referrer",robot:"_cls_bd",debuginfo:"_cls_di",supportMode:"_cls_sm"},ee.maskingAttribute="cls_mask",ee.ValueMaskingMode={BlackList:"blacklist",WhiteList:"whitelist"},ee.detectorScript=function(e,t){return e?e.hasAttribute(t)?e:n.querySelector("["+t+"]")||e:window.cls_detector_script_id?n.getElementById(window.cls_detector_script_id):n.querySelector("["+t+"]")}(n.currentScript,"data-clsconfig");var te={};te.debugMode=!1,te.traceMode=!1,te.suppressMouseMovesDebug=!0,te.reportByPost=!1,te.timingMode=!1,te.useIdSelectors=!0,te.noIdSelectorsForClassNames=["skull_list"],te.noIdSelectorsForIDs=[],te.noIdSelectorsForAttrs=[],te.useNameInFormSelectors=!1,te.preferNamesInFormSelectors=!1,te.reportValidationErrors=!0,te.supportNativeAutoComplete=!1,te.recordEnterForInputs=!0,te.recordTypingAll=!1,te.recordTypingForAttrs=["bs-typeahead"],te.recordTypingForClasses=["tt-input"],te.recordTypingForIDs=[],te.ignorableElementIds=["cls_logger","cls_logger_tab"],te.idleEventTimeInterval=-1,te.maxTimeForIdleEvent=42e4,te.validationValueForRenderTime=2e4,te.titleCharsLimit=150,te.recordAjaxCallsAnyway=!1,te.ajaxDebug=!1,te.ajaxHashRecurrentUrls=!0,te.ajaxCaptureResponseHeaders=!1,te.ajaxCaptureFQDNOnly=!1,te.ajaxCaptureResponseContentWhenUrlMatches="",te.ajaxCaptureResponseOnStatusGreater=-1,te.reportVisualNames=!0,te.visualNameDebug=!1,te.visualName={chatLimit:40,CLS_NAME_ATTR:"cls_vname",filterNamingByTagName:["script","style"],by:{title:!0,alt:!0,ariaLabel:!0,inlineText:!0,placeholder:!0,inputConsts:!0,inputButtonsValue:!0,name:!0,id:!0,parent:!0,child:!0},elementListToCheckParent:["img","span","div"],elementListToCheckChild:["button"],filterInlineTextByTagName:["div","span","td"],filterInlineTextByClassName:[]},te.maskingMode=ee.ValueMaskingMode.BlackList,te.maskList=[],te.maskClassList=[],te.maskCookies=[],te.recordErrors=!1,te.recordErrors=!1,te.recordConsoleErrors=!0,te.minDragPixels=10,te.botDetection=!0,te.reportDebugInfo=!0,te.DOMBeaconImg=!1,te.reportAllOnUnload=!1,te.maxReportsWithUnload=4,te.truncateEventsWithUnload=!0,te.recordScrolls=!1,te.dependentScroll=!0,te.minStallingScrollTime=3e3,te.scrollDebug=!1,te.recordMouseMoves=!1,te.mmRecordTimes=!1,te.mmDiluteMinPixels=20,te.mmMaxMovesWithUnload=100,te.mmMaxMovesInEventNoTimes=180,te.mmMaxMovesInEventWithTimes=130,te.mmMinStallingMoveTime=1e4,te.mmMaxInMemoryMoves=600,te.mmDebug=!1,te.SCIntegration=!1,te.SCIntegrationURLsContainList=[],te.SCIntegrationKeyList=["pageName","v25","v11","v39"],te.externalIdAttr="id",te.recordHovers=!1,te.mhDeepLevel=2,te.mhMaxListSize=10,te.mhMaxInMemeoryHovers=100,te.mhDebug=!1,te.reportHybrid=!1,te.recordWebSocket=!1,te.domRecordEnabled=!1,te.reportAllResourcesLoad=!1,te.ignoreReportResourcesByTagNames=[],te.reportExternalResources=!1,te.reportScriptURLContainList=[],te.reportScriptKeyList=[],te.reportImageURLContainList=[],te.reportImageKeyList=[],te.clsDebug=!0,te.clsDebugCharsLimit=1e3,te.clsDebugMaxReports=2,te.reportEncoding="formUrl",te.reportCompress=!1,te.reportAddUriParams=["clsjsv","_cls_s","_cls_v","pid","sn"],te.reportToStorageAfterUnload=!1,te.duplicateIdCheck=!1,te.blackoutWhenLocationContains=[],te.iframesAutoInject=!1,te.iframesAssignContainerId=!0,te.reportCorsForceSafelistedHeaders=!0,te.reportCorsTakeNativeCookies=[],te.reportIncludeReferrer=!0,ee.setup="dom",te.maxReportSize=1900,te.reportInterval=3e3,te.reportByPost=!0,te.maxPostReportSize=15e4,te.reportPostInterval=1e4,te.postRetry=!1,te.interceptAjax=!0,te.ajaxHashRecurrentUrls=!1,te.ajaxRecordMetadata="always",te.domNewPageTriggers=[],te.domNewPageAjaxTriggers=[],te.domStartAfter=1e4,te.domExpireSnapshotAfter=114e4,te.domUpdateEveryWsMsgIn=-1,te.domCompress=!0,te.domRecordEnabled=!0,te.recordWebSocket=!1,te.semiDomEnabled=!0,te.domIgnoredFormElements=["__VIEWSTATE"],te.domMaskContentById=[],te.domMaskOmitByClass=[],te.domMaskOmitById=[],te.domMaskContentByClass=[],te.domPartialWhenLocationContains=[],te.domKeepComments=!1,te.domOmitAfterUnload=!1,te.domAssignGlassboxId=!1;var ne=function(e,t){var n={};return u(t.chance,"dom")&&(n.domRecordEnabled=!0,n.reportURI=t.reportURI,n.reportByPost=!0,n.recordWebSocket=!1),n},re=",";void 0!==ee&&ee.detectorScript&&(re=ee.detectorScript.getAttribute("data-clsarraydelim")||re);var oe={toBoolean:function(e,t){if("TRUE"===e.toUpperCase())return!0;if("FALSE"===e.toUpperCase())return!1;throw"cannot parse boolean from '"+e+"'"},toNumber:function(e){var t=-1==e.indexOf(".")?parseInt(e):parseFloat(e);if(isNaN(t))throw"cannot parse number from '"+e+"'";return t},toString:function(e){return e},toStringArray:function(e){return null==e?[]:e.split(re)}},ie={isArray:function(e){return(Array.isArray?Array.isArray(e):e instanceof Array)?null:"array is expected"},elementsOfType:function(e,t){for(var n=0;n<t.length;n++)if(typeof t[n]!==e)return"array element type mismatch. expected:"+e+" actual:"+typeof t[n];return null},and:function(){var e=arguments;return function(t){for(var n=0;n<e.length;n++){var r=e[n](t);if(null!=r)return r}return null}}};s.prototype.ignore=function(e){this[e.toLowerCase()]={name:e,ignore:!0}},s.newBuilder=function(){var e=new s;return{bool:function(t,n){return e.add("boolean",!1,oe.toBoolean,null,t,n),this},num:function(t,n){return e.add("number",!1,oe.toNumber,null,t,n),this},str:function(t,n){return e.add("string",!0,oe.toString,null,t,n),this},strarray:function(t,n){var r=function(e){return ie.elementsOfType("string",e)};return e.add("object",!0,oe.toStringArray,ie.and(ie.isArray,r),t,n),this},ignore:function(t){return e.ignore(t),this},build:function(){return e}}};var ae={options:{caseSensitive:!0,errorOnUnknown:!1},validate:function(e,t){var n=new c;if(this.parsingError)return n.addError(ae.parsingError),n;t=t||{};var r=e.requiredFieldsMask();for(var o in t)if(t.hasOwnProperty(o)){var i=e[o.toLowerCase()];if(!i){(ae.options.errorOnUnknown?n.addError:n.addWarning).call(n,"unknown configuration field",o);continue}if(i.ignore)continue;if(i.name!==o&&ae.options.caseSensitive){n.addError("unknown configuration field (did you mean '"+i.name+"'?).",o),delete r[i.name];continue}var a=t[o];if(null==a){i.nullable||n.addError("value cannot be null, value of "+i.type+" type is expected.",o);continue}if(typeof a!==i.type){n.addError("value type mismatch. expected:"+i.type+" actual:"+typeof a,o);continue}if(i.required&&delete r[i.name],i.validator){var s=i.validator(a);s&&n.addError("value violation, "+s,o)}}for(var u in r)n.addError("missing required field",u);return n},onParsingError:function(e){ae.parsingError=e}};c.prototype.addError=function(e,t){this.errors.push({field:t,reason:e})},c.prototype.addWarning=function(e,t){this.warnings.push({field:t,reason:e})},c.prototype.toString=function(){var e=function(e){for(var t="",n=0;n<e.length;n++)return t+="\n"+(e[n].field?"'"+e[n].field+"': ":"")+e[n].reason;return t},t="\n"+this.errors.length+" error(s):";return t+=e(this.errors),t+="\n"+this.warnings.length+" warning(s):",t+=e(this.warnings)};var se={parse:function(e,t,n,r,o){var i=function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()};e=e||{};for(var a=null!=n?n.split(t):[],s=0;s<a.length;s++){var c=a[s].split("=");if(2==c.length){var u,l=i(c[0]),d=i(c[1]),p=e[l.toLowerCase()];p?void 0===(u=p.parser)&&(u=oe.toString):u=oe.toString;try{r[l]=u(d)}catch(e){o&&o("'"+l+"': "+e)}}}}},ce=s.newBuilder().ignore("injectionTime").ignore("visualName").ignore("detectionScriptURI").str("reportURI",!0).bool("recordMouseMoves",!1).bool("recordScrolls",!1).bool("recordErrors",!1).bool("reportValidationErrors",!1).num("idleEventTimeInterval",!1).bool("botDetection",!1).bool("recordHovers",!1).bool("reportByPost",!1).num("maxPostReportSize",!1).num("reportPostInterval",!1).bool("postRetry",!1).bool("DOMBeaconImg",!1).num("reportInterval",!1).bool("reportAllOnUnload",!1).num("maxReportSize",!1).strarray("maskList",!1).strarray("maskClassList",!1).str("externalIdAttr",!1).bool("useIdSelectors",!1).bool("useNameInFormSelectors",!1).bool("preferNamesInFormSelectors",!1).strarray("noIdSelectorsForClassNames",!1).strarray("noIdSelectorsForIDs",!1).strarray("noIdSelectorsForAttrs",!1).bool("SCIntegration",!1).strarray("SCIntegrationURLsContainList",!1).strarray("SCIntegrationKeyList",!1).bool("reportAllResourcesLoad",!1).bool("reportExternalResources",!1).strarray("ignoreReportResourcesByTagNames",!1).strarray("reportScriptURLContainList",!1).strarray("reportScriptKeyList",!1).strarray("reportImageURLContainList",!1).strarray("reportImageKeyList",!1).bool("debugMode",!1).bool("traceMode",!1).bool("suppressMouseMovesDebug",!1).bool("visualNameDebug",!1).bool("timingMode",!1).num("maxReportsWithUnload",!1).num("minDragPixels",!1).bool("reportVisualNames",!1).num("titleCharsLimit",!1).num("maxTimeForIdleEvent",!1).num("validationValueForRenderTime",!1).bool("reportDebugInfo",!1).bool("supportNativeAutoComplete",!1).bool("recordEnterForInputs",!1).bool("recordTypingAll",!1).strarray("recordTypingForAttrs",!1).strarray("recordTypingForClasses",!1).strarray("recordTypingForIDs",!1).num("mmMaxMovesWithUnload",!1).num("mmMaxMovesInEventNoTimes",!1).num("mmMaxMovesInEventWithTimes",!1).num("mmMinStallingMoveTime",!1).num("mmMaxInMemoryMoves",!1).bool("mmDebug",!1).num("mhDeepLevel",!1).num("mhMaxListSize",!1).num("mhMaxInMemeoryHovers",!1).bool("mhDebug",!1).bool("dependentScroll",!1).num("minStallingScrollTime",!1).bool("scrollDebug",!1).bool("clsDebug",!1).num("clsDebugCharsLimit",!1).num("clsDebugMaxReports",!1).bool("domRecordEnabled",!1).strarray("domNewPageTriggers",!1).strarray("pageSnapshotTriggers",!1).num("domStartAfter",!1).num("domUpdateEveryWsMsgIn",!1).num("domRecordEnabledByChance",!1).str("domReportURI",!1).bool("domCompress",!1).strarray("domNewPageAjaxTriggers",!1).strarray("domIgnoredFormElements",!1).bool("semiDomEnabled",!1).strarray("ignorableElementIds",!1).bool("recordAjaxCallsAnyway",!1).bool("truncateEventsWithUnload",!1).bool("mmRecordTimes",!1).num("mmDiluteMinPixels",!1).bool("reportHybrid",!1).str("customTLD",!1).num("enabledByChance",!1).strarray("domCloningBannedIds",!1).strarray("domCloningBannedClasses",!1).str("reportEncoding",!1).bool("reportCompress",!1).str("maskingMode",!1).strarray("reportAddUriParams",!1).bool("recordConsoleErrors",!1).strarray("domMaskContentById",!1).strarray("domMaskContentByClass",!1).strarray("domMaskOmitById",!1).strarray("domMaskOmitByClass",!1).str("domKeepScriptMatching",!1).bool("domKeepComments",!1).num("domExpireSnapshotAfter",!1).bool("reportCorsForceSafelistedHeaders",!1).strarray("reportCorsTakeNativeCookies",!1).strarray("maskCookies",!1).bool("reportToStorageAfterUnload",!1).bool("domOmitAfterUnload",!1).bool("duplicateIdCheck",!1).strarray("domPartialWhenLocationContains",!1).strarray("blackoutWhenLocationContains",!1).bool("iframesAutoInject",!1).bool("iframesAssignContainerId",!1).bool("reportIncludeReferrer",!1).str("mobileHybridId",!1).bool("domAssignGlassboxId",!1).bool("recordWebSocket",!1).bool("interceptAjax",!1).bool("ajaxDebug",!1).bool("ajaxHashRecurrentUrls",!1).str("ajaxRecordMetadata",!1).str("ajaxRecordResponseBody",!1).str("ajaxRecordResponseHeaders",!1).str("ajaxRecordRequestBody",!1).str("ajaxRecordRequestHeaders",!1).bool("recordAjaxRequest",!1).bool("ajaxCaptureResponseHeaders",!1).num("ajaxCaptureResponseOnStatusGreater",!1).str("ajaxCaptureResponseContentWhenUrlMatches",!1).bool("ajaxCaptureFQDNOnly",!1).build();if(ee.detectorScript){var ue=ee.detectorScript.getAttribute("data-clsdelim")||";",le=ee.detectorScript.getAttribute("data-clsconfig");le&&se.parse(ce,ue,le,te,ae.onParsingError)}var de="undefined"!=typeof _cls_config?_cls_config:"undefined"!=typeof _config?_config:{};for(fe in de)de.hasOwnProperty(fe)&&(te[fe]=de[fe]);if(void 0!==te.enabledByChance&&(ee.disabled=!u(te.enabledByChance,"recording")),!te.domRecordEnabled&&void 0!==ne){var pe=ne(0,{chance:te.domRecordEnabledByChance,reportURI:te.domReportURI});for(var fe in pe)pe.hasOwnProperty(fe)&&(te[fe]=pe[fe])}!function(e){var t=/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent);e.reportToStorageAfterUnload||!t&&!function(){var e={IsIE:!1,TrueVersion:0,ActingVersion:0,CompatibilityMode:!1},t=navigator.userAgent.match(/Trident\/(\d+)/);t&&(e.IsIE=!0,e.TrueVersion=parseInt(t[1],10)+4);var n=navigator.userAgent.match(/MSIE (\d+)/);return n?(e.IsIE=!0,e.ActingVersion=parseInt(n[1])):e.ActingVersion=e.TrueVersion,e.IsIE&&e.TrueVersion>0&&e.ActingVersion>0&&(e.CompatibilityMode=e.TrueVersion!==e.ActingVersion),e}().CompatibilityMode||(e.reportToStorageAfterUnload=!0)}(te);var me=function(e,t){function n(e,t,n){n=(n||0)-1;for(var r=e?e.length:0;++n<r;)if(e[n]===t)return n;return-1}function r(){return A.pop()||{a:"",b:null,c:"",k:null,configurable:!1,enumerable:!1,false:!1,d:"",e:"",v:null,g:"",null:!1,number:null,z:null,push:null,h:null,string:null,i:"",true:!1,undefined:!1,j:!1,writable:!1}}function o(){}function i(e){e.length=0,x.length<R&&x.push(e)}function a(e){var t=e.k;t&&a(t),e.b=e.k=e.object=e.number=e.string=null,A.length<R&&A.push(e)}function s(){}function c(e,t,n){if("function"!=typeof e)return I;if(void 0===t)return e;var r=e.__bindData__||fe.funcNames&&!e.name;if(void 0===r){var o=O&&Q.call(e);fe.funcNames||!o||M.test(o)||(r=!0),(fe.funcNames||!r)&&(r=!O||O.test(o),me(e,r))}if(!0!==r&&r&&1&r[1])return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,o){return e.call(t,n,r,o)};case 4:return function(n,r,o,i){return e.call(t,n,r,o,i)}}return C(e,t)}function u(e,t,n,r,o,a){if(n&&void 0!==(p=n(e,t)))return!!p;if(e===t)return 0!==e||1/e==1/t;if(e===e&&!(e&&W[typeof e]||t&&W[typeof t]))return!1;if(null==e||null==t)return e===t;var s=te.call(e),c=te.call(t);if(s==L&&(s=H),c==L&&(c=H),s!=c)return!1;switch(s){case B:case F:return+e==+t;case P:return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case z:case V:return e==t+""}if(!(c=s==U)){if(Z.call(e,"__wrapped__")||Z.call(t,"__wrapped__"))return u(e.__wrapped__||e,t.__wrapped__||t,n,r,o,a);if(s!=H)return!1;var s=!fe.argsObject&&m(e)?Object:e.constructor,l=!fe.argsObject&&m(t)?Object:t.constructor;if(s!=l&&!(g(s)&&s instanceof s&&g(l)&&l instanceof l))return!1}for(l=!o,o||(o=x.pop()||[]),a||(a=x.pop()||[]),s=o.length;s--;)if(o[s]==e)return a[s]==t;var d=0,p=!0;if(o.push(e),a.push(t),c){if(s=e.length,d=t.length,!(p=d==e.length)&&!r)return p;for(;d--;)if(c=s,l=t[d],r)for(;c--&&!(p=u(e[c],l,n,r,o,a)););else if(!(p=u(e[d],l,n,r,o,a)))break;return p}return ye(t,function(t,i,s){return Z.call(s,i)?(d++,p=Z.call(e,i)&&u(e[i],t,n,r,o,a)):void 0}),p&&!r&&ye(e,function(e,t,n){return Z.call(n,t)?p=-1<--d:void 0}),l&&(i(o),i(a)),p}function l(e,t,n,r,o,i){var a=1&t,s=2&t,c=4&t,u=8&t,d=16&t,f=32&t,m=e;if(!s&&!g(e))throw new TypeError;d&&!n.length&&(t&=-17,d=n=!1),f&&!r.length&&(t&=-33,f=r=!1);var v=e&&e.__bindData__;if(v)return!a||1&v[1]||(v[4]=o),!a&&1&v[1]&&(t|=8),!c||4&v[1]||(v[5]=i),d&&$.apply(v[2]||(v[2]=[]),n),f&&$.apply(v[3]||(v[3]=[]),r),v[1]|=t,l.apply(null,v);if(!a||s||c||f||!(fe.fastBind||oe&&d))y=function(){var g=arguments,v=a?o:this;return(c||d||f)&&(g=le.call(g),d&&ne.apply(g,n),f&&$.apply(g,r),c&&g.length<i)?(t|=16,l(e,u?t:-4&t,g,null,o,i)):(s&&(e=v[m]),this instanceof y?(v=p(e.prototype),g=e.apply(v,g),h(g)?g:v):e.apply(v,g))};else{if(d){var E=[o];$.apply(E,n)}var y=d?oe.apply(e,E):oe.call(e,o)}return me(y,le.call(arguments)),y}function d(){var e=r();e.h=D,e.b=e.c=e.g=e.i="",e.e="t",e.j=!0;for(var t,n=0;t=arguments[n];n++)for(var o in t)e[o]=t[o];n=e.a,e.d=/^[^,]+/.exec(n)[0],t=Function,n="return function("+n+"){",o="var n,t="+e.d+",E="+e.e+";if(!t)return E;"+e.i+";",e.b?(o+="var u=t.length;n=-1;if("+e.b+"){",fe.unindexedChars&&(o+="if(s(t)){t=t.split('')}"),o+="while(++n<u){"+e.g+";}}else{"):fe.nonEnumArgs&&(o+="var u=t.length;n=-1;if(u&&p(t)){while(++n<u){n+='';"+e.g+";}}else{"),fe.enumPrototypes&&(o+="var G=typeof t=='function';"),fe.enumErrorProps&&(o+="var F=t===k||t instanceof Error;");var i=[];if(fe.enumPrototypes&&i.push('!(G&&n=="prototype")'),fe.enumErrorProps&&i.push('!(F&&(n=="message"||n=="name"))'),e.j&&e.f)o+="var C=-1,D=B[typeof t]&&v(t),u=D?D.length:0;while(++C<u){n=D[C];",i.length&&(o+="if("+i.join("&&")+"){"),o+=e.g+";",i.length&&(o+="}"),o+="}";else if(o+="for(n in t){",e.j&&i.push("m.call(t, n)"),i.length&&(o+="if("+i.join("&&")+"){"),o+=e.g+";",i.length&&(o+="}"),o+="}",fe.nonEnumShadows){for(o+="if(t!==A){var i=t.constructor,r=t===(i&&i.prototype),f=t===J?I:t===k?j:L.call(t),x=y[f];",k=0;7>k;k++)o+="n='"+e.h[k]+"';if((!(r&&x[n])&&m.call(t,n))",e.j||(o+="||(!x[n]&&t[n]!==A[n])"),o+="){"+e.g+"}";o+="}"}return(e.b||fe.nonEnumArgs)&&(o+="}"),o+=e.c+";return E",t=t("d,j,k,m,o,p,q,s,v,A,B,y,I,J,L",n+o+"}"),a(e),t(c,j,G,Z,N,m,ge,v,e.f,K,W,pe,V,Y,te)}function p(e){return h(e)?ie(e):{}}function f(){var e=(e=s.indexOf)===S?n:e;return e}function m(e){return!(!e||"object"!=typeof e)&&te.call(e)==L}function g(e){return"function"==typeof e}function h(e){return!(!e||!W[typeof e])}function v(e){return"string"==typeof e||te.call(e)==V}function E(e,t,n){var r=-1,o=f(),i=e?e.length:0,a=!1;return n=(0>n?ce(0,i+n):n)||0,ge(e)?a=-1<o(e,t,n):"number"==typeof i?a=-1<(v(e)?e.indexOf(t,n):o(e,t,n)):Ee(e,function(e){return++r<n?void 0:!(a=e===t)}),a}function y(e,t,n){var r=[];if(t=s.createCallback(t,n,3),ge(e)){n=-1;for(var o=e.length;++n<o;){var i=e[n];t(i,n,e)&&r.push(i)}}else Ee(e,function(e,n,o){t(e,n,o)&&r.push(e)});return r}function b(e,t,n){if(t&&void 0===n&&ge(e)){n=-1;for(var r=e.length;++n<r&&!1!==t(e[n],n,e););}else Ee(e,t,n);return e}function _(e,t,n){var r=-1,o=e?e.length:0,i=Array("number"==typeof o?o:0);if(t=s.createCallback(t,n,3),ge(e))for(;++r<o;)i[r]=t(e[r],r,e);else Ee(e,function(e,n,o){i[++r]=t(e,n,o)});return i}function T(e,t,n,r){var o=3>arguments.length;if(t=c(t,r,4),ge(e)){var i=-1,a=e.length;for(o&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e)}else Ee(e,function(e,r,i){n=o?(o=!1,e):t(n,e,r,i)});return n}function S(e,t,r){if("number"==typeof r){var o=e?e.length:0;r=0>r?ce(0,o+r):r||0}else if(r)return r=w(e,t),e[r]===t?r:-1;return n(e,t,r)}function w(e,t,n,r){var o=0,i=e?e.length:o;for(t=(n=n?s.createCallback(n,r,1):I)(t);o<i;)r=o+i>>>1,n(e[r])<t?o=r+1:i=r;return o}function C(e,t){return 2<arguments.length?l(e,17,le.call(arguments,2),null,t):l(e,1,null,null,t)}function I(e){return e}var x=[],A=[],N={},R=40,M=/^function[ \n\r\t]+\w/,O=(O=/\bthis\b/)&&O.test(function(){return this})&&O,D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),L="[object Arguments]",U="[object Array]",B="[object Boolean]",F="[object Date]",j="[object Error]",P="[object Number]",H="[object Object]",z="[object RegExp]",V="[object String]",W={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},q=W[typeof e]&&e||this,X=[],G=Error.prototype,K=Object.prototype,Y=String.prototype,J=RegExp("^"+(K.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),Q=Function.prototype.toString,Z=K.hasOwnProperty,$=X.push,ee=K.propertyIsEnumerable,te=K.toString,ne=X.unshift,re=function(){try{var e={},t=J.test(t=Object.defineProperty)&&t,n=t(e,e,e)&&t}catch(e){}return n}(),oe=J.test(oe=te.bind)&&oe,ie=J.test(ie=Object.create)&&ie,ae=J.test(ae=Array.isArray)&&ae,se=J.test(se=Object.keys)&&se,ce=Math.max,ue=Math.min,le=X.slice,q=J.test(q.attachEvent),de=oe&&!/\n|true/.test(oe+q),pe={};pe[U]=pe[F]=pe[P]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},pe[B]=pe[V]={constructor:!0,toString:!0,valueOf:!0},pe[j]=pe["[object Function]"]=pe[z]={constructor:!0,toString:!0},pe[H]={constructor:!0},function(){for(var e=D.length;e--;){var t,n=D[e];for(t in pe)Z.call(pe,t)&&!Z.call(pe[t],n)&&(pe[t][n]=!1)}}();var fe=s.support={};!function(){var e=function(){this.x=1},t={0:1,length:1},n=[];e.prototype={valueOf:1,y:1};for(var r in new e)n.push(r);for(r in arguments);fe.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),fe.argsClass=te.call(arguments)==L,fe.enumErrorProps=ee.call(G,"message")||ee.call(G,"name"),fe.enumPrototypes=ee.call(e,"prototype"),fe.fastBind=oe&&!de,fe.funcNames="string"==typeof Function.name,fe.nonEnumArgs=0!=r,fe.nonEnumShadows=!/valueOf/.test(n),fe.spliceObjects=(X.splice.call(t,0,1),!t[0]),fe.unindexedChars="xx"!="x"[0]+Object("x")[0]}(1),ie||(p=function(e){if(h(e)){o.prototype=e;var t=new o;o.prototype=null}return t||{}});var me=re?function(e,t){var n=r();n.value=t,re(e,"__bindData__",n),a(n)}:o;fe.argsClass||(m=function(e){return!(!e||"object"!=typeof e)&&Z.call(e,"callee")});var ge=ae||function(e){return!(!e||"object"!=typeof e)&&te.call(e)==U},he=d({a:"z",e:"[]",i:"if(!(B[typeof z]))return E",g:"E.push(n)"}),ve=se?function(e){return h(e)?fe.enumPrototypes&&"function"==typeof e||fe.nonEnumArgs&&e.length&&m(e)?he(e):se(e):[]}:he,q={i:"if(!B[typeof t])return E;"+(ae={a:"g,e,K",i:"e=e&&typeof K=='undefined'?e:d(e,K,3)",b:"typeof u=='number'",v:ve,g:"if(e(t[n],n,g)===false)return E"}).i,b:!1},Ee=d(ae),ye=d(ae,q,{j:!1}),ae=d(ae,q);return g(/x/)&&(g=function(e){return"function"==typeof e&&"[object Function]"==te.call(e)}),s.bind=C,s.createCallback=function(e,t,n){var r=typeof e;if(null==e||"function"==r)return c(e,t,n);if("object"!=r)return function(t){return t[e]};var o=ve(e),i=o[0],a=e[i];return 1!=o.length||a!==a||h(a)?function(t){for(var n=o.length,r=!1;n--&&(r=u(t[o[n]],e[o[n]],null,!0)););return r}:function(e){return e=e[i],a===e&&(0!==a||1/a==1/e)}},s.filter=y,s.forEach=b,s.forIn=ye,s.forOwn=ae,s.keys=ve,s.map=_,s.pluck=_,s.collect=_,s.each=b,s.select=y,s.contains=E,s.identity=I,s.indexOf=S,s.isArguments=m,s.isArray=ge,s.isFunction=g,s.isNumber=function(e){return"number"==typeof e||te.call(e)==P},s.isObject=h,s.isString=v,s.isUndefined=function(e){return void 0===e},s.lastIndexOf=function(e,t,n){var r=e?e.length:0;for("number"==typeof n&&(r=(0>n?ce(0,r+n):ue(n,r-1))+1);r--;)if(e[r]===t)return r;return-1},s.reduce=T,s.sortedIndex=w,s.foldl=T,s.include=E,s.inject=T,s.last=function(e,t,n){var r=0,o=e?e.length:0;if("number"!=typeof t&&null!=t){var i=o;for(t=s.createCallback(t,n,3);i--&&t(e[i],i,e);)r++}else if(null==(r=t)||n)return e?e[o-1]:void 0;for(t=ce(0,o-r),r=void 0,t||(t=0),void 0===r&&(r=e?e.length:0),n=-1,r=r-t||0,o=Array(0>r?0:r);++n<r;)o[n]=e[t+n];return o},s.VERSION="2.0.0",s}(this),ge={MAX_DEPTH_THRESHOLD:20,tryGetCurrentDepth:function(e,t){var n=0,r=e;try{for(;r.parent!=r&&n<=this.MAX_DEPTH_THRESHOLD;)r=r.parent,n++}catch(e){return ve.log("could not retrieve current window's depth (a CORS issue?) pageId:"+t+" error:"+e),-1}return n>this.MAX_DEPTH_THRESHOLD?(ve.log("nested iframe level calculation exceeded maximal threshold ("+this.MAX_DEPTH_THRESHOLD+")."),-1):n},isCrossOriginFrame:function(e,t){try{if(!t.contentWindow)return!1;var n=t.getAttribute("src");if(!n)return!1;var r=ve.extractHostname(n);return!!r&&e.location.hostname!==r}catch(e){return!0}},isEmpty:function(e){return!e.contentDocument||!e.contentDocument.body.hasChildNodes()},bfsVisitFrames:function(e,t){try{for(var n,r=Array.prototype.concat.apply([],e.document.getElementsByTagName("iframe"));r.length>0;){n=r.shift();try{t(n)&&(r=Array.prototype.concat.apply(r,n.contentDocument.getElementsByTagName("iframe")))}catch(e){util.log("error during BFS iframe scanning (ignoring, skipping any child frames). error:"+e)}}}catch(e){util.log("error during BFS iframe scanning: could not access iframes of target window's document. error:"+e)}}};d.CONTAINER_ID_ATTRIBUTE="_gb_cid";var he=new l,ve={consoleTimingSupported:window.console&&window.console.time&&window.console.timeEnd&&window.console.timeStamp,hasNativeStartsWith:me.isFunction(String.prototype.startsWith),currentTimestamp:me.isFunction(Date.now)&&me.isNumber(Date.now())?Date.now:function(){return(new Date).getTime()},isElement:function(e){return"hasAttribute"in e},isDOMElement:function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},hasMutationObserver:function(){return"undefined"!=typeof MutationObserver||"undefined"!=typeof WebKitMutationObserver},isOldIE:function(){return!n.addEventListener},hasTouch:function(){return"ontouchstart"in window},isChromeDesktop:function(){var e=navigator.userAgent,t=/Android|webOS|iPhone|iPad|iPod|Windows Phone|IEMobile|Opera Mini|Mobile|mobile|Tablet|CriOS/i.test(e),n=/Chrome/i.test(e);return!t&&n},getAttributeForElement:function(e,t){if(!e||!ve.isElement(e))return null;var n;return e.hasAttribute(t.toLocaleLowerCase())?n=e.getAttribute(t.toLocaleLowerCase()):e.hasAttribute(t.toLocaleUpperCase())&&(n=e.getAttribute(t.toLocaleUpperCase())),n&&(n=ve.trim(n)),n||null},getElementId:function(e){return e&&e.id?me.isString(e.id)?e.id:e.getAttribute("id"):null},isDuplicateElementId:function(e){if(!te.duplicateIdCheck)return!1;try{return"querySelectorAll"in n&&n.querySelectorAll("[id='"+e+"']").length>1}catch(e){return!1}},getMouseEnterTarget:function(){return"onmouseenter"in n?n:"onmouseenter"in window?window:n.body},hasTimingAPI:function(){return!me.isUndefined(window.performance)&&!me.isUndefined(window.performance.timing)},startsWith:function(e,t){return!(!me.isString(e)||!me.isString(t))&&(ve.hasNativeStartsWith?e.startsWith(t):e.slice(0,t.length)===t)},truncateStr:function(e,t,n){var r=e;return e&&e.length>t&&(r=e.substr(0,t),n&&(r=r.concat("..."))),r},getCoordinate:function(e){var t=e.changedTouches||e.touches,r=t&&t.length>0?t[0]:e,o=ve.extractElementFromEvent(e);return ve.isHybrid()||"HTML"===o.nodeName.toUpperCase()?new C(r.clientX,r.clientY):me.isUndefined(r.pageX)||me.isUndefined(r.pageY)?new C(e.clientX+n.body.scrollLeft+n.documentElement.scrollLeft,e.clientY+n.body.scrollTop+n.documentElement.scrollTop):new C(r.pageX,r.pageY)},getScrollTopLeft:function(){try{var e=null!==window.top&&window.top!==window.self?window.top:window;return{top:void 0!==e.pageYOffset?e.pageYOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollTop,left:void 0!==e.pageXOffset?e.pageXOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollLeft}}catch(e){return ve.log("Failed getting scroll values: "+e.message,e),{top:0,left:0}}},getElementXYCoordinates:function(e){if(!e)return null;if(!("getBoundingClientRect"in e))return null;var t=e.getBoundingClientRect(),n=ve.getScrollTopLeft();return new C(Math.round(t.left+n.left),Math.round(t.top+n.top))},isSameCoordinates:function(e,t){return e.x===t.x&&e.y===t.y},isCoordinatesDistLargerThan:function(e,t,n){return Math.abs(e.x-t.x)>n||Math.abs(e.y-t.y)>n},getCurrentScrollReach:function(){try{var e=null!==window.top&&window.top!==window.self?window.top:window;return(void 0!==e.pageYOffset?e.pageYOffset:(e.document.documentElement||e.document.body.parentNode||e.document.body).scrollTop)+(e.innerHeight||e.document.documentElement.clientHeight||e.document.body.clientHeight)}catch(e){return ve.log("Failed getting scroll reach: "+e.message,e),0}},getWindowSize:function(){return me.isNumber(window.innerWidth)&&me.isNumber(window.innerHeight)?ve.validateSize(window.innerWidth,window.innerHeight):!me.isUndefined(n.body)&&me.isNumber(n.body.offsetWidth)&&me.isNumber(n.body.offsetHeight)?ve.validateSize(n.body.offsetWidth,n.body.offsetHeight):null},getScreenSize:function(){return ve.validateSize(screen.width,screen.height)},validateSize:function(e,t){return me.isNumber(e)&&me.isNumber(t)?{width:e,height:t}:null},indexOfNode:function(e,t,n){for(var r=n||0;r<e.length;r++)if(e[r]===t)return r;return-1},getLocationUrlSplitByHash:function(){var e=window.location.href,t=e.indexOf("#");return-1===t?{url:e,withoutHash:e,hash:null}:{url:e,withoutHash:e.slice(0,t),hash:e.slice(t+1,e.length)}},getHashFromUrl:function(e){var t=e.indexOf("#");return-1===t?"":e.slice(t+1,e.length)},stripHash:function(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)},getReferrerUrlWithoutHash:function(){var e=window.document.referrer;if(!e||0===e.length)return null;var t=e.indexOf("#");return-1!==t?e.slice(0,t):e},encodeAsBase:function(e,t){return e.toString(t)},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},addEventHandler:function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r):e.attachEvent&&e.attachEvent("on"+t,n)},removeEventHandler:function(e,t,n){me.isUndefined(e.removeEventListener)?me.isUndefined(e.detachEvent)||e.detachEvent("on"+t,n):e.removeEventListener(t,n,!0)},extractElementFromEvent:function(e){void 0===e&&(e=window.event);var t=e.target||e.srcElement;return null===t||void 0===t?null:3===t.nodeType?t.parentNode:t},eventDetectionTagNames:{select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",unload:"img",abort:"img",readystatechange:"XMLHttpRequest"},isEventSupported:function(e){var t="on"+e;if(t in window||t in window.document)return!0;var r=n.createElement(ve.eventDetectionTagNames[t]||"div"),o=t in r;return o||(r.setAttribute(t,"return;"),o=me.isFunction(r[t])),r=null,o||ve.log(e+" is not supported."),o},isConsoleSupported:function(){return!me.isUndefined(window.console)&&me.isFunction(window.console.log)},getReason:function(e){return me.isString(e)?"("+e+")":"(not specified)"},hashcode:function(e){var t=0;if(0===e.length)return t;for(var n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t&=t;return t},trim:function(e){return"function"!=typeof String.prototype.trim?e.replace(/^\s+|\s+$/g,""):e.trim()},log:function(){if(!me.isUndefined(te.debugMode)&&te.debugMode){var e=Array.prototype.slice.call(arguments,0);if(e.unshift(ve.currentTimestamp()),!0===we.page.frame&&e.push(" (in frame "+we.page.id+")"),ve.isConsoleSupported())console.log.apply(console,e);else if(!me.isUndefined(window.console.log)){var t=e.join(" ");console.log(t)}}},trace:function(){te.traceMode&&ve.log.apply(this,arguments)},time:function(e){te.timingMode&&ve.consoleTimingSupported&&window.console.time(e)},timeEnd:function(e){te.timingMode&&ve.consoleTimingSupported&&window.console.timeEnd(e)},timeStamp:function(e){te.timingMode&&ve.consoleTimingSupported&&window.console.timeStamp(e)},isMaskedElement:function(e){var t=ve.getElementId(e);return"password"===e.type||me.contains(te.maskList,t)||e.hasAttribute(ee.maskingAttribute)},extractDomain:function(e){var t;return e?(t=e.indexOf("://")>-1?e.split("/")[2]:e.split("/")[0],t=t.split(":")[0]):null},hasOneOfClassNames:function(e,t){for(var n=" "+ve.getClass(e)+" ",r=0;r<t.length;r++)if(n.indexOf(" "+t[r]+" ")>-1)return!0;return!1},getClass:function(e){return e.getAttribute&&e.getAttribute("class")||""},getClassList:function(e){var t=ve.getClass(e);return t?t.split(" "):[]},hasClassName:function(e,t){return(" "+ve.getClass(e)+" ").indexOf(" "+t+" ")>-1},getHybridType:function(){return"undefined"==typeof eyeViewHybridBridge?null:eyeViewHybridBridge.getHybridType()},isHybrid:function(){return"undefined"!=typeof eyeViewHybridBridge},isHybridAndroid:function(){return ve.isHybrid()&&ve.getHybridType()===eyeViewHybridBridge.HYBRID_ANDROID},isHybridIOS:function(){return ve.isHybrid()&&ve.getHybridType()===eyeViewHybridBridge.HYBRID_IOS},immutableSet:function(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=!0;return e},DOMElement2Str:function(e){return e instanceof CharacterData?e.textContent:e.outerHTML},currentTimeStamp:function(){return(new Date).getTime()},isAttachedToDOM:function(e){for(;e;){if(e===n)return!0;e=e.parentNode}return!1},ensureProperty:function(e){for(var t=Array.prototype.slice.call(arguments,1),n=e,r=0;r<t.length;r++)n.hasOwnProperty(t[r])||(n[t[r]]={}),n=n[t[r]];return n},readCookie:function(e){var t,r,o=e+"=",i=n.cookie.split(";");for(t=0;t<i.length;t++)if(0===(r=ve.trim(i[t])).indexOf(o))return r.substring(o.length,r.length);return null},shallowExtend:function(e,t){var n,r={};for(n in e)r[n]=e[n];for(n in t)r[n]=t[n];return r},isEmpty:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},extractHostname:function(e){return function(t){return e.href=t,e.hostname}}(n.createElement("a")),toAbsoluteUrl:function(e,t){var n=e.createElement("a");return n.href=t,n.href},bus:he},Ee=function(){function e(){this.readyState=XMLHttpRequest.UNSENT,this.status=o,this.xdr=new XDomainRequest,this.xdr.onprogress=function(){},this.xdr.ontimeout=function(){};var e=this;this.xdr.onload=function(){e.status=200,e.readyState=XMLHttpRequest.DONE,e.onreadystatechange&&e.onreadystatechange()},this.xdr.onerror=function(){e.status=400,e.readyState=XMLHttpRequest.DONE,e.onreadystatechange&&e.onreadystatechange()}}e.prototype.open=function(e,t){-1===t.indexOf("://")&&(t=location.protocol+"//"+location.hostname+(t.startsWith("/")?"":"/")+t),this.xdr.open(e,t),this.readyState=XMLHttpRequest.OPENED,this.onreadystatechange&&this.onreadystatechange()},e.prototype.send=function(e){this.xdr.send(e),this.readyState=XMLHttpRequest.LOADING,this.onreadystatechange&&this.onreadystatechange()},e.prototype.setRequestHeader=function(){};var t=[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}];void 0!==window.XDomainRequest&&/(msie 8\.0|msie 9\.0)/i.test(window.navigator.userAgent)&&t.unshift(function(){return new e});var n=null,r=function(e){var t=e();return t.cls_own=!0,t};return{createXMLHTTPObject:function(){if(n)return r(n);var e,o;for(e=0;e<t.length;e++)try{return o=r(t[e]),n=t[e],o}catch(e){continue}return o}}}();!function(e,t){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",r=function(e){for(var t={},n=0,r=e.length;n<r;n++)t[e.charAt(n)]=n;return t}(n),o=String.fromCharCode,i=function(e){var t=e.charCodeAt(0);return t<128?e:t<2048?o(192|t>>>6)+o(128|63&t):o(224|t>>>12&15)+o(128|t>>>6&63)+o(128|63&t)},a=function(e){return e.replace(/[^\x00-\x7F]/g,i)},s=function(e){var t=[0,2,1][e.length%3],r=e.charCodeAt(0)<<16|(e.length>1?e.charCodeAt(1):0)<<8|(e.length>2?e.charCodeAt(2):0);return[n.charAt(r>>>18),n.charAt(r>>>12&63),t>=2?"=":n.charAt(r>>>6&63),t>=1?"=":n.charAt(63&r)].join("")},c=e.btoa.bind(e)||function(e){return e.replace(/[\s\S]{1,3}/g,s)},u=function(e){return c(a(e))},l=function(e,t){return t?u(e).replace(/[+\/]/g,function(e){return"+"==e?"-":"_"}):u(e)},d=function(e){return l(e,!0)},p=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}/g,f=function(e){return o(e.length<3?(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1):(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2))},m=function(e){return e.replace(p,f)},g=function(e){var t=e.length,n=t%4,i=(t>0?r[e.charAt(0)]<<18:0)|(t>1?r[e.charAt(1)]<<12:0)|(t>2?r[e.charAt(2)]<<6:0)|(t>3?r[e.charAt(3)]:0),a=[o(i>>>16),o(i>>>8&255),o(255&i)];return a.length-=[0,0,2,1][n],a.join("")},h=e.atob.bind(e)||function(e){return e.replace(/[\s\S]{1,4}/g,g)},v=function(e){return m(h(e))},E=function(e){return v(e.replace(/[-_]/g,function(e){return"-"==e?"+":"/"}).replace(/[^A-Za-z0-9\+\/]/g,""))},y=function(e){for(var t,r="",o=0;o<e.length;o+=3)t=(252&e[o])>>2,r+=n.charAt(t),t=(3&e[o])<<4,o+1<e.length?(t|=(240&e[o+1])>>4,r+=n.charAt(t),t=(15&e[o+1])<<2,o+2<e.length?(t|=(192&e[o+2])>>6,r+=n.charAt(t),t=63&e[o+2],r+=n.charAt(t)):(r+=n.charAt(t),r+="=")):(r+=n.charAt(t),r+="==");return r};t.Base64={atob:h,btoa:c,fromBase64:E,toBase64:l,bytesToBase64:y,utob:a,encode:l,encodeURI:d,btou:m,decode:E}}(window,ve),f.prototype.put=function(e,t){var n={key:e,value:t};if(this._keymap[e]=n,this.tail?(this.tail.newer=n,n.older=this.tail):this.head=n,this.tail=n,this.size===this.limit)return this.shift();this.size++},f.prototype.shift=function(){var e=this.head;return e&&(this.head.newer?(this.head=this.head.newer,this.head.older=o):this.head=o,e.newer=e.older=o,delete this._keymap[e.key]),e},f.prototype.get=function(e,t){var n=this._keymap[e];if(n!==o)return n===this.tail?t?n:n.value:(n.newer&&(n===this.head&&(this.head=n.newer),n.newer.older=n.older),n.older&&(n.older.newer=n.newer),n.newer=o,n.older=this.tail,this.tail&&(this.tail.newer=n),this.tail=n,t?n:n.value)},f.prototype.find=function(e){return this._keymap[e]},f.prototype.set=function(e,t){var n,r=this.get(e,!0);return r?(n=r.value,r.value=t):(n=this.put(e,t))&&(n=n.value),n},f.prototype.toString=function(){for(var e="",t=this.head;t;)e+=String(t.key)+":"+t.value,(t=t.newer)&&(e+=" < ");return e},ee.dictionary={eventTypes:{change:0,document:2,mousedown:3,touchstart:4,touchend:5,focusout:6,blur:7,unload:9,submit:10,reset:11,mouseup:12,drag:13,scroll:14,popstate:15,keydown:16,keyup:17,keypress:18,timing:20,idle:21,ajaxRequest:22,formValidationError:23,hashchange:25,botDetection:26,mouseenter:27,navigation:28,mousemove:29,error:30,thirdparty:31,custom:32,hover:33,thirdpartymap:34,performance:35,resource:36,clsdebug:37,resize:38,webSocketOpen:50,webSocketClose:51,webSocketError:52,webSocketFrame:53,pageSnapshot:91,pageUpdate:92,resourceContent:93,blackout:101,segmentChanged:102,titleChanged:103},elements:{DIV:0,SPAN:1,INPUT:2,FORM:3,SELECT:4,TEXTAREA:5,TABLE:6,TR:7,TD:8,IFRAME:9,TBODY:10,THEAD:11,LABEL:12},encodingTypes:{cd_number:0,cd_boolean:1,cd_string:2,cd_coordinate:3},performanceTimingEvents:{navigationStart:1,redirectStart:2,fetchStart:4,domainLookupStart:5,connectStart:7,secureConnectionStart:8,requestStart:10,responseStart:13,domLoading:15,domContentLoadedEventStart:17,domComplete:19,loadEventStart:20,loadEventEnd:21},encode:function(e,t){var n=t[e];return n!==o?n:e},encodeEventType:function(e){return ee.dictionary.encode(e,ee.dictionary.eventTypes)},encodeNodeName:function(e){return ee.dictionary.encode(e,ee.dictionary.elements)},encodeEncodingType:function(e){return ee.dictionary.encode(e,ee.dictionary.encodingTypes)},encodePerformanceTimingMeasurement:function(e){return ee.dictionary.encode(e,ee.dictionary.performanceTimingEvents)}},m.MAX_ENTRIES=150,m.DirectionType={BACK:1,FORWARD:2},m.UrlType={FUlL_URL:1,HASH_ONLY:2},g.EVENTS={BlackoutEnter:"BlackoutEnter",BlackoutLeave:"BlackoutLeave"},g.ALWAYS_FALSE=function(){return!1};var ye={severity:{ERROR:0,WARN:1,INFO:2,DEBUG:3},types:{GENERAL_ERR:{code:100,count:0},INVALID_TIMING_ERR:{code:101,count:0},TOP_WINDOW_SIZE_ERR:{code:102,count:0},WINDOW_SIZE_NOT_VALID_ERR:{code:103,count:0},KEREN_ERR:{code:104,count:0}},currentDebugInfo:null,registerError:function(e,t){ye.registerDebugInfo(ye.severity.ERROR,e,t)},registerErrorAndLog:function(e,t){ye.registerDebugInfoAndLog(ye.severity.ERROR,e,t)},registerDebugInfoAndLog:function(e,t,n){ye.registerDebugInfo(e,t,n),ve.log(n)},registerDebugInfo:function(e,t,n){t.count++,null===ye.currentDebugInfo&&(ye.currentDebugInfo=new h(e,t.code,t.count,n))},getRegisteredDebugInfo:function(e){var t=ye.currentDebugInfo;return null===t||me.isUndefined(t)?null:(e&&ye.clearDebugInfo(),t)},clearDebugInfo:function(){ye.currentDebugInfo=null},setRegisteredDebugInfoOnEvent:function(e){if(null===e.getDebugInfo()||me.isUndefined(e.getDebugInfo())){var t=ye.getRegisteredDebugInfo(!0);null!==t&&void 0!==t&&e.setDebugInfo(t)}},setErrorOnEvent:function(e,t,n){ye.setDebugInfoOnEvent(e,ye.severity.ERROR,t,n)},setErrorOnEventAndLog:function(e,t,n,r){ye.setDebugInfoOnEvent(e,ye.severity.ERROR,t,n),r?ve.log(n,r):ve.log(n)},setWarnOnEvent:function(e,t,n){ye.setDebugInfoOnEvent(e,ye.severity.WARN,t,n)},setDebugInfoOnEvent:function(e,t,n,r){if(null===e||me.isUndefined(e))ve.log("Failed setting debug on non-existing event");else{var o=new h(t,n.code,n.count,r);e.setDebugInfo(o)}}},be={specialChar:{tilda:"_clstil",asterisks:"_clsast",space:"_clsspc"},shouldEncode:ee.encodeSelectors,getSelectorExpression:function(e,t,n){this.shouldEncode=void 0!==t?t:ee.encodeSelectors,n=n||{useId:!0};var r=te.useIdSelectors&&n.useId;if(null===e||me.isUndefined(e)||!ve.isElement(e))return ee.encoding.rootSelector;if(e.name&&te.preferNamesInFormSelectors&&this.hasFormAncestor(e))return this.getElementWithAttribute(e,"name");if(r){var o=ve.getElementId(e);if(o&&!ve.isDuplicateElementId(o)&&be.checkAllowUseId(e,o))return this.getElementNameWithId(e,!0)}if(e.name&&te.useNameInFormSelectors&&this.hasFormAncestor(e))return this.getElementWithAttribute(e,"name");for(var i=[this.getElementNameWithClasses(e)],a=e,s=this.shouldEncode?"*":">";a.parentNode&&!this.isRoot(a);)if(1===(a=a.parentNode).nodeType){var c=ve.getElementId(a);if(c&&r&&!ve.isDuplicateElementId(c)&&be.checkAllowUseId(a,c))return this.addToHeadIfFound(i,this.getElementNameWithId(a,!1)),i.join(s);var u=this.getElementNameWithClasses(a);if(this.addToHeadIfFound(i,u),a===parent)return i.join(s)}return i.join(s)},getElementNameWithClasses:function(e){if(this.isRoot(e))return this.shouldEncode?ee.encoding.rootSelector:"BODY";var t=this.encodeNodeName(e.nodeName),n=this.getSiblingIndex(e);if(null!==n)return this.encodeElementNameAndSiblingIndex(t,n);if(ee.useClassesInSelectors){var r=ve.getClassList(e);if(r.length>0){for(var o=t,i=0;i<r.length;i++)o+="."+r[i];return o}}return t},getSiblingIndex:function(e){if(!e.parentNode)return null;var t=e.parentNode.childNodes;if(t.length<2)return null;for(var n=e.nodeName,r=[],o=0;o<t.length;o+=1)t[o].nodeName===n&&r.push(t[o]);if(r.length<2)return null;for(var i=0;i<r.length;i+=1)if(r[i]===e)return i;return null},getElementNameWithId:function(e,t){if(this.isRoot(e))return null;var n=ve.getElementId(e);return(n&&-1!==n.indexOf("~")||-1!==n.indexOf("*")||-1!==n.indexOf(" "))&&(n=this.replaceSpecialChars(n)),t?this.encodeNodeName(e.nodeName)+"#"+n:"#"+n},addToHeadIfFound:function(e,t){var n=typeof t;"string"!=n&&"number"!=n||e.unshift(t)},encodeElementNameAndSiblingIndex:function(e,t){var n=e;return this.shouldEncode||(n+=":eq"),n+"("+t+")"},encodeNodeName:function(e){return this.shouldEncode?ee.dictionary.encodeNodeName(e):e},isRoot:function(e){var t=e.nodeName;return"HTML"===t||"BODY"===t},replaceSpecialChars:function(e){return e.replace(/~/g,this.specialChar.tilda).replace(/\*/g,this.specialChar.asterisks).replace(/ /g,this.specialChar.space)},hasFormAncestor:function(e){for(var t=e.parentNode;null!==t;){if(void 0===t&&console.log("hasFormAncestor undefined node: ",e),"FORM"===t.nodeName)return!0;t=t.parentNode}return!1},getElementWithAttribute:function(e,t){var n="["+t+"="+e.getAttribute(t)+"]";return-1===n.indexOf("~")&&-1===n.indexOf("*")&&-1===n.indexOf(" ")||(n=this.replaceSpecialChars(n)),this.encodeNodeName(e.nodeName)+n},checkAllowUseId:function(e,t){if(0===te.noIdSelectorsForClassNames.length&&0===te.noIdSelectorsForIDs.length&&0===te.noIdSelectorsForAttrs.length)return!0;var n,r=ve.getClassList(e);for(n=0;n<te.noIdSelectorsForClassNames.length;n++)if(me.indexOf(r,te.noIdSelectorsForClassNames[n])>0)return!1;for(n=0;n<te.noIdSelectorsForAttrs.length;n++)if(e.hasAttribute(te.noIdSelectorsForAttrs[n]))return!1;for(n=0;n<te.noIdSelectorsForIDs.length;n++){var o=te.noIdSelectorsForIDs[n];if(o&&t.indexOf(o)>=0)return!1}return!0}},_e={shouldListenToLoadResources:function(){return!(!te.reportAllResourcesLoad&&!te.reportExternalResources)||(te.reportScriptURLContainList.length>0&&te.reportScriptKeyList.length>0||te.reportImageURLContainList.length>0&&te.reportImageKeyList.length>0)},filterLoad:function(e){if(!e)return!0;var t=e.nodeName.toUpperCase();if("STYLE"===t)return!0;if(me.indexOf(te.ignoreReportResourcesByTagNames,t)>=0)return!0;if("IFRAME"===t&&e.src.indexOf("eyeviewevent")>=0)return ve.log("filtering hybrid iOS loading iframe event: ",e.src),!0;if(te.reportAllResourcesLoad)return!1;var n=e.src||e.href;return(!te.reportExternalResources||!_e.isExternalResource(n,e))&&("SCRIPT"===t&&te.reportScriptURLContainList.length>0?!_e.isUrlToReport(n,te.reportScriptURLContainList):!("IMG"===t&&te.reportImageURLContainList.length>0)||!_e.isUrlToReport(n,te.reportImageURLContainList))},interceptLoad:function(e){var t=e.element.nodeName;we.addResource(t,e.value,e.timestamp).event=e;var n=e.element.src||e.element.href;if(!n)return!1;if(0===n.indexOf("data:"))return!1;var r=null;if("SCRIPT"===t&&te.reportScriptURLContainList.length>0?_e.isUrlToReport(n,te.reportScriptURLContainList)&&(r=_e.parseToKVMap(n,te.reportScriptKeyList)):"IMG"===t&&te.reportImageURLContainList.length>0&&_e.isUrlToReport(n,te.reportImageURLContainList)&&(r=_e.parseToKVMap(n,te.reportImageKeyList)),r){ve.trace("intercepted thirdparty resource parameters map for url: "+n);var o={value:r};we.saveThirdPartyMapEvent(o)}return!!te.reportAllResourcesLoad||!(!te.reportExternalResources||!_e.isExternalResource(n,e.element))},isUrlToReport:function(e,t){if(void 0===e||null===e)return!1;var n=e.indexOf("?");if(-1===n)return!1;e=e.substr(0,n);for(var r=0;r<t.length;r++)if(e.indexOf(t[r])>=0)return!0;return!1},parseToKVMap:function(e,t){for(var n,r,o={},i=e.substring(e.indexOf("?")+1).split("&"),a=!1,s=0;s<i.length;s++){var c=i[s],u=c.indexOf("=");try{if(n=decodeURIComponent(c.substr(0,u)),!me.contains(t,n))continue;r=decodeURIComponent(c.substr(u+1)),o[n]=r,a=!0}catch(e){ve.log("Error in ResourceHandler: Failed parsing a key-value pair "+(n?"[key="+n+"]":"")+" : "+c,e)}}return a?o:null},isExternalResource:function(e,t){if(!e)return!1;if(void 0!==t._cls_external_res)return t._cls_external_res;var n=window.location.hostname,r=ve.extractDomain(e);return t._cls_external_res=r!==n,t._cls_external_res}},Te={state:{currentlyEncodedPageEvent:null},compress:function(e){return ve.pako.gzip(e)},encodePageDetails:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];return e.frame&&t(n,"t",e.frame?"f":"p"),t(n,"u",Te.encodeHashCode(e.urlWithoutHash)),e.hash&&t(n,"h",ve.Base64.encode(e.hash)),we.state.lastSizes.window=Te.captureWindowSize(),we.state.lastSizes.screen=Te.captureScreenSize(),t(n,"s",Te.encodeResolution(we.state.lastSizes.window)),t(n,"sc",Te.encodeResolution(we.state.lastSizes.screen)),e.referrerWithoutHash&&t(n,"r",Te.encodeHashCode(e.referrerWithoutHash)),ee.reportBase64URLs&&t(n,"ub",ve.Base64.encode(e.url)),n.join("*")},encodePageSnapshotData:function(e){var t="h",n=we.beaconEncoder.encodeSnapshotHtml(e.html);return n.compressed?t="hh":n.plain&&(t="p"),["sn_"+e.seq,"r_"+ve.Base64.encode(e.referrer),"c_"+ve.Base64.encode(e.cookie),"ch_"+e.charset,t+"_"+n.encoded].join("*")},captureWindowSize:function(){return me.isNumber(window.innerWidth)&&me.isNumber(window.innerHeight)?Te.validateSize(window.innerWidth,window.innerHeight,"[inner]"):!me.isUndefined(n.body)&&me.isNumber(n.body.offsetWidth)&&me.isNumber(n.body.offsetHeight)?Te.validateSize(n.body.offsetWidth,n.body.offsetHeight,"[offset]"):null},captureScreenSize:function(){return Te.validateSize(screen.width,screen.height,"[screen]")},validateSize:function(e,t,n){var r=me.isNumber(e)&&me.isNumber(t);return r||ye.setErrorOnEvent(Te.state.currentlyEncodedPageEvent,ye.types.WINDOW_SIZE_NOT_VALID_ERR,"Non valid values for window size for "+n+": x="+e+" y="+t),r?{width:e,height:t}:null},encodeResize:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"ws",Te.encodeResolution(e.window)),t(n,"sc",Te.encodeResolution(e.screen)),n.join("*")},encodeResolution:function(e){return null!==e&&me.isNumber(e.width)&&me.isNumber(e.height)?e.width+"x"+e.height:"x"},encodeTimings:function(e){return me.reduce(e,function(e,t,n){var r="u_"+n+"*t_"+t.total;return me.isNumber(t.rendering)&&(r+="*r_"+t.rendering),me.isNumber(t.dns)&&(r+="*d_"+t.dns),me.isNumber(t.timeToFirstBuffer)&&(r+="*f_"+t.timeToFirstBuffer),me.isNumber(t.downloadTime)&&(r+="*w_"+t.downloadTime),me.isNumber(t.originalRenderTime)&&(r+="*o_"+t.originalRenderTime),me.isString(e)&&e.length>0?e+"**"+r:r},"")},encodePerformanceTimings:function(e){var t=e.perf.timing,n=e.perf.navigation,r=e.browserTime,o=function(e,t,n){me.isNumber(n)&&e.push(t+"_"+Te.encodeNumber(n))},i=[];for(var a in t)void 0!==ee.dictionary.performanceTimingEvents[a]&&o(i,ee.dictionary.encodePerformanceTimingMeasurement(a),t[a]);return n&&me.isNumber(n.type)&&o(i,"nt",n.type),n&&me.isNumber(n.redirectCount)&&o(i,"rc",n.redirectCount),r&&o(i,"bt",r),i.join("*")},encodeAjaxRequest:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];if(e.method&&t(n,"m",e.method),te.ajaxHashRecurrentUrls){var r=Te.encodeHashCode(e.url),o=e.ajaxUrls.get(r);me.isUndefined(o)&&(e.ajaxUrls.set(r,e.url),t(n,"u",ve.Base64.encode(e.url))),t(n,"uh",r)}else t(n,"u",ve.Base64.encode(e.url));return e.duration&&t(n,"d",Te.encodeNumber(e.duration)),e.status&&t(n,"s",Te.encodeNumber(e.status)),e.statusText&&t(n,"st",ve.Base64.encode(e.statusText)),e.requestHeaders&&t(n,"rqh",ve.Base64.encode(e.requestHeaders)),e.requestContent&&t(n,"rqc",ve.Base64.encode(e.requestContent)),e.responseHeaders&&t(n,"rh",ve.Base64.encode(e.responseHeaders)),e.responseContent&&t(n,"rc",ve.Base64.encode(e.responseContent)),n.join("*")},encodeResourceContent:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];if(!me.isUndefined(e.getUrl()))return t(n,"u",ve.Base64.encode(e.getUrl())),e.getContentType()&&e.getContentType().length>0&&t(n,"t",ve.Base64.encode(e.getContentType())),e.getContent()&&e.getContent().length>0&&(t(n,"dd",ve.Base64.bytesToBase64(e.getContent())),e.setStatus(e.Status.SENT)),e.getError()&&e.getError().length>0&&(t(n,"er",ve.Base64.encode(e.getError())),e.setStatus(e.Status.SENTERROR)),n.join("*")},encodeWebSocketFrame:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"i",ve.Base64.encode(e.id)),t(n,"d",Te.encodeBoolean(e.direction)),e.isBinary()?t(n,"bp",ve.Base64.bytesToBase64(new Uint8Array(e.payload))):t(n,"tp",ve.Base64.encode(e.payload)),n.join("*")},encodeWebSocketSimpleEvent:function(e){return"i_"+ve.Base64.encode(e.id)},encodeWebSocketCloseEvent:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];t(n,"i",ve.Base64.encode(e.id));var r=e.event;return t(n,"c",Te.encodeNumber(r.code)),t(n,"r",ve.Base64.encode(r.reason)),t(n,"w",Te.encodeBoolean(r.wasClean)),n.join("*")},encodeCustomEvent:function(e){var t=function(e,t,n){me.isString(n)&&e.push(t+"_"+n)},n=[];return t(n,"n",ve.Base64.encode(e.name)),t(n,"v",ve.Base64.encode(e.val)),n.join("*")},encodeSegmentChanged:function(e){var t=[];return t.push("t_"+e.type),t.push("c_"+ve.Base64.encode(e.current)),e.hint&&t.push("h_"+e.hint),e.last&&t.push("l_"+ve.Base64.encode(e.last)),e.lastDwell&&t.push("ld_"+Te.encodeNumber(e.lastDwell)),t.join("*")},encodeKeyEvent:function(e){var t="";return e.unicode&&(t+=e.unicode),me.isUndefined(e.content)||(t+="_"+ve.Base64.encode(e.content)),t},encodeClickDetails:function(e){return Te.encodeCoordinate(e.start)+"*"+Te.encodeCoordinate(e.end)+"*"+Te.encodeNumber(e.duration)},encodeMouseMove:function(e){te.mmDebug&&ve.log("encoding coordArr["+e.length+"]:"+JSON.stringify(e));for(var t=[],n=0;n<e.length;n++){var r=e[n];!function(e,t,n,r){r=r||0;var o=te.mmRecordTimes?"_"+Te.encodeNumber(r):"",i=Math.round(t),a=Math.round(n);e.push(Te.encodeNumber(i)+"_"+Te.encodeNumber(a)+o)}(t,r.x,r.y,r.t)}return t.join("*")},encodeHoverEvent:function(e){for(var t=[],n=[],r=e.length-1;r>=0;r--){var o=e[r];if(n.indexOf(o)>=0)te.mhDebug&&ve.log("encode hover skipping duplicate: ",o);else{var i=be.getSelectorExpression(o);if(t.push(i),n.push(o),n.length>=te.mhMaxListSize)break;te.mhDebug&&ve.log("encoding hover selector: "+i,o)}}var a=t.join(" ");return te.mhDebug&&ve.log("encoding total of ["+t.length+"] hovers: "+a),a},encodeKVMap:function(e){var t=[];for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];!function(e,t,n){me.isString(r)&&e.push(ve.Base64.encode(t)+"_"+ve.Base64.encode(n))}(t,n,r)}return t.join("*")},encodeNumber:function(e){if(me.isNumber(e))return ve.encodeAsBase(e,ee.encoding.numberBase);ve.log("Trying to encode a non-number "+e)},encodeBoolean:function(e){return e?"1":"0"},encodeCoordinate:function(e){if(me.isNumber(e.x)&&me.isNumber(e.y)){var t=Math.round(e.x),n=Math.round(e.y);return Te.encodeNumber(t)+"_"+Te.encodeNumber(n)}ve.log("Trying to encode coordinate with non-numbers x,y : ("+e.x+","+e.y+")")},encodeCoordinate64:function(e){return ve.Base64.encode(Te.encodeCoordinate(e))},encodeString:function(e){return ve.Base64.encode(e)},encodeHashCode:function(e){if(me.isString(e)){var t=ve.hashcode(e);return Te.encodeNumber(t)}ve.log("Trying to encode hashCode of a non-string "+e)},encodeAndConcatenateEventsForReportCookie:function(e,t){return me.reduce(e,function(e,t){var n=Te.encodeEventAsString(t);return me.isString(e)&&e.length>0?e+ee.encoding.delimiters.events+n:n},t)}};E.prototype.add=function(e,t){return this._updates.push({ref:t,update:e}),this},v.INITIAL_COMPRESSION_FACTOR=.25,v.MINIMAL_COMPRESSION_FACTOR=.05,eventEncodingUtils={compress:function(e){return ve.pako.gzip(e)},encodeTimestamp:function(e){var t=e.timestamp;return me.isNumber(t)||(ve.log("Missing event timestamp",e),t=ve.currentTimestamp()),Te.encodeNumber(t)},encodeEventType:function(e){return ee.encodeEventTypes?ee.dictionary.encodeEventType(e):e},encodeExtraInfo:function(e){var t=e.extraInfo;if(me.isUndefined(t))return"";for(var n=[],r=x.prototype.extraInfoAttrs,o=0;o<r.length;o++){var i=r[o],a=t[i.name];me.isUndefined(a)||function(e,t,n,r){me.isString(n)&&e.push(t+"."+r+"_"+n)}(n,i.encodeName,i.encodeFunc(a),i.encodeCode)}return n.join("*")},encodeDebugInfo:function(e){var t=e.debugInfo;if(me.isUndefined(t))return"-";var n=function(e,t,n){me.isUndefined(n)||e.push(t+"_"+n)},r=[];return n(r,"s",t.severity),n(r,"c",t.code),n(r,"i",t.count),t.msg&&t.count<=3&&n(r,"m",Te.encodeString(t.msg)),r.join("*")}},b.COMPRESSED_INDICATION_CHARSET="ISO-8859-15",b.MINIMAL_COMPRESSION_FACTOR=.05,_.currentRef=function(){return n.location.protocol+"//"+n.location.host+n.location.pathname},S.prototype.track=function(e){var t=!this.current||this.current.ofSameSegment(e);return this.last=this.current,this.current=e,t},S.prototype.getCurrent=function(){return this.current},S.prototype.getLast=function(){return this.last||this.current};var Se=void 0!==Se?Se:function(e){},we={env:ee,config:te,utils:ve,_:me,page:{timing:{}},bindings:{registered:[],unsupportedEventTypes:[]},plugins:{},reports:{events:[],resources:[]},state:{loaded:!1,clickStart:{},scrolling:{},unloading:!1,maxScrollReach:0,typableElementsLRUMap:new f(20),lastFocusData:{},mouseEnterReported:!1,hover:{hoverStartTimestamp:0,hoverElementList:[]},clsDebugCounter:0,lastSizes:{window:null,screen:null,dpr:window.devicePixelRatio}},touchDetected:!1,ajaxUrls:new f(20),historyManager:new m(he,window.history),blackoutManager:new g(he,te.blackoutWhenLocationContains),debugInfoHandler:ye,zoomType:{IN:1,OUT:2},version:"local_dev",beaconEncoder:function(e,t){return"json"===t.reportEncoding?new b(me,ee,ve,eventEncodingUtils,{reportDebugInfo:t.reportDebugInfo,compress:t.reportCompress,domCompress:t.domCompress,corsSafelisted:e&&t.reportCorsForceSafelistedHeaders}):new y(me,ee,ve,eventEncodingUtils,{reportDebugInfo:t.reportDebugInfo,domCompress:t.domCompress})}(!a(n,te.reportURI),te),segmentManager:new T(n,he),isCorsReporting:!a(n,te.reportURI),initialize:function(e){if(we.version=e,ve.log("Initializing Detector... ("+ee.setup+" setup) VERSION:"+we.version),ee.disabled)ve.log("initialization cancelled: recording is DISABLED.");else{try{if(void 0!==ce){var t=ae.validate(ce,te);if(t.errors.length>0)return void console.error("[EyeView-1401]: Detector configuration validation failure. validation report:"+t);ve.log("configuration fields validation report:"+t)}else ve.log("Warning: configuration scheme not set, skipping configuration validation.")}catch(e){return void console.error("[EyeView-1402]: Error while validating Detector configuration:"+e+". Detector is DISABLED.")}try{we.setClientCookies(),we.checkSupportModeSession(),we.initializePageDetails(),we.registerPlugins(),he.on(g.EVENTS.BlackoutEnter,we.onBlackoutEnter),he.on(g.EVENTS.BlackoutLeave,we.onBlackoutLeave),we.interceptLocationChange(),void 0!==we.plugins.domMutationTracker&&Ue.isSemiDomActivated()&&we.addDomReadyEventHandler(),we.updateScrollReach(),we.saveDocumentLoadEvent(ve.currentTimestamp()),ve.log("Extracted page details for "+we.page.id+" at "+we.page.urlWithoutHash),we.registerPreLoadEvents(),te.SCIntegration&&he.on("3rdpartymap:scReport",we.saveThirdPartyMapEvent),he.emit("init:preloaded");var r=window.document.readyState;ve.log("readyState on initialization: "+r),!n.body||"complete"!==r&&"interactive"!==r?ve.addEventHandler(window,"load",we.onLoad,!1):we.onLoad()}catch(e){ve.log("ERROR: while initializing detector. Exception: ",e.stack?e.stack:e.message),console.log("WARNING[EyeView-1302]: Failed initializing detector script - "+e.message),we.saveClsDebugErrorEvent("initialize",e)}}},onBlackoutEnter:function(e){var t=we.createEventObject("blackout",ve.currentTimestamp(),null);t.value=e,we.saveEvent(t)},onBlackoutLeave:function(){we.savePageUpdate()},onLoad:function(){ve.log("Post loading initialization... (readyState = "+window.document.readyState+")");var e=ve.currentTimestamp();if(!we.state.loaded){ve.time("onLoadInitialization"),we.documentEvent&&n.title.length>0&&(void 0===we.page.title||0===we.page.title.length)&&(we.page.title=we.getPageTitle(),we.documentEvent.setExtraInfo(x.prototype.VISUAL_NAME,we.page.title)),te.botDetection&&!ve.hasTouch()&&xe.init(),we.page.loadTimestamp=e,we.resolvePageLoadTime(we.page),te.reportValidationErrors&&he.on("jquery:validationError",we.saveValidationError),we.state.loaded=!0,he.emit("init:loaded"),we.registerPostLoadEvents();var t=we.plugins.domMutationTracker;if(te.iframesAutoInject){var r=new d(window,te,"5.6.172_7B117",ee.detectorScript,"_detector",{assignContainerId:te.iframesAssignContainerId}),o=r.scanAndInjectIFrames(window,we.page.id);-1!==o&&ve.log(o+" frames were auto-injected with detector script."),new B(he,we.page.id,r,t?t.isStarted.bind(t):function(){return!1}),new p(he,"_detector",window,t,ke),we.iframeInjector=r}else t&&new F(n,he,t.getNodeCache(),t.isStarted.bind(t));t&&new X(n,he),he.emit("init:post_binding"),ve.timeEnd("onLoadInitialization")}},registerPlugins:function(){me.forOwn(we.plugins,function(e,t){e.initialize(he)&&ve.log("Registered plugin: "+t)})},registerPreLoadEvents:function(){var e=function(){return we.state.unloading},t=[{type:"beforeunload",interception:we.interceptUnload,target:window,logicalName:"unload",filter:e},{type:"pagehide",interception:we.interceptUnload,target:window,logicalName:"unload",filter:e},{type:"resize",valueEncoding:Te.encodeResize,filter:we.filterResize,interception:we.interceptResize,target:window},{type:we.getChangeEventType(),valueExtraction:we.extractElementValue,interception:we.interceptFocusLost,filter:we.filterNonChangableEventsElements,logicalName:"change",target:n},{type:"reset",target:n},{type:"submit",valueExtraction:we.extractElementSource,valueEncoding:Te.encodeHashCode,target:n},{type:we.getFocusInEventType(),valueExtraction:we.extractElementValue,interception:we.interceptFocusIn,filter:we.filterNonTypableElements,target:n}],r=!0;void 0!==window.onpopstate&&(t.push({type:"popstate",target:window,interception:we.interceptLocationChange}),r=!1),t.push({type:"hashchange",target:window,valueExtraction:we.extractLocationHash,interception:function(){return r&&we.interceptLocationChange(),!1}}),we.page.hasTouch?(t.push({type:"touchstart",interception:we.interceptClickStart,target:n}),t.push({type:ve.isHybridAndroid()?"touchmove":"touchend",interception:we.interceptClickEnd,valueEncoding:Te.encodeClickDetails,target:n})):(t.push({type:ee.mouseEvents.down,interception:we.interceptClickStart,target:n,logicalName:"mousedown"}),t.push({type:ee.mouseEvents.up,interception:we.interceptClickEnd,valueEncoding:Te.encodeClickDetails,target:n,logicalName:"mouseup"})),"blur"!==we.getChangeEventType()&&t.push({preload:!0,type:"blur",valueExtraction:we.extractElementValue,interception:we.interceptBlur,filter:we.filterNonTypableElements,logicalName:"change",target:n}),_e.shouldListenToLoadResources()&&t.push({type:"load",valueExtraction:we.extractElementSource,filter:_e.filterLoad,interception:_e.interceptLoad,target:n,logicalName:"resource"}),te.recordMouseMoves&&t.push({type:"mousemove",valueExtraction:we.extractMouseMoveValue,valueEncoding:Te.encodeMouseMove,encodeValue:!1,interception:we.interceptMouseMove,dependent:!0,dontSendElement:!0,target:n}),te.recordHovers&&t.push({type:"mouseover",encodeValue:!1,filter:we.filterHovers,interception:we.interceptMouseOver,valueEncoding:Te.encodeHoverEvent,target:n}),te.recordScrolls&&t.push({type:"scroll",valueExtraction:we.extractScrollValue,valueEncoding:Te.encodeCoordinate,filter:we.filterScrollElements,interception:we.interceptScroll,dependent:te.dependentScroll,target:n}),te.recordErrors&&t.push({type:"error",valueExtraction:we.extractErrorValue,interception:we.interceptError,target:window}),te.recordConsoleErrors&&N({error:we.onConsoleError});var o=ve.getMouseEnterTarget();o!==n&&o!==window||t.push({type:"mouseenter",interception:we.interceptMouseEnter,target:o}),we.shouldListenToKeyEvents()&&(t.push({type:"keydown",interception:we.interceptKeyboard,valueEncoding:Te.encodeKeyEvent,dependent:!0,target:n}),t.push({type:"keypress",interception:we.interceptKeyboard,valueEncoding:Te.encodeKeyEvent,dependent:!0,target:n})),te.recordWebSocket&&(he.on("websocket:open",we.eventSaver("webSocketOpen",Te.encodeWebSocketSimpleEvent)),he.on("websocket:error",we.eventSaver("webSocketError",Te.encodeWebSocketSimpleEvent)),he.on("websocket:close",we.eventSaver("webSocketClose",Te.encodeWebSocketCloseEvent)),he.on("websocket:frame",we.saveWebSocketFrame)),te.domRecordEnabled&&(he.on("pageSnapshot:save",we.savePageSnapshotEvent),he.on("pageUpdate",we.savePageUpdate)),we.page.hasTimingAPI&&!te.recordAjaxCallsAnyway||(he.on("ajax:load",we.recordAjaxResource),he.on("ajax:error",we.recordAjaxResource)),he.on("ajax:loadend",we.saveAjaxRequestEvent),he.on("segmentChanged",we.saveSegmentChangedEvent),he.on("titleChanged",we.saveTitleChanged),we.bindPageEvents(t)},registerPostLoadEvents:function(){var e=[];we.state.mouseEnterReported||ve.getMouseEnterTarget()!==n.body||e.push({type:"mouseenter",interception:we.interceptMouseEnter,target:n.body}),e.length>0&&we.bindPageEvents(e)},bindPageEvents:function(e){ve.time("bindPageEvents"),me.forEach(e,function(e){we.registerEventBinding(e)}),ve.log("Bound event types ("+we.bindings.registered.length+"): "+me.pluck(we.bindings.registered,"type")+(we.bindings.unsupportedEventTypes.length?" Unsupported event types: ["+we.bindings.unsupportedEventTypes.join(", ")+"].":"")),ve.timeEnd("bindPageEvents")},registerEventBinding:function(e){var t=e.target||window.document.body;if(me.isUndefined(t)||null==t)ve.log("Couldn't register '"+e.type+"' handler on a non-existing element.",e);else try{we.handleElementsEvents(t,e)}catch(t){ve.log("Failed binding '"+e.type+"'. Error: "+t.message,t),window.console&&console.error(t)}},handleElementsEvents:function(e,t){var n=t.type;if(me.contains(ee.eventTypes,n))if(ve.isEventSupported(n)){var r=we.createHandlerForResolvingAndReportingElements(t);ve.addEventHandler(e,n,r,!0),we.bindings.registered.push({type:n,el:e,handler:r})}else we.bindings.unsupportedEventTypes.push(n)},createHandlerForResolvingAndReportingElements:function(e){return function(t){if(we.handleDOMEvent(t,e),"beforeunload"!==t.type)return!0}},handleDOMEvent:function(e,t){try{if(e=e||window.event,!me.isUndefined(e._cls_handled)&&!0===e._cls_handled)return void ve.log("WARN: handler already handled this event. skipping..",e);e._cls_handled=!0,ve.time("handleDOMEvent_"+e.type);var n=ve.extractElementFromEvent(e),r=ve.getElementId(n);te.ignorableElementIds&&me.contains(te.ignorableElementIds,r)||we.handleEvent(e,n,t),ve.timeEnd("handleDOMEvent_"+e.type)}catch(t){ve.log("ERROR: while handling "+e.type+" DOM event ",e," Exception: ",t.stack?t.stack:t.message),we.saveClsDebugErrorEvent("handleDOMEvent",t,"event type="+e.type)}},handleEvent:function(e,t,n){if(!me.isFunction(n.filter)||!n.filter(t,e)){var r=ve.currentTimestamp(),o=e.type;ve.time("handleEvent_"+o);var i=we.createEventObject(o,r,t);i.domEvent=e;var a=!me.isUndefined(n.dontSendElement)&&!0===n.dontSendElement;i.selectorExpression=a?ee.encoding.rootSelector:be.getSelectorExpression(t)||ee.encoding.rootSelector,i.binding=n,me.isUndefined(n.encodeValue)||!1!==n.encodeValue||(i.shouldEncodeValue=!1),me.isUndefined(n.dependent)||!0!==n.dependent||(i.dependent=!0),we.extractValue(i,n),we.extractExternalId(i,t),we.interceptReport(i,n),te.reportVisualNames&&i.report&&!a&&we.extractVisualName(i,t),we.saveEvent(i),he.emit("event:"+i.type,i),ve.timeEnd("handleEvent"+o)}},createEventObject:function(e,t,n){return new x(e,t,n,we.page.id)},onDomReady:function(){n.addEventListener?n.removeEventListener("DOMContentLoaded",we.onDomReady,!1):n.detachEvent("onreadystatechange",we.onDomReady),he.emit("init:domready")},addDomReadyEventHandler:function(){"complete"!==n.readyState&&(n.addEventListener?window.addEventListener("DOMContentLoaded",we.onDomReady,!1):n.attachEvent("onreadystatechange",we.onDomReady))},extractValue:function(e,t){try{if(!me.isUndefined(t.valueExtraction)){var n=t.valueExtraction(e.domEvent,e.element);me.isUndefined(n)||null==n||(e.value=n)}}catch(t){ve.log("Failed extracting value for event "+e.type+" - "+t.name+": "+t.message,t),"clsdebug"!==e.type&&we.saveClsDebugErrorEvent("extractValue",t,"event type="+e.type)}},extractExternalId:function(e,t){if(t&&ve.isElement(t)&&!me.isUndefined(te.externalIdAttr)&&me.isString(te.externalIdAttr)&&te.externalIdAttr.length>0){var n=ve.getAttributeForElement(t,te.externalIdAttr);null!==n&&n.length>0&&e.setExtraInfo(x.prototype.EXTERNAL_ID,n)}},interceptReport:function(e,t){if(!me.isUndefined(t.interception))try{e.report=t.interception(e)}catch(t){ve.log("Failed intercepting "+e.type+" event: "+t.message,t,e),"clsdebug"!==e.type&&we.saveClsDebugErrorEvent("interceptReport",t,"event type="+e.type)}},addEvent:function(e){we.config.debugMode&&we.reports.events.push(e)},getFocusInEventType:function(){return ve.isOldIE()?"focusin":"focus"},getChangeEventType:function(){return ve.isOldIE()?"onfocusout"in n?"focusout":"blur":"change"},startFocusTiming:function(e){var t=ve.currentTimestamp(),n=we.state.lastFocusData.startTime;we.state.lastFocusData={element:e,startTime:t,prevFocusStartTime:n}},endFocusTiming:function(e){if(we.state.lastFocusData.element===e){var t=ve.currentTimestamp();we.state.lastFocusData.focusTime=t-we.state.lastFocusData.startTime}else ve.trace("Cannot measure focus time because of element mismatch. ")},filterNonTypableElements:function(e,t){return null===e||(we.isChangebleElement(e)&&("focus"===t.type||"focusin"===t.type?we.startFocusTiming(e):"blur"===t.type&&we.endFocusTiming(e)),!we.isTypableElement(e))},filterNonChangableEventsElements:function(e,t){return null===e||null===t||(we.isChangebleElement(e)&&we.endFocusTiming(e),"change"!==t.type&&!we.isChangebleElement(e))},interceptFocusIn:function(e){return we.checkTypedContentHasChangedAndUpdate(e),!1},interceptFocusLost:function(e){return null!==e&&null!==e.element&&(we.state.lastFocusData.focusTime&&e.setExtraInfo(e.FOCUS_TIME_ATTR,we.state.lastFocusData.focusTime),!!we.isSelectableElement(e.element)||we.checkTypedContentHasChangedAndUpdate(e))},interceptBlur:function(e){return we.state.lastFocusData.focusTime&&e.setExtraInfo(e.FOCUS_TIME_ATTR,we.state.lastFocusData.focusTime),we.checkTypedContentHasChangedAndUpdate(e)},checkTypedContentHasChangedAndUpdate:function(e){var t="focus"===e.type||"focusin"===e.type,n="blur"===e.type||"focusout"===e.type,r=e.selectorExpression,o=e.value;if(null===o||me.isUndefined(o))return!1;var i={text:o,markAutoComplete:!1},a=we.state.typableElementsLRUMap.set(r,i),s=me.isUndefined(a);if(t&&!s&&a.text!==o&&o.toLocaleLowerCase().indexOf(a.text.toLocaleLowerCase())>=0&&(i.markAutoComplete=!0),n&&!s&&a.markAutoComplete){var c=we.state.lastFocusData.prevFocusStartTime;if(!me.isUndefined(c)&&me.isNumber(c)&&we.state.lastFocusData.element===e.element){var u=ve.currentTimestamp()-c;e.setExtraInfo(e.FOCUS_TIME_ATTR,u)}else ve.log("Unable to compute total auto-complete time"),e.setExtraInfo(e.FOCUS_TIME_ATTR,-1);return e.setExtraInfo(e.AUTO_COMPLETE_ATTR,!0),!0}return s||a.text!==o},isMouseEvent:function(e){return e===ee.mouseEvents.down||e===ee.mouseEvents.up},isTouchEvent:function(e){return"touchstart"===e||"touchend"===e||"touchmove"===e},interceptMouseEnter:function(e){if(we.state.mouseEnterReported)return!1;var t=ve.getCoordinate(e.domEvent);return e.setExtraInfo(x.prototype.COORDINATE_ATTR,t),we.removeEventBinding("mouseenter"),we.state.mouseEnterReported=!0,we.page.hasTouch&&!we.touchDetected&&ve.isChromeDesktop()&&(we.switchTouchToMouse(),we.page.hasTouch=!1),!0},switchTouchToMouse:function(){ve.log("Mouse Detected. Switch touch event to mouse events"),we.removeEventBinding("touchstart"),ve.isHybridAndroid()?we.removeEventBinding("touchmove"):we.removeEventBinding("touchend");var e=[{type:ee.mouseEvents.down,interception:we.interceptClickStart,target:n,logicalName:"mousedown"},{type:ee.mouseEvents.up,interception:we.interceptClickEnd,valueEncoding:Te.encodeClickDetails,target:n,logicalName:"mouseup"}];we.bindPageEvents(e)},filterHovers:function(e,t){try{if("undefined"==typeof jQuery||me.isUndefined(jQuery)||me.isUndefined(jQuery._data))return!0;for(var r=e,o=1,i=me.isNumber(te.mhDeepLevel)?te.mhDeepLevel:1;null!==r&&r!==n.body&&o<=i;){var a=jQuery._data(r,"events");if(a&&a.mouseover&&a.mouseover.length>0)return te.mhDebug&&ve.log("++ Hover adding element(level-"+o+") "+(r.id?r.id:""),r),we.addHoverElement(r),!0;o++,r=r.parentElement}}catch(t){ve.log("Exception while extracting hover information for element : ",e,t.message,t),we.saveClsDebugErrorEvent("filterHovers",t,"element="+(e?e.nodeName:"null"))}return!0},addHoverElement:function(e){we.state.hover.hoverElementList.length<te.mhMaxInMemeoryHovers?(we.state.hover.hoverElementList.push(e),we.state.hover.hoverStartTimestamp=ve.currentTimestamp()):ve.log("warn: exceed size of hover elements (>100). skipping..")},cleanHoverElements:function(){te.mhDebug&&ve.log("Hover cleaning"),we.state.hover.hoverElementList=[],we.state.hover.hoverStartTimestamp=0},filterResize:function(){return ve.isOldIE()},interceptResize:function(e){var t=ve.getWindowSize(),n=ve.getScreenSize(),r=!1;return null===t||null===we.state.lastSizes.window||we.state.lastSizes.window.width===t.width&&we.state.lastSizes.window.height===t.height||(we.state.lastSizes.window=t,r=!0),null===n||null===we.state.lastSizes.screen||we.state.lastSizes.screen.width===n.width&&we.state.lastSizes.screen.height===n.height||(we.state.lastSizes.screen=n,r=!0),window.devicePixelRatio!==we.state.lastSizes.dpr&&(window.devicePixelRatio>we.state.lastSizes.dpr?e.setExtraInfo(e.ZOOM,we.zoomType.IN):e.setExtraInfo(e.ZOOM,we.zoomType.OUT),we.state.lastSizes.dpr=window.devicePixelRatio),e.value=we.state.lastSizes,r},interceptMouseOver:function(e){return!1},interceptClickStart:function(e){if(xe.isActive()&&we.isMouseEvent(e.type)&&xe.notifyMouseAction(e.domEvent),we.isTouchEvent(e.type)&&(we.touchDetected=!0),te.recordHovers&&we.saveHoverEvent(),we.state.clickStart=we.createClickDetailsObject(e),e.setExtraInfo(x.prototype.COORDINATE_ATTR,we.state.clickStart),!me.isUndefined(e.element)){var t=ve.getElementXYCoordinates(e.element);t&&e.setExtraInfo(x.prototype.SYNC_COORDINATE,t)}return ve.isHybrid()&&e.addHybridActionDataItem("start",{x:we.state.clickStart.x,y:we.state.clickStart.y}),!0},interceptClickEnd:function(e){xe.isActive()&&we.isMouseEvent(e.type)&&xe.notifyMouseAction(e.domEvent);var t={start:we.state.clickStart,end:we.createClickDetailsObject(e)};if(!(me.isNumber(t.start.x)&&me.isNumber(t.start.y)))return ve.log("Dragging event with no captured click start."),!1;var n=Math.abs(t.end.x-t.start.x)>te.minDragPixels||Math.abs(t.end.y-t.start.y)>te.minDragPixels;if(n){e.type="drag",t.duration=t.start.timestamp?e.timestamp-t.start.timestamp:-1,e.value=t;var r=ve.getElementXYCoordinates(t.start.elementObj);r&&e.setExtraInfo(x.prototype.SYNC_COORDINATE,r),ve.isHybrid()&&(e.addHybridActionDataItem("start",{x:t.start.x,y:t.start.y}),e.addHybridActionDataItem("end",{x:t.end.x,y:t.end.y}))}return we.state.clickStart={},n},interceptError:function(e){return e.value&&e.value.length>0},interceptLocationChange:function(){return we.historyManager.onUrlChanged(n.location.href),we.blackoutManager.onLocationChanged(n.location.href),!1},interceptUnload:function(e){ve.time("unload"),ve.log("Unloading..."),we.state.unloading=!0;var t=ve.currentTimestamp();we.page.hasTimingAPI||Ie.set(ee.cookies.referrer,Te.encodeNumber(t)+"_"+ve.Base64.encode(we.page.urlWithoutHash));var n=t-we.page.initializationTimestamp;return e.setExtraInfo(e.FOCUS_TIME_ATTR,n),e.setExtraInfo(e.SCROLL_REACH,Math.round(we.state.maxScrollReach)),we.segmentManager.onUnload(),ve.timeEnd("unload"),!0},updateScrollReach:function(){we.state.maxScrollReach=Math.max(we.state.maxScrollReach,ve.getCurrentScrollReach())},interceptScroll:function(e){return"#document"===e.element.nodeName&&we.updateScrollReach(),!0},filterScrollElements:function(e,t){return!(null!=e&&"MARQUEE"!==e.nodeName)},interceptMouseMove:function(e){return e.lastSingleMoveTimestamp=e.timestamp,e.setExtraInfo(e.FOCUS_TIME_ATTR,0),!0},createClickDetailsObject:function(e){var t=ve.getCoordinate(e.domEvent);return t.elementObj=e.element,t.el=e.selectorExpression,t.timestamp=e.timestamp,t},shouldListenToKeyEvents:function(){return te.recordEnterForInputs||we.recordAutoCompleteRelatedChars()},recordAutoCompleteRelatedChars:function(){return void 0===we.acCharsSupport&&(we.acCharsSupport=te.recordTypingAll||te.supportNativeAutoComplete||te.recordTypingForAttrs&&te.recordTypingForAttrs.length>0||te.recordTypingForClasses&&te.recordTypingForClasses.length>0||te.recordTypingForIDs&&te.recordTypingForIDs.length>0),we.acCharsSupport},resolveKeyData:function(e){var t=e.domEvent,n=e.element.value,r=e.element,o=t.keyCode||t.charCode;e.value={unicode:o};var i=ve.isMaskedElement(r);return"keypress"===e.type?13!==o&&8!==o&&("0"!==t.charCode&&(i?(e.value={unicode:42},!0):(me.isUndefined(n)||null===n||(e.value.content=n+String.fromCharCode(o)),!0))):"keydown"===e.type&&(38===o||40===o||13===o?(i||(e.value.content=e.element.value),!0):8===o&&!me.isUndefined(n)&&null!==n&&!i&&(e.value.content=n.length>0?n.substring(0,n.length-1):"",!0))},interceptKeyboard:function(e){var t=e.element;if(!(t&&("INPUT"===t.nodeName||"BUTTON"===t.nodeName)))return!1;var n=13===(e.domEvent.keyCode||e.domEvent.charCode);if(e.shouldEncodeValue=!1,n&&te.recordEnterForInputs)return we.resolveKeyData(e);if(te.supportNativeAutoComplete&&(t.hasAttribute("autocomplete")||t.hasAttribute("aria-autocomplete")&&"none"!==t.getAttribute("aria-autocomplete")||t.hasAttribute("class")&&me.contains(t.getAttribute("class"),"autocomplete")))return we.resolveKeyData(e);if(te.recordTypingAll)return we.resolveKeyData(e);var r;if(te.recordTypingForAttrs&&te.recordTypingForAttrs.length>0)for(r=0;r<te.recordTypingForAttrs.length;r++)if(t.hasAttribute(te.recordTypingForAttrs[r]))return we.resolveKeyData(e);if(t.hasAttribute("class")&&te.recordTypingForClasses&&te.recordTypingForClasses.length>0)for(r=0;r<te.recordTypingForClasses.length;r++)if(me.contains(t.getAttribute("class"),te.recordTypingForClasses[r]))return we.resolveKeyData(e);var o=ve.getElementId(t);if(o&&te.recordTypingForIDs&&te.recordTypingForIDs.length>0)for(r=0;r<te.recordTypingForIDs.length;r++)if(o===te.recordTypingForIDs[r])return we.resolveKeyData(e);return!1},recordAjaxResource:function(e){we.addResource("ajax",e.url,e.timestamp)},addResource:function(e,t,n){var r=new w(e,t,n);return we.reports.resources.push(r),he.emit("timingResource",r),r},saveEvent:function(e){if(!we.blackoutManager.underBlackout){var t=we.renameEventType(e);if(we.addEvent(e),ye.setRegisteredDebugInfoOnEvent(e),te.debugMode&&(e.report||te.traceMode)){var n=e.type===t?e.type:e.type+"("+t+")",r=!me.isUndefined(e.selectorExpression)&&e.selectorExpression!==ee.encoding.rootSelector&&"#document"!==e.selectorExpression;we.shouldLog(e.type)&&ve.log(n+(r?" -> "+e.selectorExpression:"")+we.eventValueToString(e)+(e.report?"":" [not reported]"),e)}e.report&&he.emit("saveEvent",e)}},shouldLog:function(e){return"mousemove"===e?!te.suppressMouseMovesDebug||te.mmDebug:"webSocketFrame"===e?te.wsDebug:"scroll"!==e||te.scrollDebug},renameEventType:function(e){var t=e.type;return me.isUndefined(e.binding)||me.isUndefined(e.binding.logicalName)||"drag"===e.type||(e.type=e.binding.logicalName),t},eventValueToString:function(e){var t=" {V="+(e.value||"NONE");if(e.extraInfo)for(var n in e.extraInfo)e.extraInfo.hasOwnProperty(n)&&(t=t+","+n+"="+e.extraInfo[n]);return null===e.getDebugInfo()||me.isUndefined(e.getDebugInfo())||(t=t+",DI-"+e.getDebugInfo().code),t+="}"},saveDocumentLoadEvent:function(e){var t=we.createEventObject("document",e,null);t.value=we.page,t.binding={valueEncoding:Te.encodePageDetails},t.shouldEncodeValue=!1,we.page.title=we.getPageTitle(),we.page.title&&t.setExtraInfo(x.prototype.VISUAL_NAME,we.page.title),t.setExtraInfo(x.prototype.WINDOW_DEPTH,ge.tryGetCurrentDepth(window,we.page.id)),window._cls_container_id&&t.setExtraInfo(x.prototype.CONTAINER_ID,window._cls_container_id),window._cls_parent_pageId&&t.setExtraInfo(x.prototype.PARENT_PAGE_ID,window._cls_parent_pageId),t.setExtraInfo(x.prototype.HISTORY_LENGTH,history.length),te.mobileHybridId&&t.setExtraInfo(x.prototype.MOBILE_HYBRID_ID,te.mobileHybridId),we.documentEvent=t,we.saveEvent(t),he.emit("event:document")},savePageUpdate:function(){var e=we.createEventObject("pageUpdate",ve.currentTimestamp(),null);we.saveEvent(e)},onConsoleError:function(e){var t=we.createEventObject("error",ve.currentTimestamp(),null);t.value=e.join(" "),t.shouldEncodeValue=!0,we.saveEvent(t)},saveTitleChanged:function(){var e=we.createEventObject("titleChanged",ve.currentTimestamp(),null);e.value=n.title,e.shouldEncodeValue=!0,we.saveEvent(e)},saveSegmentChangedEvent:function(e){var t=we.createEventObject("segmentChanged",ve.currentTimestamp(),null);t.value=e,t.shouldEncodeValue=!1,t.binding={valueEncoding:Te.encodeSegmentChanged},we.saveEvent(t)},savePageSnapshotEvent:function(e){var t=we.createEventObject("pageSnapshot",ve.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:Te.encodePageSnapshotData},t.shouldEncodeValue=!1,we.saveEvent(t)},saveAjaxRequestEvent:function(e){var t=we.createEventObject("ajaxRequest",ve.currentTimestamp(),null);e.ajaxUrls=we.ajaxUrls,t.value=e,t.element=e.lastFocusedElement,t.selectorExpression=be.getSelectorExpression(e.lastFocusedElement)||ee.encoding.rootSelector,t.binding={valueEncoding:Te.encodeAjaxRequest},t.shouldEncodeValue=!1,we.saveEvent(t)},saveClsDebugErrorEvent:function(e,t,n){var r=we.formatClsDebugMessage(e,t,n);if(0!==r.length){var o=we.createEventObject("clsdebug",ve.currentTimestamp(),null);o.value=r,we.saveEvent(o)}},formatClsDebugMessage:function(e,t,n){if(we.state.clsDebugCounter>=te.clsDebugMaxReports)return"";we.state.clsDebugCounter++;t.name,t.message;var r=t.name+": "+t.message+(t.stack?" - "+t.stack:"");return r=ve.truncateStr(r,te.clsDebugCharsLimit,!0),"CLS Error in "+e+" "+(n?"{"+n+"} ":"")+": "+r},saveWebSocketFrame:function(e){var t=we.createEventObject("webSocketFrame",ve.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:Te.encodeWebSocketFrame},t.shouldEncodeValue=!1,we.saveEvent(t)},eventSaver:function(e,t){return function(n){var r=we.createEventObject(e,ve.currentTimestamp(),null);r.value=n,r.binding={valueEncoding:t},r.shouldEncodeValue=!1,we.saveEvent(r)}},saveValidationError:function(e){var t=we.createEventObject("formValidationError",ve.currentTimestamp(),null);t.element=e.element,t.value=e.message,t.selectorExpression=e.selector,we.saveEvent(t)},saveHoverEvent:function(){var e=we.createEventObject("hover",we.state.hover.hoverStartTimestamp,null);0!==we.state.hover.hoverElementList.length?(te.mhDebug&&ve.log("saving "+we.state.hover.hoverElementList.length+" hovers"),e.value=we.state.hover.hoverElementList,we.cleanHoverElements(),e.binding={valueEncoding:Te.encodeHoverEvent},e.shouldEncodeValue=!1,we.saveEvent(e)):te.mhDebug&&ve.log("no hovers to report")},saveCustomEvent:function(e){var t=we.createEventObject("custom",ve.currentTimestamp(),null);t.value=e,!me.isUndefined(e.domEl)&&ve.isDOMElement(e.domEl)&&(t.element=e.domEl,t.selectorExpression=be.getSelectorExpression(e.domEl)||ee.encoding.rootSelector),t.binding={valueEncoding:Te.encodeCustomEvent},t.shouldEncodeValue=!1,we.saveEvent(t)},saveThirdPartyEvent:function(e){var t=we.createEventObject("thirdparty",ve.currentTimestamp(),null);t.value=e.value,e.type&&t.setExtraInfo(x.prototype.TP_INTEGRATION_TYPE,e.type),e.element&&(t.element=e.element,t.selectorExpression=be.getSelectorExpression(e.element)||ee.encoding.rootSelector),we.saveEvent(t)},saveThirdPartyMapEvent:function(e){var t=we.createEventObject("thirdpartymap",ve.currentTimestamp(),null);t.value=e.value,t.binding={valueEncoding:Te.encodeKVMap},e.type&&t.setExtraInfo(x.prototype.TP_INTEGRATION_TYPE,e.type),e.element&&(t.element=e.element,t.selectorExpression=be.getSelectorExpression(e.element)||ee.encoding.rootSelector),t.shouldEncodeValue=!1,we.saveEvent(t)},saveResourceDataEvent:function(e){var t=we.createEventObject("resourceContent",ve.currentTimestamp(),null);t.value=e,t.binding={valueEncoding:Te.encodeResourceContent},t.shouldEncodeValue=!1,we.saveEvent(t)},initializePageDetails:function(){ve.time("initializePageDetails");var e=we.page;e.initializationTimestamp=ve.currentTimestamp(),e.id=window._cls_forced_pageId||ve.uuid(),e.frame=window.self!=top,e.frame&&(e.referrerWithoutHash=ve.getReferrerUrlWithoutHash());var t=ve.getLocationUrlSplitByHash();e.url=t.url,e.urlWithoutHash=t.withoutHash,e.hash=t.hash,e.hasTouch=ve.hasTouch(),e.hasTimingAPI=ve.hasTimingAPI(),e.title=we.getPageTitle(),ve.timeEnd("initializePageDetails")},getPageTitle:function(){return ve.truncateStr(n.title,te.titleCharsLimit,!0)},resolvePageLoadTime:function(e){if(e.hasTimingAPI)we.acquirePerformanceTiming();else{var t=Ie.get(ee.cookies.referrer),r=n.referrer.replace(/#.*/,"");if(t){var o=t.split("_"),i=ve.Base64.decode(o[1]);if(r===i){var a=parseInt(o[0],36);e.timing.total=e.loadTimestamp-a,we.saveTimingEvent({page:e.timing})}else ve.log("Referrer does not match referrer stored in timing cookie: "+r+" != "+i)}}},saveTimingEvent:function(e){var t=we.createEventObject("timing",ve.currentTimestamp(),window.document);t.value=e,t.binding={valueEncoding:Te.encodeTimings},we.page.title&&t.setExtraInfo(x.prototype.VISUAL_NAME,we.page.title),we.saveEvent(t)},savePerformanceEvent:function(e){var t=we.createEventObject("performance",ve.currentTimestamp(),window.document);window.performance&&window.performance.timing&&(t.value={perf:window.performance,browserTime:e},t.binding={valueEncoding:Te.encodePerformanceTimings},we.page.title&&t.setExtraInfo(x.prototype.VISUAL_NAME,we.page.title),t.shouldEncodeValue=!1,we.saveEvent(t))},acquirePerformanceTiming:function(){if(0===window.performance.timing.loadEventEnd)window.setTimeout(we.acquirePerformanceTiming,300);else{var e=ve.currentTimestamp()-we.page.initializationTimestamp;we.savePerformanceEvent(e)}},setClientCookies:function(){var e=we.setVisitorCookie();we.setClientSessionCookie(e)},setVisitorCookie:function(){var e=Ie.get(ee.cookies.visitor);if(me.isUndefined(e)){var t=ve.uuid();return Ie.setPersistent(ee.cookies.visitor,t),ve.log("Set cookie with visitor ID: "+t),!0}return!1},setClientSessionCookie:function(e){var t=Ie.get(ee.cookies.session);if(me.isUndefined(t)){var n=ve.uuid()+":"+(e?"0":"1");Ie.set(ee.cookies.session,n),ve.log("Set cookie with session ID: "+n)}},registerPlugin:function(e,t){we.plugins[e]=t},removeEventBinding:function(e){for(var t=-1,n=0;n<we.bindings.registered.length;n++){var r=we.bindings.registered[n];r.type===e&&(ve.removeEventHandler(r.el,e,r.handler),t=n)}t>=0&&we.bindings.registered.splice(t,1)},removeBindings:function(){me.forEach(we.bindings.registered,function(e){ve.removeEventHandler(e.el,e.type,e.handler)}),we.bindings.registered=[],we.bindings.unsupportedEventTypes=[],ve.log("Cleared detector bindings.")},getEncoder:function(){return Te},supportModeOn:function(e){e=e||!1,we.applySupportMode(),e&&Ie.set(ee.cookies.supportMode,1)},isSupportModeSession:function(){return void 0!==Ie.get(ee.cookies.supportMode)},checkSupportModeSession:function(){we.isSupportModeSession()&&we.applySupportMode()},applySupportMode:function(){te.reportAllOnUnload=!1},tryAttachSnapshotToEvent:function(){var e,t=!1,n=-1;return function(r){void 0===e&&(e=we.plugins.domMutationTracker||null),e&&te.domRecordEnabled&&!e.isAborted()&&(-1!==te.domExpireSnapshotAfter&&"pageSnapshot"!==r.type&&-1!==n&&r.timestamp-n>te.domExpireSnapshotAfter&&e.reset(),(t=t||"pageUpdate"===r.type||"mousedown"===r.type||"touchstart"===r.type||"drag"===r.type||"keydown"===r.type||"unload"===r.type)&&-1!==ee.snapshotApplicableEventType.indexOf(r.type)&&(r.domSnapshot=e.getDomSnapshot())),"pageSnapshot"!==r.type&&(n=r.timestamp)}}()};w.prototype.toString=function(){return this.url},C.prototype.toString=function(){return"("+this.x+","+this.y+")"};var Ce={inMemoryMovesCounter:0,notifyEventsFlush:function(){Ce.inMemoryMovesCounter=0},hasDomUpdate:function(e){return e.domSnapshot&&e.domSnapshot.domChanges},diluteEvents:function(e,t){var n=me.last(e);if(!me.isUndefined(n)){if("resize"===t.type)return"resize"===n.type&&Ce.removeEventToReport(e,n),!0;if("scroll"===t.type){if("scroll"===n.type||we.page.hasTouch&&"drag"===n.type)return t.timestamp-n.timestamp>te.minStallingScrollTime||(t.selectorExpression=n.selectorExpression,Ce.removeEventToReport(e,n),te.scrollDebug&&ve.trace("Diluted "+n.type+" event:",n),!0);if("mousemove"===n.type&&1===n.value.length&&e.length>=2){var r=e[e.length-2];if("scroll"===r.type){if(t.timestamp-r.timestamp>te.minStallingScrollTime)return!0;t.selectorExpression=r.selectorExpression,Ce.removeEventToReport(e,n),Ce.removeEventToReport(e,r),te.scrollDebug&&ve.trace("Diluted scroll & mousemove event (mousewheel rolling)"),Ce.inMemoryMovesCounter--}}return!0}if("mousemove"===t.type&&"mousemove"===n.type){var o=te.reportByPost?3e3:te.mmMaxMovesInEventWithTimes,i=te.reportByPost?3e3:te.mmMaxMovesInEventNoTimes;return te.mmRecordTimes&&n.value.length>=o||!te.mmRecordTimes&&n.value.length>=i?(te.mmDebug&&ve.log("Too much moves in an event: "+n.value.length+". Starting a new move event."),Ce.inMemoryMovesCounter++,!0):!me.isUndefined(te.mmMinStallingMoveTime)&&t.timestamp-n.lastSingleMoveTimestamp>te.mmMinStallingMoveTime?(te.mmDebug&&ve.log("Identified mouse move stalling: "+(t.timestamp-n.lastSingleMoveTimestamp)+" ms. Starting a new move event."),Ce.inMemoryMovesCounter++,!0):Ce.checkExceededInMemoryMoves()?(te.mmDebug&&ve.log("Exceeded in memory mouse moves ("+te.mmMaxInMemoryMoves+") ignoring..."),!1):(Ce.removeEventToReport(e,n),Ce.diluteMoveEvents(n,t)&&Ce.inMemoryMovesCounter++,!0)}}return"mousemove"===t.type&&Ce.inMemoryMovesCounter++,!0},removeEventToReport:function(e,t){Ce.hasDomUpdate(t)||e.splice(me.indexOf(e,t),1)},checkExceededInMemoryMoves:function(){var e=te.reportByPost?3e3:te.mmMaxInMemoryMoves;return Ce.inMemoryMovesCounter>=e},diluteMoveEvents:function(e,t){var n=me.last(e.value),r=t.value[0],o=t.timestamp-e.lastSingleMoveTimestamp,i=e.getExtraInfo(e.FOCUS_TIME_ATTR);return Math.abs(n.x-r.x)>te.mmDiluteMinPixels||Math.abs(n.y-r.y)>te.mmDiluteMinPixels?(r.t=o,i+=o,t.setExtraInfo(t.FOCUS_TIME_ATTR,i),t.timestamp=e.timestamp,e.value.push(r),t.value=e.value,te.mmDebug&&ve.log("updated mousemove value"+t.value),!0):(t.setExtraInfo(t.FOCUS_TIME_ATTR,i),t.timestamp=e.timestamp,t.value=e.value,t.lastSingleMoveTimestamp=e.lastSingleMoveTimestamp,te.mmDebug&&ve.log("Diluting mousemove less than "+te.mmDiluteMinPixels+" pixels: "+r),!1)},truncateEventsForUnload:function(e){for(var t=[],n=te.mmMaxMovesWithUnload,r=0,o=!1,i=0;i<e.length;i++){var a=e[i];if("mousemove"===a.type){if(r>=te.mmMaxMovesWithUnload){ve.trace(te.mmMaxMovesWithUnload+" moves limit exceeded. dropping mousemove event from unload report... ("+r+" moves dropped)"),o=!0;continue}var s=a.value.length,c=Ce.truncateMouseMoveEvent(a,n-r);r+=c,c<s&&(o=!0)}"unload"===a.type&&o&&a.setExtraInfo(a.MOVES_TRUNCATED,!0),t.push(a)}return t},truncateMouseMoveEvent:function(e,t){var n=e.value.length;return n<t?n:(ve.trace("truncating mousemove on unload ("+n+" > "+t+" moves)"),e.value=e.value.slice(0,t),t)}},Ie={TLDs:["ac","ad","ae","aero","af","ag","ai","al","am","an","ao","aq","ar","arpa","as","asia","at","au","aw","ax","az","ba","bb","bd","be","bf","bg","bh","bi","biz","bj","bm","bn","bo","br","bs","bt","bv","bw","by","bz","ca","cat","cc","cd","cf","cg","ch","ci","ck","cl","cm","cn","co","com","coop","cr","cu","cv","cx","cy","cz","de","dj","dk","dm","do","dz","ec","edu","ee","eg","er","es","et","eu","fi","fj","fk","fm","fo","fr","ga","gb","gd","ge","gf","gg","gh","gi","gl","gm","gn","gov","gp","gq","gr","gs","gt","gu","gw","gy","hk","hm","hn","hr","ht","hu","id","ie","il","im","in","info","int","io","iq","ir","is","it","je","jm","jo","jobs","jp","ke","kg","kh","ki","km","kn","kp","kr","kw","ky","kz","la","lb","lc","li","lk","lr","ls","lt","lu","lv","ly","ma","mc","md","me","mg","mh","mil","mk","ml","mm","mn","mo","mobi","mp","mq","mr","ms","mt","mu","museum","mv","mw","mx","my","mz","na","name","nc","ne","net","nf","ng","ni","nl","no","np","nr","nu","nz","om","org","pa","pe","pf","pg","ph","pk","pl","pm","pn","pr","pro","ps","pt","pw","py","qa","re","ro","rs","ru","rw","sa","sb","sc","sd","se","sg","sh","si","sj","sk","sl","sm","sn","so","sr","st","su","sv","sy","sz","tc","td","tel","tf","tg","th","tj","tk","tl","tm","tn","to","tp","tr","travel","tt","tv","tw","tz","ua","ug","uk","us","uy","uz","va","vc","ve","vg","vi","vn","vu","wf","ws","xxx","ye","yt","za","zm","zw","servizi"],defaults:{path:"/"},get:function(e){var t=n.cookie;return t!==Ie._cacheString&&Ie._populateCache(t),Ie._cache[e]},set:function(e,t,r){var o={path:r&&r.path||Ie.defaults.path,domain:r&&r.domain||Ie.getDefaultDomain(),secure:r&&void 0!==r.secure?r.secure:Ie.defaults.secure,expires:r&&void 0!==r.expires?r.expires:Ie.defaults.expires};void 0===t&&(o.expires=-1,t=""),o.expires=Ie.transformExpiresParameterToStandardForm(o.expires);var i=encodeURIComponent(e)+"="+(t+"").replace(/[^!#-+\--:<-\[\]-~]/g,encodeURIComponent);i+=o.path?";path="+o.path:"",i+=o.domain?";domain="+o.domain:"",i+=o.expires?";expires="+o.expires.toGMTString():"",i+=o.secure?";secure":"",n.cookie=i},expire:function(e,t){return Ie.set(e,o,t)},transformExpiresParameterToStandardForm:function(e){switch(typeof e){case"number":return new Date((new Date).getTime()+1e3*e);case"string":return new Date(e)}return e},setPersistent:function(e,t,n){var r={expires:n=n||15768e4};Ie.set(e,t,r)},isClarisiteCookieKey:function(e){for(var t in ee.cookies)if(ee.cookies.hasOwnProperty(t)&&ee.cookies[t]===e)return!0;return!1},_populateCache:function(e){Ie._cache={},Ie._cacheString=e;for(var t=Ie._cacheString.split("; "),n=0;n<t.length;n++){var r,i,a=t[n],s=a.indexOf("=");try{if(r=decodeURIComponent(a.substr(0,s)),!Ie.isClarisiteCookieKey(r))continue;i=decodeURIComponent(a.substr(s+1))}catch(e){ve.log("Error: Failed decoding a cookie "+(r?"[key="+r+"]":"")+" from document.cookie: "+a,e);continue}Ie._cache[r]===o&&(Ie._cache[r]=i)}},getDefaultDomain:function(){return me.isString(Ie.defaults.domain)||(Ie.defaults.domain=Ie.constructCookiesTopLevelDomain(),ve.log("Set default cookie domain to: "+Ie.defaults.domain)),Ie.defaults.domain},validateTLD:function(e,t){var n=t.indexOf(e);return-1===n||n+e.length!==t.length?(ve.log("invalid TLD: hostname suffix mismatch. TLD:"+e),!1):!(t.split(".").length-e.split(".").length>1)||(ve.log("invalid TLD: hostname segment count is larger by more than one. TLD:"+e),!1)},constructCookiesTopLevelDomain:function(){var e=te.customTLD||Ie.resolveTopLevelDomain(window.location.host);return e&&"localhost"!==e&&Ie.validateTLD(e,window.location.host)?"."+e:null},resolveTopLevelDomain:function(e){var t=e.indexOf(":");-1!==t&&(e=e.slice(0,t));var n=e.split(".");"www"===n[0]&&"com"!==n[1]&&n.shift();for(var r,o=n.length,i=o,a=n[o-1].length,s=[];r=n[--i];)if(s.unshift(r),0===i||i<o-2||r.length<a||me.indexOf(Ie.TLDs,r,!0)<0)return s.join(".");return ve.log("Failed resolving top level domain for host: "+e),null}};I.prototype.get=function(e){return this.map[e]},I.prototype.set=function(e,t){this.map[e]=t,this.writeToCookie()},I.prototype.toMap=function(e){if(me.isUndefined(e))return{};for(var t=e.split(";"),n=0;n<t.length;n++){var r=t[n].split(":");2!==r.length?ve.log("Bad format in parsing cookie string: "+e):this.set(r[0],r[1])}return this.map},I.prototype.toString=function(){var e="";for(var t in this.map)this.map.hasOwnProperty(t)&&(e+=(0===e.length?"":";")+t+":"+this.map[t]);return e},I.prototype.readFromCookie=function(){return this.toMap(Ie.get(this.cookieName))},I.prototype.writeToCookie=function(){Ie.set(this.cookieName,this.toString())};var xe={BT:{CLICKS_WITH_NO_MOUSE_MOVES:{code:"1",active:!0},NOT_TRUSTED_MOUSEEVENT:{code:"3",active:!0},INVALID_NAVIGATION_API_VALUES:{code:"4",active:!0},MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES:{code:"5",active:!0}},HU:{MANY_MOUSE_MOVES_BETWEEN_CLICKS:{code:"-1",active:!0}},mouseMoveOccurred:!1,mouseEnterOccurred:!1,mouseDownOccurred:!1,lastMouseDownCoordinate:null,firstMoveCoordinate:null,firstMoveTimestamp:0,mouseMoveClickAllowedTimeDiff:100,mouseMovesCounter:0,detected:{robot:!1,human:!1},active:!1,session:{map:new I(ee.cookies.robot),names:{DETECT:"d",NON_HUMAN_COUNT:"nh"}},init:function(){if(xe.isSessionDetected()){var e=xe.isSessionRobotDetected();ve.log("Session was already detected as: "+(e?"BOT":"HUMAN"))}else xe.active=!0,xe.createMouseHandlers()},stopDetection:function(){xe.removeAllHandlers(),xe.active=!1},isActive:function(){return xe.active},createMouseHandlers:function(){ve.addEventHandler(n.body,"mousemove",xe.mouseMoveHandler,!0),ve.addEventHandler(n.body,"click",xe.mouseClickHandler,!0)},mouseMoveHandler:function(e){return xe.mouseMoveOccurred||(xe.firstMoveCoordinate=ve.getCoordinate(e),xe.firstMoveTimestamp=ve.currentTimestamp()),xe.mouseMoveOccurred=!0,xe.mouseDownOccurred&&xe.mouseMovesCounter++,!0},mouseEnterHandler:function(){return xe.mouseEnterOccurred=!0,xe.removeMouseHandler("mouseenter",xe.mouseEnterHandler),!0},mouseClickHandler:function(e){return xe.notifyMouseAction(e),!0},removeAllHandlers:function(){xe.removeMouseHandler("mousemove",xe.mouseMoveHandler),xe.removeMouseHandler("click",xe.mouseClickHandler)},removeMouseHandler:function(e,t){try{ve.removeEventHandler(n.body,e,t)}catch(t){ve.log("BotDetector failed to remove "+e+" listener. "+t.message(),t)}},checkTrusted:function(e){xe.BT.NOT_TRUSTED_MOUSEEVENT.active&&"isTrusted"in e&&!1===e.isTrusted&&xe.robotDetected(xe.BT.NOT_TRUSTED_MOUSEEVENT)},checkMouseMovesBetweenClicks:function(e){if(e.type===ee.mouseEvents.down){xe.mouseDownOccurred=!0;var t=ve.getCoordinate(e);null!==xe.lastMouseDownCoordinate?xe.HU.MANY_MOUSE_MOVES_BETWEEN_CLICKS.active&&!ve.isSameCoordinates(t,xe.lastMouseDownCoordinate)?xe.mouseMovesCounter>=10&&xe.humanDetected(xe.HU.MANY_MOUSE_MOVES_BETWEEN_CLICKS):xe.BT.CLICKS_WITH_NO_MOUSE_MOVES.active&&ve.isCoordinatesDistLargerThan(t,xe.lastMouseDownCoordinate,10)&&0===xe.mouseMovesCounter&&xe.robotDetected(xe.BT.CLICKS_WITH_NO_MOUSE_MOVES):xe.mouseMoveOccurred&&xe.checkDifferentCoordinatesAndTimes(e),xe.mouseMovesCounter=0,xe.lastMouseDownCoordinate=t}},checkDifferentCoordinatesAndTimes:function(e){if(xe.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES.active){var t=ve.getCoordinate(e);if(null!==xe.firstMoveCoordinate&&ve.isSameCoordinates(t,xe.firstMoveCoordinate)&&ve.currentTimestamp()-xe.firstMoveTimestamp<xe.mouseMoveClickAllowedTimeDiff){var n=xe.session.map.get(xe.session.names.NON_HUMAN_COUNT);if(me.isUndefined(n))xe.session.map.set(xe.session.names.NON_HUMAN_COUNT,1);else{var r=parseInt(n);isNaN(r)&&(ve.log("Bad format of non human counter in the robot cookie: "+xe.session.map.toString()),r=1),r++,xe.session.map.set(xe.session.names.NON_HUMAN_COUNT,r),xe.robotDetected(xe.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES),xe.BT.MOVE_AND_CLICK_SAME_COORDINATES_AND_TIMES.active=!1}}}},notifyMouseAction:function(e){e.type===ee.mouseEvents.down&&xe.checkMouseMovesBetweenClicks(e),xe.checkTrusted(e)},notifyInvalidNavigationAPIValues:function(){xe.BT.INVALID_NAVIGATION_API_VALUES.active&&xe.robotDetected(xe.BT.INVALID_NAVIGATION_API_VALUES)},reportRobotDetection:function(e){var t=we.createEventObject("botDetection",ve.currentTimestamp(),null);t.value=e.code,t.shouldEncodeValue=!1,we.saveEvent(t)},robotDetected:function(e){xe.active&&(ve.log("BotDetector has detected a bot with type: "+e.code),xe.reportRobotDetection(e),e.active=!1,xe.markSession(xe.session.names.DETECT,e.code),xe.detected.robot=!0,xe.stopDetection())},humanDetected:function(e){ve.log("Human Detected ["+e.code+"]"),xe.detected.human=!0,xe.markSession(xe.session.names.DETECT,e.code),xe.stopDetection()},markSession:function(e,t){xe.session.map.set(e,t)},isSessionDetected:function(){var e=xe.session.map.get(xe.session.names.DETECT);return!me.isUndefined(e)},isSessionRobotDetected:function(){var e=xe.session.map.get(xe.session.names.DETECT);if(me.isUndefined(e))return!1;var t=parseInt(e);return!isNaN(t)&&t>0},isSessionHumanDetected:function(){var e=xe.session.map.get(xe.session.names.DETECT);if(me.isUndefined(e))return!1;var t=parseInt(e);return!isNaN(t)&&t<0}};we.checkElementChangebility=function(e){var t=e.nodeName,n=e.type,r=!1,o=!1;switch(t){case"SELECT":o=!0;break;case"TEXTAREA":r=!0;break;case"INPUT":if(null===n)break;switch(n){case"checkbox":case"radio":o=!0;break;case"text":case"password":case"number":case"file":case"url":case"search":case"email":case"date":case"time":case"tel":case"range":case"month":case"week":case"datetime":case"datetime-local":case"color":r=!0}}return{isTypable:r,isSelectable:o}},we.isTypableElement=function(e){return we.checkElementChangebility(e).isTypable},we.isSelectableElement=function(e){return we.checkElementChangebility(e).isSelectable},we.isChangebleElement=function(e){return we.isTypableElement(e)||we.isSelectableElement(e)},we.directValueInputTypes=["text","number","file","url","search","email","date","time","tel","range","month","week","datetime","datetime-local","color","radio"],we.extractElementValue=function(e,t){var n=t.nodeName,r=te.maskingMode===ee.ValueMaskingMode.WhiteList;if(t.hasAttribute(ee.maskingAttribute)||ve.hasClassName(t,"cls_mask")?r=!0:te.maskList&&me.contains(te.maskList,ve.getElementId(t))?r=!r:te.maskClassList&&ve.hasOneOfClassNames(t,te.maskClassList)&&(r=!r),r){var o=t.value;return"string"==typeof o?new Array(o.length+1).join("*"):void ve.log("Error masking value for element:  "+(elementId||t)+" . Value is not a String.")}if("INPUT"===n){var i=t.type;if(me.contains(we.directValueInputTypes,i))return t.value;if("checkbox"===i)return t.checked?"true":"false";if("password"===i){var a=t.value;if(te.extractPasswords)return a;if("string"==typeof a)return new Array(a.length+1).join("*")}}else{if("TEXTAREA"===n)return t.value;if("SELECT"===n){var s=t.options;if(!me.isUndefined(s)&&"number"==typeof s.length&&s.length>0){if(!me.isUndefined(t.multiple)&&t.multiple)return"["+we.extractMultipleSelectValues(s).join(",")+"]";if(!me.isUndefined(t.selectedIndex)&&!me.isUndefined(s[t.selectedIndex]))return s[t.selectedIndex].value}}}},we.extractElementSource=function(e,t){var n=t.src||t.href;return me.isUndefined(n)||null==n?void 0:n},we.extractLocationHash=function(e,t){return ve.getLocationUrlSplitByHash().hash},we.extractMultipleSelectValues=function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.selected&&t.push(r.value)}return t},we.extractScrollValue=function(e,t){if("#document"===t.nodeName){var n=ve.getScrollTopLeft();return new C(n.left,n.top)}return new C(t.scrollLeft,t.scrollTop)},we.extractMouseMoveValue=function(e,t){return[ve.getCoordinate(e)]},we.extractErrorValue=function(e,t){var n="";return"string"==typeof e.message&&(n+=e.message),"string"==typeof e.url?n+="; URL: "+e.url:"string"==typeof e.filename&&(n+="; FILE: "+e.filename),"number"==typeof e.lineno&&(n+="; L: "+e.lineno),"number"==typeof e.colno&&(n+="; C: "+e.colno),n},x.prototype={toString:function(){return this.type},setExtraInfo:function(e,t){me.isUndefined(t)?ve.log("Failed setting value for extra info attribute: "+e+". Value is undefined"):(me.isUndefined(this.extraInfo)&&(this.extraInfo={}),this.extraInfo[e]=t)},getExtraInfo:function(e){if(me.isUndefined(this.extraInfo))return null;var t=this.extraInfo[e];return void 0===t?null:t},setDebugInfo:function(e){me.isUndefined(this.debugInfo)&&(this.debugInfo={}),this.debugInfo=e},getDebugInfo:function(){return this.debugInfo},getSubPage:function(){return this.subPage},addHybridActionDataItem:function(e,t){me.isUndefined(t)?ve.log("Failed setting value for hybrid action data item: "+e+". Value is undefined"):(me.isUndefined(this.hybridActionData)&&(this.hybridActionData={}),this.hybridActionData[e]=t)},getdHybridActionData:function(){return this.hybridActionData},ofSameSegment:function(e){return this.referrer===e.referrer&&this.subPage===e.subPage}},x.prototype.FOCUS_TIME_ATTR="focusTime",x.prototype.AUTO_COMPLETE_ATTR="autoComplete",x.prototype.VISUAL_NAME="visualName",x.prototype.WINDOW_DEPTH="windowDepth",x.prototype.CONTAINER_ID="containerId",x.prototype.PARENT_PAGE_ID="parentPageId",x.prototype.HISTORY_LENGTH="historyLen",x.prototype.TIME_SINCE_LAST_EVENT="timeSinceLastIdle",x.prototype.COORDINATE_ATTR="coordinate",x.prototype.SCROLL_REACH="scrollReach",x.prototype.MOVES_TRUNCATED="truncated",x.prototype.LOST_EVENTS_NUM="lostEvents",x.prototype.TP_INTEGRATION_TYPE="tpIntegrationType",x.prototype.EXTERNAL_ID="externalId",x.prototype.SYNC_COORDINATE="syncCoordinates",x.prototype.ZOOM="zoom",x.prototype.MOBILE_HYBRID_ID="mobileHybridId",x.prototype.extraInfoAttrs=[{name:x.prototype.FOCUS_TIME_ATTR,encodeName:"ft",encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.AUTO_COMPLETE_ATTR,encodeName:"ac",encodeFunc:Te.encodeBoolean,encodeCode:ee.dictionary.encodeEncodingType("cd_boolean")},{name:x.prototype.VISUAL_NAME,encodeName:"vn",encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")},{name:x.prototype.WINDOW_DEPTH,encodeName:x.prototype.WINDOW_DEPTH,encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.CONTAINER_ID,encodeName:x.prototype.CONTAINER_ID,encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")},{name:x.prototype.PARENT_PAGE_ID,encodeName:x.prototype.PARENT_PAGE_ID,encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")},{name:x.prototype.HISTORY_LENGTH,encodeName:x.prototype.HISTORY_LENGTH,encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.TIME_SINCE_LAST_EVENT,encodeName:"tl",encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.COORDINATE_ATTR,encodeName:"co",encodeFunc:Te.encodeCoordinate64,encodeCode:ee.dictionary.encodeEncodingType("cd_coordinate")},{name:x.prototype.SCROLL_REACH,encodeName:"sr",encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.MOVES_TRUNCATED,encodeName:"tr",encodeFunc:Te.encodeBoolean,encodeCode:ee.dictionary.encodeEncodingType("cd_boolean")},{name:x.prototype.LOST_EVENTS_NUM,encodeName:"le",encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.TP_INTEGRATION_TYPE,encodeName:"tp",encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")},{name:x.prototype.EXTERNAL_ID,encodeName:"ei",encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")},{name:x.prototype.SYNC_COORDINATE,encodeName:"sy",encodeFunc:Te.encodeCoordinate64,encodeCode:ee.dictionary.encodeEncodingType("cd_coordinate")},{name:x.prototype.ZOOM,encodeName:"zo",encodeFunc:Te.encodeNumber,encodeCode:ee.dictionary.encodeEncodingType("cd_number")},{name:x.prototype.MOBILE_HYBRID_ID,encodeName:x.prototype.MOBILE_HYBRID_ID,encodeFunc:Te.encodeString,encodeCode:ee.dictionary.encodeEncodingType("cd_string")}];var Ae={showErrorsLRU:new f(20),initialize:function(e){return!!te.reportValidationErrors&&(e.on("init:loaded",Ae.intercept),!0)},intercept:function(){if(Ae.jqueryValidatorExist()){ve.log("Intercepting jQuery Validator errors.");var e=jQuery.validator.prototype.showErrors;jQuery.validator.prototype.showErrors=function(t){try{if(this.errorList&&this.errorList.length>0)for(var n=0;n<this.errorList.length;n++){var r=this.errorList[n].element,o=this.errorList[n].message,i="SAME - NOT REPORTING",a=be.getSelectorExpression(r)||ee.encoding.rootSelector,s=Ae.showErrorsLRU.set(a,o);if(null===s||me.isUndefined(s))i="NEW";else if(s!==o)i="UPDATE";else if(s===o){var c=this.errorsFor(r);c&&c.length>0&&!me.isUndefined(c[0].innerHTML)&&(c[0].innerHTML===o&&jQuery(c[0]).is(":visible")||(i="SHOW"))}var u=new A(r,o,a);ve.trace("Validation error identified: "+u+" | "+i),"NEW"!==i&&"UPDATE"!==i&&"SHOW"!==i||he.emit("jquery:validationError",u)}}catch(e){ve.log("Failed intercepting showErrors for validation error report. "+e.message,e)}e.call(this,t)}}},jqueryValidatorExist:function(){try{return jQuery.validator}catch(e){return!1}}};A.prototype.toString=function(){var e=ve.getElementId(this.element);return(e||(this.element.name?this.element.name:this.element))+' > "'+this.message+'"'},we.registerPlugin("formValidationInterceptor",Ae);var Ne={initialize:function(e){return!(!te.SCIntegration||void 0===te.SCIntegrationURLsContainList||void 0===te.SCIntegrationKeyList||0===te.SCIntegrationKeyList.length)&&(e.on("init:preloaded",Ne.intercept),ve.log("Intercepting SiteCatalyst reports."),!0)},intercept:function(){var e=window.Image;window.Image=function(t,n){var r=function(){try{if(o.src&&_e.isUrlToReport(o.src,te.SCIntegrationURLsContainList)){ve.trace("Image thirdparty intercepted: "+o.src);var e=_e.parseToKVMap(o.src,te.SCIntegrationKeyList);if(e){var t=new R(e);he.emit("3rdpartymap:scReport",t)}}}catch(e){ve.log("Error while checking image "+o.src+" for SC integration: "+e.message,e)}},o=new e(t,n);try{o.addEventListener("load",r)}catch(e){ve.log("Failed intercepting Image constructor for SC integration. "+e.message,e)}return o}}};R.prototype.toString=function(){return this.type+": "+this.data},we.registerPlugin("SCIntegration",Ne),we.extractVisualName=function(e,t){if(t&&ve.isElement(t)&&!me.contains(te.visualName.filterNamingByTagName,t.tagName.toLocaleLowerCase())){var n="",r=ve.getAttributeForElement(t,te.visualName.CLS_NAME_ATTR);r&&(n="by cls_vname"),!r&&te.visualName.by.title&&(r=ve.getAttributeForElement(t,"title"))&&(n="by title"),!r&&te.visualName.by.alt&&(r=ve.getAttributeForElement(t,"alt"))&&(n="by alt"),!r&&te.visualName.by.ariaLabel&&(r=ve.getAttributeForElement(t,"aria-label"))&&(n="by aria-label"),!r&&te.visualName.by.inlineText&&(r=we.getInlineText(t))&&(n="by #text"),!r&&te.visualName.by.placeholder&&(r=ve.getAttributeForElement(t,"placeholder"))&&(n="by placeholder"),r||!te.visualName.by.inputConsts&&!te.visualName.by.inputButtonsValue||(r=we.getInputNames(t))&&(n="by input specific"),!r&&te.visualName.by.name&&(r=ve.getAttributeForElement(t,"name"))&&(n="by name"),!r&&te.visualName.by.id&&(r=ve.getAttributeForElement(t,"id"))&&(n="by id"),!r&&te.visualName.by.parent&&(r=we.getVNByParent(t))&&(n="by parent"),!r&&te.visualName.by.child&&(r=we.getVNByChild(t))&&(n="by child"),r?(r.length>te.visualName.chatLimit&&(r=r.substr(0,te.visualName.chatLimit).concat("...")),e.setExtraInfo(x.prototype.VISUAL_NAME,r),te.visualNameDebug&&ve.trace("VISUAL NAME: ("+e.type+" on "+t.tagName+" "+(t.type?t.type:"")+") "+n+" - "+r)):te.visualNameDebug&&ve.trace("VISUAL NAME: ("+e.type+" on "+t.tagName+" "+(t.type?t.type:"")+") ----- NOT FOUND")}},we.getVNByChild=function(e){if(!me.contains(te.visualName.elementListToCheckChild,e.tagName.toLocaleLowerCase()))return null;var t;if(1===e.childElementCount){var n=e.firstElementChild;t=ve.getAttributeForElement(n,"title")||ve.getAttributeForElement(n,"alt")||ve.getAttributeForElement(n,"aria-label")||ve.getAttributeForElement(n,"name")||ve.getAttributeForElement(n,"id")}return t||null},we.getVNByParent=function(e){if(!me.contains(te.visualName.elementListToCheckParent,e.tagName.toLocaleLowerCase()))return null;var t=null,n=e.parentElement;return!n||"a"!==n.tagName.toLocaleLowerCase()&&"button"!==n.tagName.toLocaleLowerCase()||(t=ve.getAttributeForElement(n,"title")||ve.getAttributeForElement(n,"alt")||ve.getAttributeForElement(n,"aria-label")||ve.getAttributeForElement(n,"name")||ve.getAttributeForElement(n,"id")),t||null},we.getInlineText=function(){var e;return function(t){var n=t.tagName.toLocaleLowerCase();if("td"===n)return null;var r=ve.getAttributeForElement(t,"class");if(r&&me.contains(te.visualName.filterInlineTextByClassName,r))return null;var o,i=null;if(("span"===n||"div"===n)&&1===t.childElementCount&&(o=t.firstElementChild)&&"a"===o.tagName.toLocaleLowerCase()&&0===o.childElementCount){var a=o.innerText;a&&(a=ve.trim(a)),i=a}if(!i&&me.contains(te.visualName.filterInlineTextByTagName,n)){var s=t.parentElement?t.parentElement.tagName.toLocaleLowerCase():"";if("a"!==s&&"button"!==s)return null}if(i||0!==t.childElementCount||(i=t.innerText)&&(i=ve.trim(i)),i||1===t.childElementCount&&0===(o=t.firstElementChild).childElementCount&&(i=o.innerText)&&(i=ve.trim(i)),void 0===e){var c=we.plugins.domMutationTracker;e=c?c.getMasker():null}return i&&e&&e.isDomMasked(t,Le.SELF_OR_ANY_PARENT,De.TEXT)&&(i=$.maskValueOf(i)),i||null}}(),we.getInputNames=function(e){var t;if("input"===e.tagName.toLocaleLowerCase()){var n=e.type.toLocaleLowerCase();if("button"!==n&&"submit"!==n&&"reset"!==n||!te.visualName.by.inputButtonsValue||(t=e.value),!t&&te.visualName.by.inputConsts)switch(n){case"password":t="Password";break;case"button":case"submit":case"image":t="Submit";break;case"file":t="Choose File";break;case"reset":t="Reset"}}return t&&(t=ve.trim(t)),t||null},we.triggerCustomEvent=function(e,t,n){try{if(me.isUndefined(e)||!me.isString(e)||0===e.length||me.isUndefined(t))return void ve.log("triggerCustomEvent: bad argument: eventName="+e+" eventValue="+t);var r={name:""+e,val:""+t,domEl:n};we.saveCustomEvent(r)}catch(r){ve.log("triggerCustomEvent: error while triggering event with name="+e+" value="+t+"domElement="+n,r.stack?r.stack:r.message)}},we.fetchAll=function(){try{Oe.fetchAll()}catch(e){ve.log("fetchAll: Error while fetching resources. ",e.stack?e.stack:e.message)}},we.fetchLog=function(){try{Oe.fetchLog()}catch(e){ve.log("fetchLog: Error while logging resources. ",e.stack?e.stack:e.message)}},we.fetchStatus=function(){try{Oe.fetchStatus()}catch(e){ve.log("fetchStatus: Error while logging resources. ",e.stack?e.stack:e.message)}},M.extractTLD=function(e){var t=e.split(".");return t.shift(),t.length>0?t.join("."):e},O.cfgBackwardComp=function(e){var t=!1;if(void 0===e.ajaxRecordMatadata&&void 0!==e.recordAjaxRequest&&(e.ajaxRecordMetadata=""+e.recordAjaxRequest,t=!0),void 0===e.ajaxRecordResponseBody){var n=[];e.ajaxCaptureFQDNOnly&&n.push("fqdn"),e.ajaxCaptureResponseContentWhenUrlMatches&&n.push("uriMatches("+e.ajaxCaptureResponseContentWhenUrlMatches+")"),void 0!==e.ajaxCaptureResponseOnStatusGreater&&-1!==e.ajaxCaptureResponseOnStatusGreater&&n.push("statusGte("+e.ajaxCaptureResponseOnStatusGreater+")"),n.length>0&&(e.ajaxRecordResponseBody=n.join(","),t=!0)}return void 0===e.ajaxRecordResponseHeaders&&void 0!==e.ajaxCaptureResponseHeaders&&(e.ajaxRecordResponseHeaders=""+e.ajaxCaptureResponseHeaders,t=!0),t},O.fixHeaders=function(e,t){var n=e.replace(/content-encoding:\sgzip/gi,"X-Glassbox-Orig-Content-Encoding: zip").replace(/transfer-encoding:\schunked/gi,"X-Glassbox-Orig-Transfer-Encoding: chunked");return t?n.replace(/content-length:/gi,"X-Glassbox-Orig-Content-Length:")+"Content-Length: "+t+"\r\n":n},O.hasGzipContentEncoding=function(e){return null!==/content-encoding:\sgzip/gi.exec(e)},O.isClsOwnAjax=function(e){return e.cls_own},O.captureContent=function(e,t){var n=null;return""===e.responseType||"text"===e.responseType?n=e.responseText:"json"===e.responseType&&(n=JSON.stringify(e.response)),n},O.supportAjaxOnProgressEvents=function(){return"onloadend"in new XMLHttpRequest},D.prototype.toString=function(){return this.method+" "+this.url+(this.status?" "+this.status:"")},void 0!==te&&te.interceptAjax&&we.registerPlugin("ajaxInterceptor",new O(window,n.location.host,te,["adrum","dynatrace","appdynamics.com","tealeaf","/retail/discountinternet/portal/coex.asmx/keepalive","oauth/cc"])),L.READY_COOKIE="_cls_ready",L.STATE={INIT:0,HELPING:1,READY:2};var Re={name:"POST",ready:!0,corsHelper:we.isCorsReporting?new L(n,te.reportURI,new _(te.reportAddUriParams),te.reportCorsTakeNativeCookies):o,uriPolicy:new _(te.reportAddUriParams),config:{maxReportSize:te.maxPostReportSize,maxReports:-1},gainLockToReport:function(){var e=Re.ready;return e&&Re.setReady(!1),e},freeLock:function(){Re.setReady(!0)},setReady:function(e){Re.ready=e},flushEvents:function(e,t,n){var r;n&&(r=n.pid,delete n.pid);var o=Re.prepareUri(t,r,n);Re.corsHelper?Re.corsHelper.help(Ee.createXMLHTTPObject,function(n){Re.createRequest(e,t,o,n)}):Re.createRequest(e,t,o)},createRequest:function(e,t,n,r,o){e=e||"",o=o||!1;var i=Ee.createXMLHTTPObject();if(!i)return ve.log("Failed creating an XMLHttpRequest object"),void Re.setReady(!0);i.onreadystatechange=function(){4===i.readyState&&(200===i.status?Re.setReady(!0):te.postRetry&&!o?(ve.log("Failed POST data ("+t+"): "+i.status+"  "+i.statusText+" ...retrying..."),Re.createRequest(e,t,n,r,!0)):(Re.addFailNotesOnCookie(t,i.status,i.statusText),ve.log("Failed "+(o?"again ":"")+"POST data ("+t+"): "+i.status+"  "+i.statusText+" . aborting. "),i.abort(),Re.setReady(!0)))};try{i.open("POST",n,!0),i.onprogress=function(){},i.ontimeout=function(){},i.onerror=function(){},i.withCredentials=r,we.beaconEncoder.visitXhr(i),setTimeout(function(){try{i.send(e)}catch(e){ve.log("Failed sending (in) POST request ("+t+") to url "+n+": "+e.message,e),Re.setReady(!0)}},0)}catch(e){ve.log("Failed sending POST request ("+t+") to url "+n+": "+e.message,e),Re.setReady(!0)}},addFailNotesOnCookie:function(e,t,n){var r=Ie.get(ee.cookies.debuginfo)||"";if(!(r.length>50)){var o="";-1!==r.indexOf("|")&&(o=r.substring(0,r.indexOf("|")));var i=(o?".":"")+e+"|E"+t;Ie.set(ee.cookies.debuginfo,o+i)}},prepareUri:function(e,t,n){var r=Re.uriPolicy.apply(ke.baseURI,e,t);if(n){var o,i=[];for(o in n)i.push(o+"="+n[o]);i.length>0&&(r+=(-1===r.indexOf("?")?"?":"&")+i.join("&"))}return r}},Me={name:"GET",domBeaconImgNum:0,uriPolicy:new _(te.reportAddUriParams),config:{maxReportSize:te.maxReportSize,maxReports:-1},gainLockToReport:function(){return!0},freeLock:function(){},flushEvents:function(e,t,n){var r=ke.baseURI+e;Me.createRequest(Me.uriPolicy.apply(r))},createRequest:function(e){te.DOMBeaconImg?Me.changeImgSrcByDOM(e):Me.createImageWithSrc(e)},createImageWithSrc:function(e){(new Image).src=e},changeImgSrcByDOM:function(e){var t="_cls_beacon_img_"+(new Date).getTime()+" "+Me.domBeaconImgNum++,r=n.getElementById(t);null===r&&((r=n.createElement("img")).id=t,r.style.width="1px",r.style.height="1px",r.style.visibility="hidden",r.style.position="fixed",n.body&&n.body.appendChild(r)),r.src=e}};U.loadAndClearReports=function(e){var t=e[U.KEY_NAME];if(delete e[U.KEY_NAME],t){var n,r=JSON.parse(t);for(n=0;n<r.length;n++)r[n].encoding===U.ENCODING_BASE64&&(r[n].e=U.toBytes(ve.Base64.atob(r[n].e))),delete r[n].encoding;return r}return o},U.toBytes=function(e){var t,n=new Uint8Array(new ArrayBuffer(e.length));for(t=0;t<n.length;t++)n[t]=e.charCodeAt(t);return n},U.KEY_NAME="_cls_rpt",U.ENCODING_BASE64="b64";var ke={eventsToReport:[],freshEventsNum:0,reporter:te.reportByPost?Re:Me,sequenceNumber:0,lastSnapshotEnabledStepType:null,lastPageSnapshotSequence:-1,stats:{count:0,flushedBytes:0,estimatedBytes:{expected:0,actual:0}},initialize:function(e){if(!me.isUndefined(te.reportURI)&&0!==te.reportURI.length)return ve.log("Reporting using: "+(te.reportByPost?"POST":"GET")),ve.log("Report Encoding: "+we.beaconEncoder.name),ve.log("Report Compression: "+(te.reportCompress?"ENABLED":"DISABLED")+" supported by encoder:"+we.beaconEncoder.supportsCompression),ke.baseURI=te.reportURI,te.reportByPost||(ke.baseURI+=-1!==te.reportURI.indexOf("?")?"&":"?"),ke.pageId=we.page.id,ke.idleLatestEventTime=ke.idleBaseTime=ve.currentTimestamp(),ke.freshStartInd=0,e.on("init:loaded",ke.startTimer),e.on("saveEvent",ke.saveEvent),e.on("event:document",ke.reportOnLoad),e.on("event:unload",ke.reportOnUnload),e.on("reportImmediately",ke.reportImmediately),e.on("pageSnapshot:report",ke.onPageSnapshot),!0;console.log("ERROR[EyeView-1401]: Detector script is missing configuration for 'reportURI'. Please add it.")},sendStoragePendingReports:function(){try{var e=U.loadAndClearReports(window.sessionStorage);if(e){ve.log("about to send "+e.length+" storage pending report(s).");var t;for(t=0;t<e.length;t++)ke.reporter.flushEvents(e[t].e,e[t].sn,{pid:e[t].pid,storage:"true"})}}catch(e){ve.log("error: could not send pending storage reports. message:",e.message)}},onPageSnapshot:function(e){ke.reportImmediately(),Ie.set(ee.cookies.sub_session,ve.uuid()),e.cookie=n.cookie,ke.lastPageSnapshotSequence=e.seq},startTimer:function(){ke.sendStoragePendingReports();var e=te.reportByPost?te.reportPostInterval:te.reportInterval;e&&!ke.timer&&(ke.timer=setInterval(ke.reportQueuedEvents,e),ve.log("Beacon: events will be reported in intervals of "+e+" ms."))},isTargetDomOmitted:function(){var e;return function(t){return void 0===e&&(e=we.plugins.domMutationTracker?we.plugins.domMutationTracker.getMasker():null),!(!t.element||!e)&&e.isDomMasked(t.element,Le.SELF_OR_ANY_PARENT,De.OMIT)}}(),saveEvent:function(e){if(Ce.diluteEvents(ke.eventsToReport,e)&&!ke.isTargetDomOmitted(e)){we.tryAttachSnapshotToEvent(e);var t=!1;"pageUpdate"!==e.type||e.domSnapshot||(t=!0),t||ke.eventsToReport.push(e)}ke.elapseIdleTimes()},reportOnLoad:function(e){te.reportAllOnUnload&&ke.reportQueuedEvents(!0)},reportOnUnload:function(e){ve.log("Beacon: unloading page, "+ke.eventsToReport.length+" events to report."),te.reportToStorageAfterUnload&&(void 0!==U&&void 0!==window.sessionStorage?(ve.log("switching to StorageReporter, following 'unload' event"),ke.reporter=new U(window.sessionStorage,we.page.id)):ve.log("error: either StorageReporter or window.sessionStorage is undefined, cannot switch to storage reporting.")),ke.reportQueuedEventsUnload()},reportQueuedEventsUnload:function(){ke.eventsToReport.length>0&&(te.reportAllOnUnload||!te.truncateEventsWithUnload||te.reportByPost||(ke.eventsToReport=Ce.truncateEventsForUnload(ke.eventsToReport)),ke.reportAllCollectedEvents(!0))},hasDependentEventsOnly:function(e,t){for(var n=t;n<e.length;n++)if(!e[n].dependent)return!1;return!0},reportImmediately:function(){ke.reportQueuedEvents(!0)},reportQueuedEvents:function(e){try{if(e&&ke.eventsToReport.length>0)return void ke.reportAllCollectedEvents();if(ke.eventsToReport.length>ke.freshStartInd)return te.reportAllOnUnload?void(ke.freshStartInd=ke.eventsToReport.length):ke.hasDependentEventsOnly(ke.eventsToReport,ke.freshStartInd)?void(ke.freshStartInd=ke.eventsToReport.length):void ke.reportAllCollectedEvents();te.idleEventTimeInterval>0&&ve.currentTimestamp()-ke.idleLatestEventTime>=te.idleEventTimeInterval&&ve.currentTimestamp()-ke.idleBaseTime<te.maxTimeForIdleEvent&&(ke.reportIdleEvent(ke.idleLatestEventTime),ke.idleLatestEventTime=ve.currentTimestamp())}catch(e){ve.log("ERROR: while reporting queued events. Exception: ",e.stack?e.stack:e.message)}},elapseIdleTimes:function(){ke.idleLatestEventTime=ke.idleBaseTime=ve.currentTimestamp()},reportAllCollectedEvents:function(e){if(ke.reporter.gainLockToReport()||e){var t=ke.eventsToReport;ke.eventsToReport=[];try{ke.reportEvents(t,e)}catch(e){ve.log("ERROR: while reporting events. Exception: ",e.stack?e.stack:e.message),ke.reporter.freeLock()}ke.freshStartInd=0,Ce.notifyEventsFlush()}else ve.log("reporter not ready yet. postponing "+ke.eventsToReport.length+" events reports.")},reportIdleEvent:function(e){var t=we.createEventObject("idle",ve.currentTimestamp(),null),n=ve.currentTimestamp();if(t.value=n-ke.idleBaseTime,t.binding={valueEncoding:Te.encodeNumber},t.setExtraInfo(x.prototype.TIME_SINCE_LAST_EVENT,n-e),te.reportAllOnUnload)ke.eventsToReport.push(t);else{var r=[t];ke.reportEvents(r)}},reportEvents:function(e,t){t=t||!1;var n=ke.reporter.config.maxReports;if(!we.config.reportByPost&&t&&(n=te.maxReportsWithUnload),t&&te.domOmitAfterUnload){var r;for(r=0;r<e.length;r++)delete e[r].domSnapshot}ke.encodeAndConcatenateEvents(e,ke.reporter.config.maxReportSize,n)},encodeAndConcatenateEvents:function(e,t,n){var r=null;-1!==n&&e.length>1&&"unload"===e[e.length-1].type&&(r=e.pop());for(var o,i,a,s=0,c=[],u="",l=0,d=e[0].type,p=we.segmentManager.createSegmentTracker(),f=0;f<e.length;f++){o=e[f],a=p.track(o);var m=o.type,g=d===m,h=me.isUndefined(o.selectorExpression)||null==o.selectorExpression?ee.encoding.rootSelector:o.selectorExpression,v=h;if(ee.repeatingElementSelector&&!me.isUndefined(ee.repeatingElementSelector)&&(h===ee.encoding.rootSelector?u="":h===u?(v=ee.repeatingElementSelector,u=h):u=h),i=ke.safeEncodeEvent(o,v),me.contains(ee.nobelEventTypes,o.type))c.length>0&&ke.flushEvents(c,p.getLast()),ke.flushEvents([i],p.getCurrent()),c=[],l=0,u="",d=m;else{var E=!(0!==c.length&&!g)||!(me.contains(ee.socialNobelEventTypes,o.type)||me.contains(ee.socialNobelEventTypes,d)),y=i.length+(0===c.length?0:ee.encoding.delimiters.events.length),b=-1===t||we.beaconEncoder.estimateBeaconSize(l+y)<t;if(a&&b&&E)l+=y,c.push(i);else{if(c.length>0){if(function(){return s++,-1!==n&&s>=n}()){if(null!==r){var _=e.length-f;ve.log("Reached max number of reports allowed ("+n+"). Lost "+_+" events."),r.setExtraInfo(r.LOST_EVENTS_NUM,_),i=we.beaconEncoder.encodeEvent(r),c.push(i),ke.flushEvents(c,p.getLast(),l)}return}ke.flushEvents(c,p.getLast(),l),c=[],l=0}v===ee.repeatingElementSelector&&(i=ke.safeEncodeEvent(o,h)),-1!==t&&we.beaconEncoder.estimateBeaconSize(i.length)>t?(ke.flushEvents([i],p.getCurrent()),u=""):(c.push(i),l+=i.length)}d=m}}if(c.length>0){if(null!==r){var T=we.beaconEncoder.encodeEvent(r);c.push(T)}ke.flushEvents(c,p.getLast(),l)}},safeEncodeEvent:function(e,t){try{return we.beaconEncoder.encodeEvent(e,t)}catch(r){ve.log("ERROR: while encoding event: "+e.type+" . Exception: ",r.stack?r.stack:r.message);var n=ke.generateClsdebugEventInstead(e,r);return we.beaconEncoder.encodeEvent(n,t)}},generateClsdebugEventInstead:function(e,t){var n="";if(void 0!==e.value)try{n=JSON.stringify(e.value),n=ve.truncateStr(n,400,!0)}catch(e){n="cannot stringify value because: "+e.message}var r="encoding event: '"+e.type+"' with value: {"+n+"}",o=we.formatClsDebugMessage(r,t,"event cancelled");0===o.length&&(o="CLS Error in\tencoding event: '"+e.type+"' ...");var i=we.createEventObject("clsdebug",ve.currentTimestamp(),null);return i.value=o,i},flushEvents:function(e,t,n){ke.sequenceNumber++;var r=ke.buildBeaconPayload(t.referrer,t.subPage,e,ke.sequenceNumber);ke.reporter.flushEvents(r,ke.sequenceNumber),ke.updateStats(r.length,n),ve.trace("Beacon["+ke.sequenceNumber+" payload-len:"+r.length+"]: "+ke.reporter.name+" reported "+e.length+" events"+(t.subPage.length>0?" [on "+t.subPage+"]":""),e)},updateStats:function(e,t){ke.stats.count++,ke.stats.flushedBytes+=e,t&&(ke.stats.estimatedBytes.actual+=e,ke.stats.estimatedBytes.expected+=t,ke.stats.estimationRatio=ke.stats.estimatedBytes.expected/ke.stats.estimatedBytes.actual)},buildBeaconPayload:function(e,t,n,r){return we.beaconEncoder.encodeBeacon(ee.beaconVersion,r,te.reportIncludeReferrer?e:o,ke.pageId,t,-1!==ke.lastPageSnapshotSequence?ke.lastPageSnapshotSequence:o,n)}};we.registerPlugin("beaconReport",ke),function(e,t){(t||window||this).pako=function(){return function e(t,n,r){function o(a,s){if(!n[a]){if(!t[a]){var c="function"==typeof require&&require;if(!s&&c)return c(a,!0);if(i)return i(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){var n=t[a][1][e];return o(n||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=c.assign({level:m,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:g,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var n=s.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==f)throw new Error(l[n]);if(t.header&&s.deflateSetHeader(this.strm,t.header),t.dictionary){var o;if(o="string"==typeof t.dictionary?u.string2buf(t.dictionary):"[object ArrayBuffer]"===p.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=s.deflateSetDictionary(this.strm,o))!==f)throw new Error(l[n]);this._dict_set=!0}}function o(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg||l[n.err];return n.result}function i(e,t){return t=t||{},t.raw=!0,o(e,t)}function a(e,t){return t=t||{},t.gzip=!0,o(e,t)}var s=e("./zlib/deflate"),c=e("./utils/common"),u=e("./utils/strings"),l=e("./zlib/messages"),d=e("./zlib/zstream"),p=Object.prototype.toString,f=0,m=-1,g=0,h=8;r.prototype.push=function(e,t){var n,r,o=this.strm,i=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=u.string2buf(e):"[object ArrayBuffer]"===p.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new c.Buf8(i),o.next_out=0,o.avail_out=i),1!==(n=s.deflate(o,r))&&n!==f)return this.onEnd(n),this.ended=!0,!1;0!==o.avail_out&&(0!==o.avail_in||4!==r&&2!==r)||("string"===this.options.to?this.onData(u.buf2binstring(c.shrinkBuf(o.output,o.next_out))):this.onData(c.shrinkBuf(o.output,o.next_out)))}while((o.avail_in>0||0===o.avail_out)&&1!==n);return 4===r?(n=s.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===f):2!==r||(this.onEnd(f),o.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===f&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=r,n.deflate=o,n.deflateRaw=i,n.gzip=a},{"./utils/common":2,"./utils/strings":3,"./zlib/deflate":6,"./zlib/messages":7,"./zlib/zstream":9}],2:[function(e,t,n){"use strict";var r="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var o={arraySet:function(e,t,n,r,o){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),o);else for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){var t,n,r,o,i,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),o=0,t=0,n=e.length;t<n;t++)i=e[t],a.set(i,o),o+=i.length;return a}},i={arraySet:function(e,t,n,r,o){for(var i=0;i<r;i++)e[o+i]=t[n+i]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,o)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,i))},n.setTyped(r)},{}],3:[function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&i))return String.fromCharCode.apply(null,o.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var o=e("./common"),i=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new o.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,n.string2buf=function(e){var t,n,r,i,a,s=e.length,c=0;for(i=0;i<s;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new o.Buf8(c),a=0,i=0;a<c;i++)55296==(64512&(n=e.charCodeAt(i)))&&i+1<s&&56320==(64512&(r=e.charCodeAt(i+1)))&&(n=65536+(n-55296<<10)+(r-56320),i++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},n.buf2binstring=function(e){return r(e,e.length)},n.binstring2buf=function(e){for(var t=new o.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,o,i,a,c=t||e.length,u=new Array(2*c);for(o=0,n=0;n<c;)if((i=e[n++])<128)u[o++]=i;else if((a=s[i])>4)u[o++]=65533,n+=a-1;else{for(i&=2===a?31:3===a?15:7;a>1&&n<c;)i=i<<6|63&e[n++],a--;a>1?u[o++]=65533:i<65536?u[o++]=i:(i-=65536,u[o++]=55296|i>>10&1023,u[o++]=56320|1023&i)}return r(u,o)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0?t:0===n?t:n+s[e[n]]>t?n:t}},{"./common":2}],4:[function(e,t,n){"use strict";function r(e,t,n,r){for(var o=65535&e|0,i=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{i=i+(o=o+t[r++]|0)|0}while(--a);o%=65521,i%=65521}return o|i<<16|0}t.exports=r},{}],5:[function(e,t,n){"use strict";function r(e,t,n,r){var i=o,a=r+n;e^=-1;for(var s=r;s<a;s++)e=e>>>8^i[255&(e^t[s])];return-1^e}var o=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=r},{}],6:[function(e,t,n){"use strict";function r(e,t){return e.msg=D[t],t}function o(e){return(e<<1)-(e>4?9:0)}function i(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(R.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){M._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function u(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function l(e,t,n,r){var o=e.avail_in;return o>r&&(o=r),0===o?0:(e.avail_in-=o,R.arraySet(t,e.input,e.next_in,o,n),1===e.state.wrap?e.adler=k(e.adler,t,o,n):2===e.state.wrap&&(e.adler=O(e.adler,t,o,n)),e.next_in+=o,e.total_in+=o,o)}function d(e,t){var n,r,o=e.max_chain_length,i=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-ue?e.strstart-(e.w_size-ue):0,u=e.window,l=e.w_mask,d=e.prev,p=e.strstart+ce,f=u[i+a-1],m=u[i+a];e.prev_length>=e.good_match&&(o>>=2),s>e.lookahead&&(s=e.lookahead);do{if(n=t,u[n+a]===m&&u[n+a-1]===f&&u[n]===u[i]&&u[++n]===u[i+1]){i+=2,n++;do{}while(u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&u[++i]===u[++n]&&i<p);if(r=ce-(p-i),i=p-ce,r>a){if(e.match_start=t,a=r,r>=s)break;f=u[i+a-1],m=u[i+a]}}}while((t=d[t&l])>c&&0!=--o);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,r,o,i,a=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-ue)){R.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);o+=a}if(0===e.strm.avail_in)break;if(n=l(e.strm,e.window,e.strstart+e.lookahead,o),e.lookahead+=n,e.lookahead+e.insert>=se)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[i+se-1])&e.hash_mask,e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<se)););}while(e.lookahead<ue&&0!==e.strm.avail_in)}function f(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===L)return Ee;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return Ee;if(e.strstart-e.block_start>=e.w_size-ue&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?be:_e):(e.strstart>e.block_start&&(s(e,!1),e.strm.avail_out),Ee)}function m(e,t){for(var n,r;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===L)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n)),e.match_length>=se)if(r=M._tr_tally(e,e.strstart-e.match_start,e.match_length-se),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=se){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=e.strstart<se-1?e.strstart:se-1,t===F?(s(e,!0),0===e.strm.avail_out?be:_e):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:ye}function g(e,t){for(var n,r,o;;){if(e.lookahead<ue){if(p(e),e.lookahead<ue&&t===L)return Ee;if(0===e.lookahead)break}if(n=0,e.lookahead>=se&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=se-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-ue&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===X||e.match_length===se&&e.strstart-e.match_start>4096)&&(e.match_length=se-1)),e.prev_length>=se&&e.match_length<=e.prev_length){o=e.strstart+e.lookahead-se,r=M._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-se),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=o&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+se-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=se-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return Ee}else if(e.match_available){if((r=M._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return Ee}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=M._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<se-1?e.strstart:se-1,t===F?(s(e,!0),0===e.strm.avail_out?be:_e):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:ye}function h(e,t){for(var n,r,o,i,a=e.window;;){if(e.lookahead<=ce){if(p(e),e.lookahead<=ce&&t===L)return Ee;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=se&&e.strstart>0&&(o=e.strstart-1,(r=a[o])===a[++o]&&r===a[++o]&&r===a[++o])){i=e.strstart+ce;do{}while(r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&r===a[++o]&&o<i);e.match_length=ce-(i-o),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=se?(n=M._tr_tally(e,1,e.match_length-se),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?be:_e):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:ye}function v(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===L)return Ee;break}if(e.match_length=0,n=M._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return Ee}return e.insert=0,t===F?(s(e,!0),0===e.strm.avail_out?be:_e):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?Ee:ye}function E(e,t,n,r,o){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=o}function y(e){e.window_size=2*e.w_size,i(e.head),e.max_lazy_match=N[e.level].max_lazy,e.good_match=N[e.level].good_length,e.nice_match=N[e.level].nice_length,e.max_chain_length=N[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=se-1,e.match_available=0,e.ins_h=0}function b(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new R.Buf16(2*ie),this.dyn_dtree=new R.Buf16(2*(2*re+1)),this.bl_tree=new R.Buf16(2*(2*oe+1)),i(this.dyn_ltree),i(this.dyn_dtree),i(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new R.Buf16(ae+1),this.heap=new R.Buf16(2*ne+1),i(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new R.Buf16(2*ne+1),i(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function _(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Q,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?de:he,e.adler=2===t.wrap?0:1,t.last_flush=L,M._tr_init(t),P):r(e,z)}function T(e){var t=_(e);return t===P&&y(e.state),t}function S(e,t){return e&&e.state?2!==e.state.wrap?z:(e.state.gzhead=t,P):z}function w(e,t,n,o,i,a){if(!e)return z;var s=1;if(t===q&&(t=6),o<0?(s=0,o=-o):o>15&&(s=2,o-=16),i<1||i>$||n!==Z||o<8||o>15||t<0||t>9||a<0||a>Y)return r(e,z);8===o&&(o=9);var c=new b;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=o,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=i+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+se-1)/se),c.window=new R.Buf8(2*c.w_size),c.head=new R.Buf16(c.hash_size),c.prev=new R.Buf16(c.w_size),c.lit_bufsize=1<<i+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new R.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,T(e)}function C(e,t){return w(e,t,Z,ee,te,J)}function I(e,t){var n,s,l,d;if(!e||!e.state||t>j||t<0)return e?r(e,z):z;if(s=e.state,!e.output||!e.input&&0!==e.avail_in||s.status===ve&&t!==F)return r(e,0===e.avail_out?W:z);if(s.strm=e,n=s.last_flush,s.last_flush=t,s.status===de)if(2===s.wrap)e.adler=0,c(s,31),c(s,139),c(s,8),s.gzhead?(c(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),c(s,255&s.gzhead.time),c(s,s.gzhead.time>>8&255),c(s,s.gzhead.time>>16&255),c(s,s.gzhead.time>>24&255),c(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),c(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(c(s,255&s.gzhead.extra.length),c(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(e.adler=O(e.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=pe):(c(s,0),c(s,0),c(s,0),c(s,0),c(s,0),c(s,9===s.level?2:s.strategy>=G||s.level<2?4:0),c(s,Te),s.status=he);else{var p=Z+(s.w_bits-8<<4)<<8;p|=(s.strategy>=G||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(p|=le),p+=31-p%31,s.status=he,u(s,p),0!==s.strstart&&(u(s,e.adler>>>16),u(s,65535&e.adler)),e.adler=1}if(s.status===pe)if(s.gzhead.extra){for(l=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending!==s.pending_buf_size));)c(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=fe)}else s.status=fe;if(s.status===fe)if(s.gzhead.name){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.gzindex=0,s.status=me)}else s.status=me;if(s.status===me)if(s.gzhead.comment){l=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),a(e),l=s.pending,s.pending===s.pending_buf_size)){d=1;break}d=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,c(s,d)}while(0!==d);s.gzhead.hcrc&&s.pending>l&&(e.adler=O(e.adler,s.pending_buf,s.pending-l,l)),0===d&&(s.status=ge)}else s.status=ge;if(s.status===ge&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&a(e),s.pending+2<=s.pending_buf_size&&(c(s,255&e.adler),c(s,e.adler>>8&255),e.adler=0,s.status=he)):s.status=he),0!==s.pending){if(a(e),0===e.avail_out)return s.last_flush=-1,P}else if(0===e.avail_in&&o(t)<=o(n)&&t!==F)return r(e,W);if(s.status===ve&&0!==e.avail_in)return r(e,W);if(0!==e.avail_in||0!==s.lookahead||t!==L&&s.status!==ve){var f=s.strategy===G?v(s,t):s.strategy===K?h(s,t):N[s.level].func(s,t);if(f!==be&&f!==_e||(s.status=ve),f===Ee||f===be)return 0===e.avail_out&&(s.last_flush=-1),P;if(f===ye&&(t===U?M._tr_align(s):t!==j&&(M._tr_stored_block(s,0,0,!1),t===B&&(i(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),a(e),0===e.avail_out))return s.last_flush=-1,P}return t!==F?P:s.wrap<=0?H:(2===s.wrap?(c(s,255&e.adler),c(s,e.adler>>8&255),c(s,e.adler>>16&255),c(s,e.adler>>24&255),c(s,255&e.total_in),c(s,e.total_in>>8&255),c(s,e.total_in>>16&255),c(s,e.total_in>>24&255)):(u(s,e.adler>>>16),u(s,65535&e.adler)),a(e),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?P:H)}function x(e){var t;return e&&e.state?(t=e.state.status)!==de&&t!==pe&&t!==fe&&t!==me&&t!==ge&&t!==he&&t!==ve?r(e,z):(e.state=null,t===he?r(e,V):P):z}function A(e,t){var n,r,o,a,s,c,u,l,d=t.length;if(!e||!e.state)return z;if(n=e.state,2===(a=n.wrap)||1===a&&n.status!==de||n.lookahead)return z;for(1===a&&(e.adler=k(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(i(n.head),n.strstart=0,n.block_start=0,n.insert=0),l=new R.Buf8(n.w_size),R.arraySet(l,t,d-n.w_size,n.w_size,0),t=l,d=n.w_size),s=e.avail_in,c=e.next_in,u=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=se;){r=n.strstart,o=n.lookahead-(se-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+se-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--o);n.strstart=r,n.lookahead=se-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=se-1,n.match_available=0,e.next_in=c,e.input=u,e.avail_in=s,n.wrap=a,P}var N,R=e("../utils/common"),M=e("./trees"),k=e("./adler32"),O=e("./crc32"),D=e("./messages"),L=0,U=1,B=3,F=4,j=5,P=0,H=1,z=-2,V=-3,W=-5,q=-1,X=1,G=2,K=3,Y=4,J=0,Q=2,Z=8,$=9,ee=15,te=8,ne=286,re=30,oe=19,ie=2*ne+1,ae=15,se=3,ce=258,ue=ce+se+1,le=32,de=42,pe=69,fe=73,me=91,ge=103,he=113,ve=666,Ee=1,ye=2,be=3,_e=4,Te=3;N=[new E(0,0,0,0,f),new E(4,4,8,4,m),new E(4,5,16,8,m),new E(4,6,32,32,m),new E(4,4,16,16,g),new E(8,16,32,32,g),new E(8,16,128,128,g),new E(8,32,128,256,g),new E(32,128,258,1024,g),new E(32,258,258,4096,g)],n.deflateInit=C,n.deflateInit2=w,n.deflateReset=T,n.deflateResetKeep=_,n.deflateSetHeader=S,n.deflate=I,n.deflateEnd=x,n.deflateSetDictionary=A,n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":2,"./adler32":4,"./crc32":5,"./messages":7,"./trees":8}],7:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],8:[function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function o(e,t,n,r,o){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=o,this.has_stree=e&&e.length}function i(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?ie[e]:ie[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>G-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>G-e.bi_valid,e.bi_valid+=n-G):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function u(e,t,n){c(e,n[2*t],n[2*t+1])}function l(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}function p(e,t){var n,r,o,i,a,s,c=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,m=t.stat_desc.max_length,g=0;for(i=0;i<=X;i++)e.bl_count[i]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<q;n++)(i=c[2*c[2*(r=e.heap[n])+1]+1]+1)>m&&(i=m,g++),c[2*r+1]=i,r>u||(e.bl_count[i]++,a=0,r>=f&&(a=p[r-f]),s=c[2*r],e.opt_len+=s*(i+a),d&&(e.static_len+=s*(l[2*r+1]+a)));if(0!==g){do{for(i=m-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[m]--,g-=2}while(g>0);for(i=m;0!==i;i--)for(r=e.bl_count[i];0!==r;)(o=e.heap[--n])>u||(c[2*o+1]!==i&&(e.opt_len+=(i-c[2*o+1])*c[2*o],c[2*o+1]=i),r--)}}function f(e,t,n){var r,o,i=new Array(X+1),a=0;for(r=1;r<=X;r++)i[r]=a=a+n[r-1]<<1;for(o=0;o<=t;o++){var s=e[2*o+1];0!==s&&(e[2*o]=l(i[s]++,s))}}function m(){var e,t,n,r,i,a=new Array(X+1);for(n=0,r=0;r<P-1;r++)for(se[r]=n,e=0;e<1<<$[r];e++)ae[n++]=r;for(ae[n-1]=r,i=0,r=0;r<16;r++)for(ce[r]=i,e=0;e<1<<ee[r];e++)ie[i++]=r;for(i>>=7;r<V;r++)for(ce[r]=i<<7,e=0;e<1<<ee[r]-7;e++)ie[256+i++]=r;for(t=0;t<=X;t++)a[t]=0;for(e=0;e<=143;)re[2*e+1]=8,e++,a[8]++;for(;e<=255;)re[2*e+1]=9,e++,a[9]++;for(;e<=279;)re[2*e+1]=7,e++,a[7]++;for(;e<=287;)re[2*e+1]=8,e++,a[8]++;for(f(re,z+1,a),e=0;e<V;e++)oe[2*e+1]=5,oe[2*e]=l(e,5);ue=new o(re,$,H+1,z,X),le=new o(oe,ee,0,V,X),de=new o(new Array(0),te,0,W,K)}function g(e){var t;for(t=0;t<z;t++)e.dyn_ltree[2*t]=0;for(t=0;t<V;t++)e.dyn_dtree[2*t]=0;for(t=0;t<W;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*Y]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function h(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function v(e,t,n,r){h(e),r&&(s(e,n),s(e,~n)),k.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function E(e,t,n,r){var o=2*t,i=2*n;return e[o]<e[i]||e[o]===e[i]&&r[t]<=r[n]}function y(e,t,n){for(var r=e.heap[n],o=n<<1;o<=e.heap_len&&(o<e.heap_len&&E(t,e.heap[o+1],e.heap[o],e.depth)&&o++,!E(t,r,e.heap[o],e.depth));)e.heap[n]=e.heap[o],n=o,o<<=1;e.heap[n]=r}function b(e,t,n){var r,o,i,s,l=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],o=e.pending_buf[e.l_buf+l],l++,0===r?u(e,o,t):(u(e,(i=ae[o])+H+1,t),0!==(s=$[i])&&c(e,o-=se[i],s),u(e,i=a(--r),n),0!==(s=ee[i])&&c(e,r-=ce[i],s))}while(l<e.last_lit);u(e,Y,t)}function _(e,t){var n,r,o,i=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=q,n=0;n<c;n++)0!==i[2*n]?(e.heap[++e.heap_len]=u=n,e.depth[n]=0):i[2*n+1]=0;for(;e.heap_len<2;)i[2*(o=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[o]=0,e.opt_len--,s&&(e.static_len-=a[2*o+1]);for(t.max_code=u,n=e.heap_len>>1;n>=1;n--)y(e,i,n);o=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],y(e,i,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,i[2*o]=i[2*n]+i[2*r],e.depth[o]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,i[2*n+1]=i[2*r+1]=o,e.heap[1]=o++,y(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],p(e,t),f(i,u,e.bl_count)}function T(e,t,n){var r,o,i=-1,a=t[1],s=0,c=7,u=4;for(0===a&&(c=138,u=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)o=a,a=t[2*(r+1)+1],++s<c&&o===a||(s<u?e.bl_tree[2*o]+=s:0!==o?(o!==i&&e.bl_tree[2*o]++,e.bl_tree[2*J]++):s<=10?e.bl_tree[2*Q]++:e.bl_tree[2*Z]++,s=0,i=o,0===a?(c=138,u=3):o===a?(c=6,u=3):(c=7,u=4))}function S(e,t,n){var r,o,i=-1,a=t[1],s=0,l=7,d=4;for(0===a&&(l=138,d=3),r=0;r<=n;r++)if(o=a,a=t[2*(r+1)+1],!(++s<l&&o===a)){if(s<d)do{u(e,o,e.bl_tree)}while(0!=--s);else 0!==o?(o!==i&&(u(e,o,e.bl_tree),s--),u(e,J,e.bl_tree),c(e,s-3,2)):s<=10?(u(e,Q,e.bl_tree),c(e,s-3,3)):(u(e,Z,e.bl_tree),c(e,s-11,7));s=0,i=o,0===a?(l=138,d=3):o===a?(l=6,d=3):(l=7,d=4)}}function w(e){var t;for(T(e,e.dyn_ltree,e.l_desc.max_code),T(e,e.dyn_dtree,e.d_desc.max_code),_(e,e.bl_desc),t=W-1;t>=3&&0===e.bl_tree[2*ne[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}function C(e,t,n,r){var o;for(c(e,t-257,5),c(e,n-1,5),c(e,r-4,4),o=0;o<r;o++)c(e,e.bl_tree[2*ne[o]+1],3);S(e,e.dyn_ltree,t-1),S(e,e.dyn_dtree,n-1)}function I(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return D;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return L;for(t=32;t<H;t++)if(0!==e.dyn_ltree[2*t])return L;return D}function x(e){pe||(m(),pe=!0),e.l_desc=new i(e.dyn_ltree,ue),e.d_desc=new i(e.dyn_dtree,le),e.bl_desc=new i(e.bl_tree,de),e.bi_buf=0,e.bi_valid=0,g(e)}function A(e,t,n,r){c(e,(B<<1)+(r?1:0),3),v(e,t,n,!0)}function N(e){c(e,F<<1,3),u(e,Y,re),d(e)}function R(e,t,n,r){var o,i,a=0;e.level>0?(e.strm.data_type===U&&(e.strm.data_type=I(e)),_(e,e.l_desc),_(e,e.d_desc),a=w(e),o=e.opt_len+3+7>>>3,(i=e.static_len+3+7>>>3)<=o&&(o=i)):o=i=n+5,n+4<=o&&-1!==t?A(e,t,n,r):e.strategy===O||i===o?(c(e,(F<<1)+(r?1:0),3),b(e,re,oe)):(c(e,(j<<1)+(r?1:0),3),C(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),b(e,e.dyn_ltree,e.dyn_dtree)),g(e),r&&h(e)}function M(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(ae[n]+H+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1}var k=e("../utils/common"),O=4,D=0,L=1,U=2,B=0,F=1,j=2,P=29,H=256,z=H+1+P,V=30,W=19,q=2*z+1,X=15,G=16,K=7,Y=256,J=16,Q=17,Z=18,$=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ee=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(z+2));r(re);var oe=new Array(2*V);r(oe);var ie=new Array(512);r(ie);var ae=new Array(256);r(ae);var se=new Array(P);r(se);var ce=new Array(V);r(ce);var ue,le,de,pe=!1;n._tr_init=x,n._tr_stored_block=A,n._tr_flush_block=R,n._tr_tally=M,n._tr_align=N},{"../utils/common":2}],9:[function(e,t,n){"use strict";function r(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}t.exports=r},{}]},{},[1])(1)}()}(0,ve);var Oe=function(){function e(e){var t=e.getUrl();try{var n=Ee.createXMLHTTPObject();if(!n)return console.log("Failed creating an XMLHttpRequest object for resource send"),void e.setStatus(e.Status.FAILED);n.onreadystatechange=function(){if(4===n.readyState)if(200===n.status){var r=n.response.length;ve.log("success - fetching resource data: "+t+" ("+r+" b )");var o=n.getResponseHeader("Content-Type");e.setStatus(e.Status.READY),e.setContentType(o),e.setContent(n.response),we.saveResourceDataEvent(e)}else ve.log("Failed getting resource data by Ajax for url : "+t+" status:"+n.status+"  "+n.statusText),n.abort(),e.setStatus(e.Status.FAILED),e.setError("status: "+n.statusText+" ("+n.status+")"),we.saveResourceDataEvent(e)},n.cls_own=!0,n.responseType="arraybuffer",n.open("GET",t,!0),n.send(),e.setStatus(e.Status.FETCHING)}catch(n){console.log("Exception: Failed getting resource data by Ajax for url "+t+": "+n.message,n),e.setError("Exception: "+n.message)}}function t(e){var t,n,r,i,a,s;void 0!==e&&(t=e.name,n=e.initiatorType);var c={SKIPPED:"SKIPPED",INIT:"INIT",FETCHING:"FETCHING",READY:"READY",FAILED:"FAILED",SENT:"SENT",SENTERROR:"SENT_ERROR"},u=c.INIT;return{Status:c,setUrl:function(e){t=e},getUrl:function(){return t},getInitiatorType:function(){return n},setIndex:function(e){r=e},getIndex:function(){return r},setStatus:function(e){(u=e)===c.SENT&&(a=o)},getStatus:function(){return u},setContentType:function(e){i=e},getContentType:function(){return i},setContent:function(e){a=ve.pako.gzip(e)},getContent:function(){return a},getError:function(){return s},setError:function(e){s=e},toString:function(){return"Resource["+r+"]: "+t+" (from "+n+") - "+u}}}var n=[],r=["script","xmlhttprequest","subdocument","iframe"],i=function(){return ve.pako},a=function(e){var t=e.getInitiatorType();return-1===r.indexOf(t)&&("other"!==t||-1===e.getUrl().indexOf("blob"))},s=function(e){for(var t={},r=0;r<n.length;r++){var o=n[r];e&&console.log(""+o),t[o.getStatus()]?t[o.getStatus()]=t[o.getStatus()]+1:t[o.getStatus()]=1}console.log("Total: "+n.length,t)};return{fetchAll:function(){if(i()){var r=performance.getEntriesByType("resource");console.log("Going to fetch "+r.length+" resources");for(var o=0;o<r.length;o++)!function(o){setTimeout(function(){var i=new t(r[o]);if(n.push(i),i.setIndex(o),console.log(i.toString()),a(i))new e(i);else i.setStatus(i.Status.SKIPPED),ve.log(i.getUrl()+" - skipped")},80*o)}(o)}else console.log("Fetch resources is not supported for the current environment.")},fetchStatus:function(){s(!1)},fetchLog:function(){s(!0)}}}();P.IGNORABLE_TAGS=ve.immutableSet("NOSCRIPT","SCRIPT"),z.propertyForElement=function(e){return"SELECT"===e.tagName?"selectedIndex":"TEXTAREA"===e.tagName?"value":"INPUT"===e.tagName?"checkbox"===e.getAttribute("type")||"radio"===e.getAttribute("type")?"checked":"value":o},z.defaultValue=function(e,t){if("checked"===t)return e.hasAttribute("checked");if("selectedIndex"===t){var n=e.querySelector("option[selected]");return n?n.index:null!==e.querySelector("option")?0:-1}var r=e.getAttribute(t);return r||"value"!==t?r:""},V.GB_ID_ATTRIBUTE_NAME="gbid",Y.prototype.toString=function(){return"seq:"+this.seq+"referrer"+this.referrer+"charset:"+this.charset+"cookie-len"+(this.cookie?this.cookie.length:0)+(this.html.length>20?"html length: "+this.html.length:"html: "+this.html)},K.DefaultOptions={addHeader:!1},K.CLS_COMMENT_PREFIX=" CLS_DISABLED ",K.CLS_HEADER_PREFIX=" GlassBox synthetic page ",K.HTML_SCHEMA_PREFIX="<!DOCTYPE HTML>\n",K.AttributeUpdaters={value:function(e,t){"password"===e.getAttribute("type")?e.setAttribute("value",$.maskValueOf(e.value)):e.setAttribute("value",t?t.maskValue(e):e.value)},checked:function(e){e.checked&&e.setAttribute("checked","")},selectedIndex:function(e){var t=e.selectedIndex,n=e.getElementsByTagName("option");n[t]&&n[t].setAttribute("selected","")}},$.prototype.maskValue=function(e){var t=this._options.valueMaskingMode===ee.ValueMaskingMode.WhiteList;return e.hasAttribute(ee.maskingAttribute)?t=!0:ve.hasClassName(e,"cls_mask")?t=!0:this._options.valueMaskIds&&me.contains(this._options.valueMaskIds,ve.getElementId(e))?t=!t:this._options.valueMaskClasses&&ve.hasOneOfClassNames(e,this._options.valueMaskClasses)&&(t=!t),t&&e.value?$.maskValueOf(e.value):e.value},$.prototype.isDomMasked=function(e,t){var n,r,o=Array.prototype.slice.call(arguments,2);for(n=0;n<o.length;n++)if((r=this._selectorsByMaskingType[o[n].name])&&t.follow(e,r))return!0;return!1},$.prototype.domMaskNode=function(e){var t,n,r,o,i,a=Array.prototype.slice.call(arguments,1);for(t=0;t<a.length;t++)if(o=a[t],i=this._selectorsByMaskingType[o.name])for(r=[],e.nodeType===Node.ELEMENT_NODE&&$.elementMatches.call(e,i)&&r.push(e),"function"==typeof e.querySelectorAll&&(r=Array.prototype.concat.apply(r,e.querySelectorAll(i))),n=0;n<r.length;n++)o.apply(r[n])},$.prototype.domMaskNodeForce=function(e){var t,n=Array.prototype.slice.call(arguments,1);for(t=0;t<n.length;t++)n[t].apply(e)};var De={TEXT:{name:"TEXT",apply:function(e){$.maskTextContent($.textNodesOf(e))}},VALUE_ATTRIBUTE:{name:"VALUE_ATTRIBUTE",apply:function(e){var t=e.getAttribute("value");t&&e.setAttribute("value",$.maskValueOf(t))}},OMIT:{name:"OMIT",apply:function(e){e.parentNode&&e.parentNode.removeChild(e)}}},Le={SELF:{follow:function(e,t){return!(e.nodeType!==Node.ELEMENT_NODE||!$.elementMatches.call(e,t))}},SELF_OR_ANY_PARENT:{follow:function(e,t){for(var n=e;n&&n.nodeType===Node.ELEMENT_NODE;){if($.elementMatches.call(n,t))return!0;n=n.parentNode}return!1}},SELF_OR_ANY_CHILD:{follow:function(e,t){return!(e.nodeType!==Node.ELEMENT_NODE||!$.elementMatches.call(e,t))||"function"==typeof e.querySelectorAll&&e.querySelectorAll(t).length>0}}};$.textNodesOf=function(e){if(e.nodeType===Node.TEXT_NODE)return[e];for(var t,n=[],r=e.ownerDocument.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,!1);t=r.nextNode();)n.push(t);return n},$.MASK_CHAR="*",$.maskValueOf=function(e){return new Array((e||"").length+1).join($.MASK_CHAR)},$.maskTextContent=function(e){var t,n,r,o;for(t=0;t<e.length;t++)e[t].textContent&&e[t].textContent.trim()&&(n=e[t].textContent.trim(),r=$.maskValueOf(n),n.length!==e[t].textContent.length&&(o=e[t].textContent.indexOf(n),r=e[t].textContent.substring(0,o)+r+e[t].textContent.substring(o+n.length)),e[t].textContent=r)},$.prototype.maskCookie=function(e){if(!e||!this._cookieMaskSet)return e;var t,n,r,o,i,a=e.split(";"),s=[];for(t=0;t<a.length;t++)-1!==(r=(n=a[t]).indexOf("="))?(o=n.substring(0,r).trim(),i=n.substring(r+1),s.push(o+"="+(i&&this._cookieMaskSet.hasOwnProperty(o)?$.maskValueOf(i):i))):s.push(n);return s.join("; ")},$.elementMatches=function(){return Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1}}();var Ue=function(e,t,r,i,a,s){return function(r,i,a,c,u){var l,d=!1,p=!1,f=!1,m=0,g=0,h=0,v=!1,E=function(){p=!1,f=!1,m=0},y=function(){var e=c.take(g);return e&&(g++,r.emit("pageSnapshot:save",e),r.emit("pageSnapshot:report",e)),e},b=function(){E(),_()},_=function(t){if(!f&&!p){if(m++>=2){var o=c.lastError||"";return console.error("[EyeView-1502]: failed to obtain page snapshot 2 times. aborting DOM based recording. lastError: "+o.message+" stack:"+o.stack),f=!0,!1}e.introduceDocument(n),i.start();var s=y();s?(t||r.emit("domTrackingStarted"),a.start(),p=!0,ve.log("reporting full page snapshot and starting DOM mutations tracking. snapshotData:"+s)):ve.log("could not take page snapshot (is it too early?)")}return p},T=function(e){if(!d)return o;var t;for(t=0;t<u.ajaxTriggers.length;t++)if(-1!==e.url.indexOf(u.ajaxTriggers[t]))return ve.log("new dom-based page trigger by ajax. trigger uri:"+e.url),void b()},S=function(e){if(!d)return o;-1!==u.triggers.indexOf(e.selectorExpression)&&(ve.log("new dom-based page trigger was clicked. selector:"+e.selectorExpression),b())},w=function(){v||(i.start(),!d||p||v||f||!u||void 0===u.onLoadTimeoutReport||-1===u.onLoadTimeoutReport||setTimeout(_,u.onLoadTimeoutReport))},C=function(){++h%u.updateOnWsCount==0&&(ve.log("dispatching DOM update event. ws messages:"+h),r.emit("pageUpdate"))};return r.on("event:mousedown",S),r.on("ajax:send",T),r.on("init:loaded",w),{initialize:function(e){return c.supported()?(i.supported()||(u.semiDomEnabled?(ve.log("DOMObserver is not supported by the browser. Activating Semi-Dom support"),v=!0,c.setOption("removeScripts",!1)):(ve.log("DOMObserver is not supported by the browser, using old Mutation Events for full DOM support."),i=new q(e,n,P))),-1!==u.updateOnWsCount&&(l=new H(window,C)),u.compressionEnabled&&ve.log("DOM snapshots compression ENABLED."),s&&ve.log("DOM snapshots partial mode ENABLED (by location)."),d=!0,!0):(ve.log("Cannot record using DOM recorder. Current environment does not support needed API."),f=!0,!1)},getDomSnapshot:function(){return d&&_()?v?o:a.getSnapshot():o},ensureStarted:function(e){return _(e)},isAborted:function(){return f},isSemiDomActivated:function(){return v},isStarted:function(){return p},reset:E,getMasker:function(){return t},getNodeCache:function(){return e}}}(he,new W(he,n,P),new Z(he,e,new z(n,e),s?[]:J(r,t,P,a).all(),Q(t,{ignoredFormElement:te.domIgnoredFormElements}).all()),new K(n,r,t,i,a),{triggers:te.domNewPageTriggers,ajaxTriggers:te.domNewPageAjaxTriggers,onLoadTimeoutReport:te.domStartAfter,updateOnWsCount:te.domUpdateEveryWsMsgIn,compressionEnabled:te.domCompress,semiDomEnabled:te.semiDomEnabled})}(new V(function(e,t,r){if("HTML"===e.tagName)return"html";var o=be.getSelectorExpression(e,!1,{useId:t,unqiueAttribue:r});return null===o&&e===n.body&&(o="BODY"),o},te.domAssignGlassboxId),new $({valueMaskingMode:te.maskingMode,valueMaskIds:te.maskList,valueMaskClasses:te.maskClassList,domMaskIds:te.domMaskContentById,domMaskClasses:te.domMaskContentById,domOmitIds:te.domMaskOmitById,domOmitClasses:te.domMaskOmitByClass,cookieMask:te.maskCookies}),new G(n),new j(!te.domKeepComments,["iframe","script","noscript"],null,te.domKeepScriptMatching),new j(!te.domKeepComments,["script","noscript"],{input:te.domIgnoredFormElements},te.domKeepScriptMatching),function(e,t){var n;for(n=0;n<t.length;n++)if(-1!==e.indexOf(t[n]))return!0;return!1}(n.location.href,te.domPartialWhenLocationContains||[]));te.domRecordEnabled&&we.registerPlugin("domMutationTracker",Ue),t._detector=we,we.initialize("5.6.172_7B117")}else void 0!==window.console&&"function"==typeof window.console.log&&console.log("WARNING[EyeView-1301]: detector script has been loaded more than once. Please fix to have a single detector loading. (Extra script loading will be ignored)")}(0,window,document);
