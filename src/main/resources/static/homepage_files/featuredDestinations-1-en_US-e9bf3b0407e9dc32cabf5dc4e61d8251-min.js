(function(){var g=Handlebars.template({1:function(e,a,d,g,f){var c,b;return'          \x3cdiv id\x3d"featured-destinations-'+e.escapeExpression((b=null!=(b=d.regionId||(null!=a?a.regionId:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"regionId",hash:{},data:f}):b))+'" class\x3d"uitk-carousel-item uitk-col"\x3e\n            \x3cdiv class\x3d"flex-card flex-tile has-link"\x3e\n              \x3cdiv class\x3d"flex-figure"\x3e\n'+(null!=(c=d["with"].call(null!=a?a:{},null!=a?a.image:a,{name:"with",hash:{},fn:e.program(2,f,0),inverse:e.noop,data:f}))?c:"")+'              \x3c/div\x3e\n              \x3cdiv class\x3d"flex-content"\x3e\n                \x3cdiv class\x3d"flex-area-primary"\x3e\n                  \x3cdiv class\x3d"destination-details"\x3e\n                    \x3cdiv class\x3d"destination-details-wrapper"\x3e\n                      \x3ch1 class\x3d"destination-city-name"\x3e\n                        \x3cspan\x3e'+e.escapeExpression((b=null!=(b=d.cityName||(null!=a?a.cityName:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"cityName",hash:{},data:f}):b))+'\x3c/span\x3e\n                      \x3c/h1\x3e\n                      \x3cp class\x3d"destination-affinities"\x3e\n'+(null!=(c=d.each.call(null!=a?a:{},null!=a?a.affinities:a,{name:"each",hash:{},fn:e.program(4,f,0),inverse:e.noop,data:f}))?c:"")+'                      \x3c/p\x3e\n                    \x3c/div\x3e\n                  \x3c/div\x3e\n                \x3c/div\x3e\n              \x3c/div\x3e\n              \x3ca class\x3d"flex-link" href\x3d"'+e.escapeExpression((b=null!=(b=d.url||(null!=a?a.url:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"url",hash:{},data:f}):b))+'" target\x3d"_blank"\x3e\x3c/a\x3e\n            \x3c/div\x3e\n          \x3c/div\x3e\n'},2:function(e,a,d,g,f){var c;return'                  \x3cfigure\n                    class\x3d"image background aspect-ratio16-9"\n                    data-media-type\x3d"image"\n                    data-late\x3d"true"\n                    data-aspect-ratio\x3d"16-9"\n                    data-src\x3d"'+e.escapeExpression((c=null!=(c=d.url||(null!=a?a.url:a))?c:d.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"url",hash:{},data:f}):c))+'"\n                    data-alt\x3d"'+e.escapeExpression((c=null!=(c=d.alt||(null!=a?a.alt:a))?c:d.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"alt",hash:{},data:f}):c))+'"\n                    data-class\x3d"tile-media"\x3e\n                    \x3cfigcaption class\x3d"image-caption"\x3e'+e.escapeExpression((c=null!=(c=d.caption||(null!=a?a.caption:a))?c:d.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"caption",hash:{},data:f}):c))+'\x3c/figcaption\x3e\n                    \x3cspan class\x3d"media-loader"\x3e\n                      \x3cspan class\x3d"loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\n                    \x3c/span\x3e\n                  \x3c/figure\x3e\n'},4:function(e,a,d,g,f){var c;return'                          \x3cspan class\x3d"affinity"\x3e'+e.escapeExpression((c=null!=(c=d.displayedName||(null!=a?a.displayedName:a))?c:d.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"displayedName",hash:{},data:f}):c))+"\x3c/span\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(e,a,d,g,f){var c,b;return'\x3cdiv id\x3d"featured-destinations-wrapper"\x3e\n  \x3cspan class\x3d"visuallyhidden" role\x3d"heading" aria-level\x3d"2"\x3e'+e.escapeExpression((b=null!=(b=d.title||(null!=a?a.title:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:f}):b))+'\x3c/span\x3e\n  \x3cheader class\x3d"cols-row-header section-header cf"\x3e\n    \x3ch3 id\x3d"featured-destinations-title" class\x3d"section-header-main"\x3e'+e.escapeExpression((b=null!=(b=d.title||(null!=a?a.title:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"title",hash:{},data:f}):b))+'\x3c/h3\x3e\n  \x3c/header\x3e\n  \x3csection id\x3d"featured-destinations-carousel" class\x3d"uitk-carousel" data-control\x3d"uitk-carousel" data-peek\x3d"'+e.escapeExpression((b=null!=(b=d.isMobile||(null!=a?a.isMobile:a))?b:d.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"isMobile",hash:{},data:f}):b))+'"\x3e\n    \x3cdiv class\x3d"uitk-carousel-wrap"\x3e\n      \x3cdiv class\x3d"uitk-carousel-items uitk-grid all-grid-nowrap mobile-col-1-1 smalltablet-col-1-2 tablet-col-1-3 desktop-col-1-3 all-x-gutter-6"\x3e\n'+(null!=(c=d.each.call(null!=a?a:{},null!=a?a.destinations:a,{name:"each",hash:{},fn:e.program(1,f,0),inverse:e.noop,data:f}))?c:"")+"      \x3c/div\x3e\n    \x3c/div\x3e\n  \x3c/section\x3e\n\x3c/div\x3e\n"},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates.featuredDestinations=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials.featuredDestinations=g})();define("featuredDestinations-loc",function(){return{featuredDestinationsTitle:"Popular Destinations for Travelers from {{origin}}"}});define("featuredDestinations-log",function(){return{log:function(g){g.hasOwnProperty("message")&&(window.dctk&&window.dctk.enabled&&window.dctk.logging&&window.dctk.logging.logError?window.dctk.logging.logMessage("sf-web:featured-destinations",g):require("dctk/clientLogging",function(e){e.logMessage("sf-web:featured-destinations",g)}))}}});define("featuredDestinations-order-variants",["featuredDestinations-filters","featuredDestinations"],function(g,e){return{1:function(a){return e.createDestinationsSet(g.byType(a,"DOMESTIC"),g.byType(a,"INTERNATIONAL"),6)},2:function(a){return e.createDestinationsSet(g.byType(a,"INTERNATIONAL"),g.byType(a,"DOMESTIC"),6)}}});define("featuredDestinations-filters",function(){return{byType:function(g,e){return g.filter(function(a){return a.relation.destinationType===e}).sort(function(a,d){return parseInt(d.relation.bookings,10)-parseInt(a.relation.bookings,10)})}}});
define("featuredDestinations","jquery handlebars sfAbTest featuredDestinations-loc featuredDestinations-log TravelContentService".split(" "),function(g,e,a,d,h,f){var c={config:{experimentId:25176,containerId:"#featured-destinations-container",containerCarouselId:"#featured-destinations-carousel"},evaluatePreconditions:function(b,c){var d=g.Deferred();if(c.hasOwnProperty("preferredAirport")&&c.preferredAirport.hasOwnProperty("airportGaiaMultiCityId")&&null!==c.preferredAirport.airportGaiaMultiCityId)a.get(b,!0).then(function(a){0<parseInt(a.value,10)?d.resolve(a):d.reject({type:"experiment",message:"experiment is on control"})});else if(c.hasOwnProperty("preferredAirport")&&c.preferredAirport.hasOwnProperty("origin")&&null===c.preferredAirport.airportGaiaMultiCityId){var e={type:"travelerProfile:airportGaiaMultiCityId",message:"preferredAirport airportGaiaMultiCityId is null for origin: "+c.preferredAirport.origin};h.log(e);d.reject(e)}else d.reject({type:"travelerProfile:preferredAirport",message:"preferredAirport is not present in travelerProfileModel"});return d.promise()},render:function(a,f,h){var b=f.lastIndexOf(",");g(c.config.containerId).html(e.partials.featuredDestinations({title:d.featuredDestinationsTitle.replace("{{origin}}",-1<b?f.substr(0,b):f),originCity:f,destinations:a,isMobile:h}));g(c.config.containerCarouselId).uitk_carousel()},buildModel:function(a){var b={regionId:a.geo.regionId,cityName:a.geo.name,url:"https://"+window.location.hostname+"/lp/destinations/"+a.geo.regionId+"?rfrr\x3dstf.populardest."+a.geo.regionId,affinities:a.tags.data.slice(0,3),image:a.images.data.filter(function(a){return a.hero})[0]||a.images.data[0]||{url:"https://thumbnails.expedia.com/LZGYBkK5ziN-cSYOlLte5nBw2_Q\x3d/640x360/images.trvl-media.com/media/content/expus/graphics/deals/TE_Clouds_card_r1.jpg",caption:"Default Image",type:"default"}};b.image.hasOwnProperty("type")&&"default"===b.image.type?h.log({type:"TCS:topDestinations",message:"no images found in the TCS topDestinations response for regionId: "+a.geo.regionId}):b.image.url=b.image.url.replace("res70","res20");return b},createDestinationsSet:function(a,c,d){var b=Math.floor(d/2),e=[];e=e.concat(a.length>=b?a.slice(0,c.length<b?b+(b-c.length):b):a);return e=e.concat(c.length>=b?c.slice(0,d-e.length):c)},init:function(a,d,e){f.getTopDestinationsFromRegionIdPromise({regionId:a.preferredAirport.airportGaiaMultiCityId,siteId:window.siteid,locale:window.locale}).done(function(b){c.render(d(b.topDestinations).map(function(a){return c.buildModel(a)}),void 0!==b.destination.geo.name?b.destination.geo.name:a.preferredAirport.airportCityState,e)}).fail(function(a){a.hasOwnProperty("type")&&h.log(a)})}};return c});require(["featuredDestinations","featuredDestinations-order-variants","featuredDestinations-log","travelerProfileModel"],function(g,e,a,d){try{g.evaluatePreconditions(g.config.experimentId,d).done(function(a){g.init(d,e[a.value],window.isMobile)}).fail(function(){})}catch(h){console.log(h),a.log(h)}});
//# sourceMappingURL=featuredDestinations-1-en_US.js.map