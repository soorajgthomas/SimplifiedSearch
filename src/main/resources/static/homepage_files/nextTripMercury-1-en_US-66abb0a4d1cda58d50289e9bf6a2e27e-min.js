(function(){var g=Handlebars.template({1:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.name:a,{name:"if",hash:{},fn:d.program(2,e,0),inverse:d.noop,data:e}))?b:""},2:function(d,a,f,g,e){var b,c;return'        \x3csection class\x3d"itin-next-trip" id\x3d"next-trip" style\x3d"margin-top:1em; margin-left: 1em;"\x3e\n            \x3ch4 class\x3d"trip-title"\x3e\n'+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isFlight:a,{name:"if",hash:{},fn:d.program(3,e,0),inverse:d.program(5,e,0),data:e}))?b:"")+'            \x3c/h4\x3e\n\n\t\t\x3cspan class\x3d"trip-name-icon"\x3e\n\t\t\t\x3cspan class\x3d"icon icon-'+d.escapeExpression((c=null!=(c=f.lob||(null!=a?a.lob:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"lob",hash:{},data:e}):c))+'"\x3e\x3c/span\x3e\n            '+d.escapeExpression((c=null!=(c=f.name||(null!=a?a.name:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"name",hash:{},data:e}):c))+'\n\t\t\x3c/span\x3e\n\n\t\t\x3cspan class\x3d"trip-date"\x3e\n'+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isHotel:a,{name:"if",hash:{},fn:d.program(19,e,0),inverse:d.program(21,e,0),data:e}))?b:"")+'        \x3c/span\x3e\n\n            \x3ca class\x3d"trip-link" href\x3d'+d.escapeExpression((c=null!=(c=f.link||(null!=a?a.link:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"link",hash:{},data:e}):c))+"\x3e"+(null!=(b=d.lambda(null!=(b=null!=a?a.loc:a)?b.seeMyTripLinkText:b,a))?b:"")+"\x3c/a\x3e\n        \x3c/section\x3e\n"},3:function(d,a,f,g,e){var b;return"                "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingFlight:b,a))+"\n"},5:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isHotel:a,{name:"if",hash:{},fn:d.program(6,e,0),inverse:d.program(8,e,0),data:e}))?b:""},6:function(d,a,f,g,e){var b;return"                    "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingHotel:b,a))+"\n"},8:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isCar:a,{name:"if",hash:{},fn:d.program(9,e,0),inverse:d.program(11,e,0),data:e}))?b:""},9:function(d,a,f,g,e){var b;return"                        "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingCar:b,a))+"\n"},11:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isCruise:a,{name:"if",hash:{},fn:d.program(12,e,0),inverse:d.program(14,e,0),data:e}))?b:""},12:function(d,a,f,g,e){var b;return"                            "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingCruise:b,a))+"\n"},14:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isActivity:a,{name:"if",hash:{},fn:d.program(15,e,0),inverse:d.program(17,e,0),data:e}))?b:""},15:function(d,a,f,g,e){var b;return"                                "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingActivity:b,a))+"\n"},17:function(d,a,f,g,e){var b;return"                                "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingTrip:b,a))+"\n"},19:function(d,a,f,g,e){var b;return"            "+(null!=(b=d.lambda(null!=(b=null!=a?a.loc:a)?b.checkInTextOnUpcomingTrip:b,a))?b:"")+"\n"},21:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isCar:a,{name:"if",hash:{},fn:d.program(22,e,0),inverse:d.program(24,e,0),data:e}))?b:""},22:function(d,a,f,g,e){var b;return"                "+(null!=(b=d.lambda(null!=(b=null!=a?a.loc:a)?b.pickUpTextOnUpcomingTrip:b,a))?b:"")+"\n"},24:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.isActivity:a,{name:"if",hash:{},fn:d.program(25,e,0),inverse:d.program(27,e,0),data:e}))?b:""},25:function(d,a,f,g,e){var b;return"                    "+(null!=(b=d.lambda(null!=(b=null!=a?a.loc:a)?b.activityStartsTextOnUpcomingTrip:b,a))?b:"")+"\n"},27:function(d,a,f,g,e){var b;return"                    "+(null!=(b=d.lambda(null!=(b=null!=a?a.loc:a)?b.departureTextForUpcomingTrip:b,a))?b:"")+"\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,f,g,e){var b;return null!=(b=f["if"].call(null!=a?a:{},null!=a?a.displayNextTrip:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:""},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["next-trip-hbs"]=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["next-trip-hbs"]=g})();(function(){var g=Handlebars.template({1:function(d,a,f,g,e){var b;return null!=(b=d.invokePartial(g["content-flight"],a,{name:"content-flight",data:e,indent:"        ",helpers:f,partials:g,decorators:d.decorators}))?b:""},3:function(d,a,f,g,e){var b;return null!=(b=d.invokePartial(g["content-base"],a,{name:"content-base",data:e,indent:"        ",helpers:f,partials:g,decorators:d.decorators}))?b:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,f,g,e){var b,c;return'\x3cheader class\x3d"cols-row-header next-trip-header"\x3e\n  \x3ch3\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.yourUpcomingTrip:b,a))+'\x3c/h3\x3e\n\x3c/header\x3e\n\x3csection class\x3d"next-trip-tile next-trip-'+d.escapeExpression((c=null!=(c=f.lob||(null!=a?a.lob:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"lob",hash:{},data:e}):c))+" "+d.escapeExpression((c=null!=(c=f.flight_type||(null!=a?a.flight_type:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"flight_type",hash:{},data:e}):c))+' flex-card has-link"\x3e\n'+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.flight_legs:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.program(3,e,0),data:e}))?b:"")+'\n    \x3cdiv class\x3d"next-trip-itin-link"\x3e\n        \x3cspan\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.viewItinerary:b,a))+'\x3c/span\x3e\n    \x3c/div\x3e\n    \x3ca class\x3d"flex-link" href\x3d"'+d.escapeExpression((c=null!=(c=f.viewLink||(null!=a?a.viewLink:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"viewLink",hash:{},data:e}):c))+'" aria-label\x3d"'+d.escapeExpression((c=null!=(c=f.aria_label||(null!=a?a.aria_label:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"aria_label",hash:{},data:e}):c))+'"\x3e'+d.escapeExpression((c=null!=(c=f.name||(null!=a?a.name:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"name",hash:{},data:e}):c))+"\x3c/a\x3e\n\x3c/section\x3e\n"},usePartial:!0,useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["next-trip-v2"]=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["next-trip-v2"]=g})();
(function(){var g=Handlebars.template({1:function(d,a,f,g,e){var b;return'\x3cspan class\x3d"line-1-sub"\x3e'+d.escapeExpression((b=null!=(b=f.line_1_sub||(null!=a?a.line_1_sub:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"line_1_sub",hash:{},data:e}):b))+"\x3c/span\x3e"},3:function(d,a,f,g,e){var b;return'\x3cspan class\x3d"next-trip-detail-address address-2"\x3e'+d.escapeExpression((b=null!=(b=f.line_2||(null!=a?a.line_2:a))?b:f.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"line_2",hash:{},data:e}):b))+"\x3c/span\x3e"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,f,g,e){var b,c;return'\x3cfigure class\x3d"image aspect-ratio4-3" alt\x3d"'+d.escapeExpression((c=null!=(c=f.title||(null!=a?a.title:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"title",hash:{},data:e}):c))+'" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"'+d.escapeExpression((c=null!=(c=f.thumbnail||(null!=a?a.thumbnail:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):c))+'"\x3e\n    \x3cimg alt\x3d"'+d.escapeExpression((c=null!=(c=f.title||(null!=a?a.title:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"title",hash:{},data:e}):c))+'" class\x3d"tile-media" src\x3d"'+d.escapeExpression((c=null!=(c=f.thumbnail||(null!=a?a.thumbnail:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):c))+'"\x3e\n    \x3cnoscript\x3e\n        \x26amp;lt;img src\x3d"'+d.escapeExpression((c=null!=(c=f.thumbnail||(null!=a?a.thumbnail:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):c))+'" alt\x3d"missing image alt" class\x3d"tile-media"/\x26amp;gt;\n    \x3c/noscript\x3e\n    \x3cspan class\x3d"media-loader"\x3e\n        \x3cspan class\x3d"loader loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\n    \x3c/span\x3e\n\x3c/figure\x3e\n\n\x3cdiv class\x3d"next-trip-detail"\x3e\n    \x3cspan class\x3d"next-trip-detail-date"\x3e'+d.escapeExpression((c=null!=(c=f.date||(null!=a?a.date:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"date",hash:{},data:e}):c))+'\x3c/span\x3e\n    \x3cspan class\x3d"next-trip-detail-title"\x3e'+d.escapeExpression((c=null!=(c=f.title||(null!=a?a.title:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"title",hash:{},data:e}):c))+'\x3c/span\x3e\n    \x3cspan class\x3d"next-trip-detail-line-1"\x3e'+d.escapeExpression((c=null!=(c=f.line_1||(null!=a?a.line_1:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"line_1",hash:{},data:e}):c))+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.line_1_sub:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+"\x3c/span\x3e\n    "+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.line2:a,{name:"if",hash:{},fn:d.program(3,e,0),inverse:d.noop,data:e}))?b:"")+"\n\x3c/div\x3e\n"},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["content-base"]=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["content-base"]=g})();(function(){var g=Handlebars.template({1:function(d,a,f,g,e){var b;return null!=(b=d.invokePartial(g["flight-leg"],a,{name:"flight-leg",data:e,indent:"  ",helpers:f,partials:g,decorators:d.decorators}))?b:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,f,g,e){var b;return null!=(b=f.each.call(null!=a?a:{},null!=a?a.flight_legs:a,{name:"each",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:""},usePartial:!0,useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["content-flight"]=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["content-flight"]=g})();(function(){var g=Handlebars.template({1:function(d,a,f,g,e){return'\x3cspan class\x3d"next-trip-flight-arrive-next-day"\x3e+1\x3c/span\x3e'},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,f,g,e){var b,c;return'\x3cdiv class\x3d"next-trip-flight-leg"\x3e\n    \x3cspan class\x3d"next-trip-flight-date"\x3e'+d.escapeExpression((c=null!=(c=f.date||(null!=a?a.date:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"date",hash:{},data:e}):c))+'\x3c/span\x3e\n    \x3cdiv class\x3d"next-trip-flight-logo"\x3e\n      \x3cfigure class\x3d"image aspect-ratio1-1 flex-image" data-media-type\x3d"image" data-aspect-ratio\x3d"1-1" data-class\x3d"tile-media"\n            data-src\x3d"'+d.escapeExpression((c=null!=(c=f.logo_img||(null!=a?a.logo_img:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"logo_img",hash:{},data:e}):c))+'"\n            data-alt\x3d"'+d.escapeExpression((c=null!=(c=f.carrier_name||(null!=a?a.carrier_name:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"carrier_name",hash:{},data:e}):c))+' logo"\x3e\n        \x3cimg class\x3d"tile-media"\n            src\x3d"'+d.escapeExpression((c=null!=(c=f.logo_img||(null!=a?a.logo_img:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"logo_img",hash:{},data:e}):c))+'"\n            alt\x3d"'+d.escapeExpression((c=null!=(c=f.carrier_name||(null!=a?a.carrier_name:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"carrier_name",hash:{},data:e}):c))+' logo"\x3e\n      \x3c/figure\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"next-trip-flight-tlas-time"\x3e\n      \x3cspan class\x3d"next-trip-flight-tlas"\x3e'+d.escapeExpression((c=null!=(c=f.trip_TLAs||(null!=a?a.trip_TLAs:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"trip_TLAs",hash:{},data:e}):c))+'\x3c/span\x3e\n      \x3cspan class\x3d"next-trip-flight-time"\x3e'+d.escapeExpression((c=null!=(c=f.time||(null!=a?a.time:a))?c:f.helperMissing,"function"===typeof c?c.call(null!=a?a:{},{name:"time",hash:{},data:e}):c))+(null!=(b=f["if"].call(null!=a?a:{},null!=a?a.arrive_next_day:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+"\x3c/span\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n"},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["flight-leg"]=g;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["flight-leg"]=g})();define("nextTrip-loc",function(){return{yourUpcomingFlight:"Your upcoming flight",yourUpcomingHotel:"Your upcoming hotel stay",yourUpcomingCar:"Your upcoming car rental",yourUpcomingCruise:"Your upcoming cruise",yourUpcomingActivity:"Your upcoming activity",yourUpcomingTrip:"Your upcoming trip",departureTextForUpcomingTrip:"Depart {{nextTrip.date}}",checkInTextOnUpcomingTrip:"Check in {{nextTrip.date}}",pickUpTextOnUpcomingTrip:"Pick up {{nextTrip.date}}",activityStartsTextOnUpcomingTrip:"On {{nextTrip.date}}",seeMyTripLinkText:"See my trip",viewItinerary:"View itinerary",dateToDate:"{{date1}} to {{date2}}",tlaToTla:"{{tla1}} to {{tla2}}",pickUpAtLocation:"Pick up at {{location}}",departing:"Departing {{date}}",cityVacationTitle:"{{city}} Vacation",roundTripFlightTo:"Roundtrip flight to {{tla}}",ariaLabelFlight:"View itinerary details for your flight from {{city1}} to {{city2}}",ariaLabelHotel:"View itinerary details for your hotel in {{city}}",ariaLabelActivity:"View itinerary details for your activity, {{activityTitle}}",ariaLabelCar:"View itinerary details for your car rental, {{carTitle}}",ariaLabelCruise:"View itinerary details for your cruise, {{cruiseTitle}}",ariaLabelPackage:"View itinerary details for your package to {{city}}"}});require(["nextTrip"],function(g){g.init()});
define("nextTrip","nextTrip-loc uitk handlebars nextTrip-util nextTrip-getModelv1 nextTrip-getModelv2 sfAbTest".split(" "),function(g,d,a,f,k,e,b){return{init:function(){if(-1<window.location.host.indexOf("localhost")){if("undefined"!==typeof nextTripMockData&&f.isDataValid(nextTripMockData))try{k.renderTrip(k.parseTrip(nextTripMockData)),e.renderTrip(e.parseTrip(nextTripMockData))}catch(c){console.log("nextTripErr: "+c)}}else $("#all-in-home-header-link").hasClass("selected-tab")&&this.getUpcomingTrip(window.isMobile)},getUpcomingTrip:function(a){function c(c){if(f.isDataValid(c))try{b().then(function(b){"4"===siteid&&b||"true"===a?e.renderTrip(e.parseTrip(c)):k.renderTrip(k.parseTrip(c))})}catch(h){console.log("nextTripErr: "+h)}}var b=this.getAbtestStatus;window.nextTripMockData?c(nextTripMockData):$.ajax({url:"//"+window.location.host+"/api/trips/upcoming",dataType:"json",timeout:3E4}).done(c).fail(function(a,c,b){console.log(a);console.log(c);console.log(b);console.error("Failed to load /api/trips/upcoming: "+b)})},getAbtestStatus:function(){return b.get(24905,!0).then(function(a){return 1===parseInt(a.value,10)})}}});define("nextTrip-util",["underscore"],function(g){var d="flights hotels cars cruises activities packages".split(" ");return{getLineOfBusiness:function(a){if(!(a&&a.responseData&&g.isObject(a.responseData)))return null;a=g.intersection(d,g.keys(a.responseData));return 0<a.length?a[0]:null},isDataValid:function(a){return a&&a.responseData&&a.responseData.title&&a.responseData.startTime&&a.responseData.startTime.localizedFullDate&&a.responseData.webDetailsURL}}});define("nextTrip-getModelv1",["nextTrip-loc","jquery","handlebars","nextTrip-util"],function(g,d,a,f){function k(a){g.departureTextForUpcomingTrip=g.departureTextForUpcomingTrip.replace("{{nextTrip.date}}",a);g.checkInTextOnUpcomingTrip=g.checkInTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);g.pickUpTextOnUpcomingTrip=g.pickUpTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);g.activityStartsTextOnUpcomingTrip=g.activityStartsTextOnUpcomingTrip.replace("{{nextTrip.date}}",a);return!0}var e=d("#next-trip-container");return{parseTrip:function(a){var c=f.getLineOfBusiness(a),b=!1;if(!c)return console.error&&console.error("Next trip: Failed to get lob"),b;try{b={name:a.responseData.title,date:a.responseData.startTime.localizedFullDate.replace(",",""),viewLink:a.responseData.webDetailsURL,lob:c}}catch(q){console.error&&console.error(q)}return b},renderTrip:function(b){if(!b)return console.error&&console.error("Next trip: setCoreWizardData function received null data"),!1;try{k(b.date);var c={name:b.name,date:b.date,link:b.viewLink.split("?")[0]+"?rfrr\x3dsf.nextTrip",lob:b.lob,isFlight:"flights"===b.lob,isHotel:"hotels"===b.lob,isCar:"cars"===b.lob,isCruise:"cruises"===b.lob,isActivity:"activities"===b.lob,loc:g,displayNextTrip:!0},f=(0,a.partials["next-trip-hbs"])(c);e.css("height",0).html(f).animate({height:100,opacity:1},1500,function(){d(this).css("height","auto")})}catch(q){return console.error&&console.error(q),!1}return!0}}});define("nextTrip-getModelv2",["nextTrip-loc","jquery","handlebars","nextTrip-util"],function(g,d,a,f){function k(a){if(!a)return console.error&&console.error("Next trip: getFlightLeg function received null data"),!1;try{var c=["//images.trvl-media.com/media/content/expus/graphics/static_content/fusion/v0.1b/images/airlines/vector/s/",a.segments[0].airlineCode,"_sq.svg"].join(""),b=g.departing.replace("{{date}}",a.legDepartureTime.localizedFullDate),d=a.segments[0].airlineName,e=a.arrivalAirport.code;var f=g.tlaToTla.replace("{{tla1}}",a.departingAirport.code).replace("{{tla2}}",e);return{date:b,logo_img:c,carrier_name:d,trip_TLAs:f,time:[a.legDepartureTime.localizedShortTime,a.legArrivaltime.localizedShortTime].join(" - ").toLowerCase(),arrive_next_day:a.legDepartureTime.localizedShortDate!==a.legArrivaltime.localizedShortDate}}catch(m){return console.error&&console.error(m),!1}}function e(a,c){return g.dateToDate.replace("{{date1}}",a).replace("{{date2}}",c)}var b=d("#next-trip-container-v2"),c={flights:"hp.nextrip.air",hotels:"hp.nextrip.hotel",packages:"hp.nextrip.pkgs",activities:"hp.nextrip.lx",cars:"hp.nextrip.cars",cruises:"hp.nextrip.cruise"};return{parseTrip:function(a){var b=f.getLineOfBusiness(a),d={};if(!b)return console.error&&console.error("Next trip: Failed to get lob"),d;try{if("flights"===b){var h=a.responseData.flights[0],l=[],p=k(h.legs[0]);l.push(p);"ROUND_TRIP"===h.flightType&&(p=k(h.legs[1]),l.push(p));d={lob:b,flight_type:h.flightType,flight_legs:l,aria_label:g.ariaLabelFlight.replace("{{city1}}",h.legs[0].departingAirport.city).replace("{{city2}}",h.legs[0].arrivalAirport.city)}}else if("hotels"===b){var m=a.responseData.hotels[0].hotelPropertyInfo;d={lob:b,date:e(a.responseData.startTime.localizedFullDate,a.responseData.endTime.localizedFullDate),thumbnail:"//images.trvl-media.com/"+m.photoThumbnailURL.replace("_l","_d"),title:m.name,line_1:m.address.addressLine1,line_1_sub:", "+m.address.city,line_2:m.address.city+" "+m.address.countrySubdivisionCode,aria_label:g.ariaLabelHotel.replace("{{city}}",m.address.city)}}else if("activities"===b){var r=a.responseData.activities[0];d={lob:b,date:a.responseData.startTime.localizedFullDate,thumbnail:r.highResImage.url,title:a.responseData.title,line_1:r.activityTitle,aria_label:g.ariaLabelActivity.replace("{{activityTitle}}",a.responseData.title)}}else if("cars"===b){var n=a.responseData.cars[0],t=[n.carVendor.shortName,n.carCategoryLocalized].join(" ");d={lob:b,date:e(a.responseData.startTime.localizedFullDate,a.responseData.endTime.localizedFullDate),thumbnail:n.carCategoryImageURL,title:t,line_1:g.pickUpAtLocation.replace("{{location}}",n.pickupLocation.addressLine1),aria_label:g.ariaLabelCar.replace("{{carTitle}}",t)}}else if("cruises"===b){var u=a.responseData.cruises[0];d={lob:b,date:e(a.responseData.startTime.localizedFullDate,a.responseData.endTime.localizedFullDate),thumbnail:u.shipImageUrl,title:a.responseData.title,line_1:u.cruiseLineName,aria_label:g.ariaLabelCruise.replace("{{cruiseTitle}}",a.responseData.title)}}else"packages"===b&&(l=a.responseData.packages[0],h=[],l.hotels&&h.push(l.hotels[0].hotelPropertyInfo.name),l.flights&&h.push(g.roundTripFlightTo.replace("{{tla}}",l.flights[0].legs[0].arrivalAirport.code)),d={lob:b,date:e(a.responseData.startTime.localizedFullDate,a.responseData.endTime.localizedFullDate),thumbnail:"//images.trvl-media.com/"+l.hotels[0].hotelPropertyInfo.photoThumbnailURL,title:g.cityVacationTitle.replace("{{city}}",a.responseData.title),line_1:h.join(" | "),aria_label:g.ariaLabelPackage.replace("{{city}}",a.responseData.title)});d.viewLink=a.responseData.webDetailsURL.split("?")[0]+"?rfrr\x3d"+c[b]}catch(v){console.error&&console.error(v)}return d},renderTrip:function(c){if(!c)return console.error&&console.error("Next trip: renderTrip function received null data"),!1;try{var d=a.partials["next-trip-v2"];c.loc=g;var e=d(c);b.html(e)}catch(h){return console.error&&console.error(h),!1}return!0}}});var test={};
//# sourceMappingURL=nextTripMercury-1-en_US.js.map