(function(){var h=Handlebars.template({1:function(d,a,c,g,e){var b;return' data-hotelId\x3d"'+d.escapeExpression((b=null!=(b=c.hotelId||(null!=a?a.hotelId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelId",hash:{},data:e}):b))+'" data-interaction-id\x3d"'+d.escapeExpression((b=null!=(b=c.interactionId||(null!=a?a.interactionId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"interactionId",hash:{},data:e}):b))+'"'},3:function(d,a,c,g,e){var b;return' sfid\x3d"'+d.escapeExpression((b=null!=(b=c.sfid||(null!=a?a.sfid:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"sfid",hash:{},data:e}):b))+'"'},5:function(d,a,c,g,e){return"isRV"},7:function(d,a,c,g,e){return"isRS"},9:function(d,a,c,g,e){var b;return'      \x3cfigure class\x3d"image aspect-ratio4-3 loading" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'" data-alt\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+' image" data-aspect-ratio\x3d"4-3" data-class\x3d"tile-media"\x3e\n        \x3cnoscript\x3e\x3cimg src\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'" alt\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+' image" class\x3d"tile-media" /\x3e\x3c/noscript\x3e\n        \x3cspan class\x3d"media-loader"\x3e\x3cspan class\x3d" loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\x3c/span\x3e\n      \x3c/figure\x3e\n'},11:function(d,a,c,g,e){var b;return'      \x3cspan class\x3d"icon icon-'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:d.program(12,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:d.program(14,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:d.program(16,e,0),inverse:d.noop,data:e}))?b:"")+'"\x3e\x3c/span\x3e\n'},12:function(d,a,c,g,e){return"packagesalt"},14:function(d,a,c,g,e){return"flightsalt"},16:function(d,a,c,g,e){return"hotelsalt"},18:function(d,a,c,g,e){var b;return'        \x3ch5 class\x3d"trip-info-main" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-main" title\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'"\x3e\x3cspan class\x3d"sm-tablet-greater"\x3e'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'\x3c/span\x3e\x3cspan class\x3d"sm-tablet"\x3e'+d.escapeExpression((b=null!=(b=c.rsfShortName||(null!=a?a.rsfShortName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"rsfShortName",hash:{},data:e}):b))+"\x3c/span\x3e\x3c/h5\x3e\n"},20:function(d,a,c,g,e){var b;return'        \x3ch5 class\x3d"trip-info-main" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-main" title\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'"\x3e'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+"\x3c/h5\x3e\n"},22:function(d,a,c,g,e){var b;return'        \x3cstrong class\x3d"star-rating rating-secondary rating secondary" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-rec-hotel-stars"\x3e\n          \x3cspan class\x3d"icon icon-stars'+d.escapeExpression((b=null!=(b=c.starsIcon||(null!=a?a.starsIcon:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"starsIcon",hash:{},data:e}):b))+' stars-black value-title" title\x3d"'+d.escapeExpression((b=null!=(b=c.stars||(null!=a?a.stars:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"stars",hash:{},data:e}):b))+' Star"\x3e\x3c/span\x3e\n        \x3c/strong\x3e\n'},24:function(d,a,c,g,e){var b;return'        \x3cspan class\x3d"trip-info-dates" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-dates"\x3e'+d.escapeExpression((b=null!=(b=c.dates||(null!=a?a.dates:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"dates",hash:{},data:e}):b))+"\x3c/span\x3e\n"},26:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.city||(null!=a?a.city:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"city",hash:{},data:e}):b))},28:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.flightTypeLocalized||(null!=a?a.flightTypeLocalized:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"flightTypeLocalized",hash:{},data:e}):b))},30:function(d,a,c,g,e){var b;return(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.info:a,{name:"if",hash:{},fn:d.program(31,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.info:a,{name:"unless",hash:{},fn:d.program(33,e,0),inverse:d.noop,data:e}))?b:"")},31:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:e}):b))},33:function(d,a,c,g,e){var b;return'\x3cspan class\x3d"icon icon-flights"\x3e\x3c/span\x3e\x3cspan\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.flightIncluded:b,a))+"\x3c/span\x3e"},35:function(d,a,c,g,e){var b;return"\x3cspan\x3e"+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.flightAndHotelIncluded:b,a))+"\x3c/span\x3e"},37:function(d,a,c,g,e){var b;return"\x3cspan\x3e"+d.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:e}):b))+"\x3c/span\x3e"},39:function(d,a,c,g,e){var b;return"      "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.removeHotelFromHF:b,a))+"\n"},41:function(d,a,c,g,e){var b;return"      "+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.removeHotel:b,a))+"\n"},43:function(d,a,c,g,e){return" see-price"},45:function(d,a,c,g,e){return" has-price"},47:function(d,a,c,g,e){return" package-orig-price"},49:function(d,a,c,g,e){var b,f;return'    \x3csection class\x3d"rv-savings-info" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-rv-savings-info"\x3e\n      \x3cspan\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.totalSavings:b,a))+':\x3cspan class\x3d"savingsAmount"\x3e'+d.escapeExpression((f=null!=(f=c.packageSavings||(null!=a?a.packageSavings:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"packageSavings",hash:{},data:e}):f))+"\x3c/span\x3e\x3c/span\x3e\n    \x3c/section\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,c,g,e){var b,f;return'\n\x3carticle class\x3d"box col"\n         id\x3d"'+d.escapeExpression((f=null!=
(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'"\n         data-rv-type\x3d"'+d.escapeExpression((f=null!=(f=c.rvType||(null!=a?a.rvType:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvType",hash:{},data:e}):f))+'"\n         '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+"\n         "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.sfid:a,{name:"if",hash:{},fn:d.program(3,e,0),inverse:d.noop,data:e}))?b:"")+' \x3e\n\n\x3ca title\x3d"'+d.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):f))+'" href\x3d"'+d.escapeExpression((f=null!=(f=c.localizedPageUrl||(null!=a?a.localizedPageUrl:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"localizedPageUrl",hash:{},data:e}):f))+"\x26rfrr\x3dHP.rsrv."+d.escapeExpression((f=null!=(f=c.index||e&&e.index)?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"index",hash:{},data:e}):f))+'" class\x3d"cf"\x3e\n  \x3csection class\x3d"rv-visual '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(5,e,0),inverse:d.program(7,e,0),data:e}))?b:"")+'"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(9,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRS:a,{name:"if",hash:{},fn:d.program(11,e,0),inverse:d.noop,data:e}))?b:"")+'  \x3c/section\x3e\n  \x3csection class\x3d"rv-trip-info '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(5,e,0),inverse:d.program(7,e,0),data:e}))?b:"")+'" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-rv-trip-info"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:d.program(18,e,0),inverse:d.program(20,e,0),data:e}))?b:"")+"\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.showHotelStars:a,{name:"if",hash:{},fn:d.program(22,e,0),inverse:d.program(24,e,0),data:e}))?b:"")+'\n      \x3cspan class\x3d"trip-info-city" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-trip-info-city"\x3e\n          '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:d.program(26,e,0),inverse:d.program(28,e,0),data:e}))?b:"")+'\n      \x3c/span\x3e\n      \x3cspan class\x3d"trip-info-additional" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-trip-info-additional"\x3e\n          '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVP:a,{name:"if",hash:{},fn:d.program(30,e,0),inverse:d.noop,data:e}))?b:"")+"\n          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:d.program(35,e,0),inverse:d.noop,data:e}))?b:"")+"\n          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:d.program(37,e,0),inverse:d.noop,data:e}))?b:"")+'\n      \x3c/span\x3e\n  \x3c/section\x3e\n  \x3cbutton class\x3d"rv-remove" data-control\x3d"remove" data-target-id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'" data-topic\x3d"remove-rv-box" data-transition\x3d"none"\x3e\n    \x3cspan class\x3d"icon icon-close" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n    \x3cspan class\x3d"alt" aria-hidden\x3d"true"\x3eX\x3c/span\x3e\n    \x3cspan class\x3d"visuallyhidden"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:d.program(39,e,0),inverse:d.program(41,e,0),data:e}))?b:"")+'    \x3c/span\x3e\n  \x3c/button\x3e\n  \x3csection class\x3d"rv-price-info" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-rv-price-info"\x3e\n      \x3ch5 class\x3d"price-info-price'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.seePrice:a,{name:"if",hash:{},fn:d.program(43,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.seePrice:a,{name:"unless",hash:{},fn:d.program(45,e,0),inverse:d.noop,data:e}))?b:"")+'" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-price-info-price"\x3e'+d.escapeExpression((f=null!=(f=c.price||(null!=a?a.price:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"price",hash:{},data:e}):f))+'\x3c/h5\x3e\n      \x3cspan class\x3d"price-info-additional'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.origPrice:a,{name:"if",hash:{},fn:d.program(47,e,0),inverse:d.noop,data:e}))?b:"")+'" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-price-additional"\x3e'+d.escapeExpression((f=null!=(f=c.origPrice||(null!=a?a.origPrice:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"origPrice",hash:{},data:e}):f))+d.escapeExpression((f=null!=(f=c.additionalPriceInfo||(null!=a?a.additionalPriceInfo:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"additionalPriceInfo",hash:{},data:e}):f))+"\x3c/span\x3e\n  \x3c/section\x3e\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.packageSavings:a,{name:"if",hash:{},fn:d.program(49,e,0),inverse:d.noop,data:e}))?b:"")+"\x3c/a\x3e\n\n\x3c/article\x3e\n"},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["rv-box"]=h;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["rv-box"]=h})();
(function(){var h=Handlebars.template({1:function(d,a,c,g,e){return"viewHistory"},3:function(d,a,c,g,e){return"searchHistory"},5:function(d,a,c,g,e){var b;return'sfid\x3d"'+d.escapeExpression((b=null!=(b=c.sfid||(null!=a?a.sfid:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"sfid",hash:{},data:e}):b))+'"'},7:function(d,a,c,g,e){var b;return'data-hotelid\x3d"'+d.escapeExpression((b=null!=(b=c.hotelId||(null!=a?a.hotelId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelId",hash:{},data:e}):b))+'"'},9:function(d,a,c,g,e){var b;return'data-interaction-id\x3d"'+d.escapeExpression((b=null!=(b=c.interactionId||(null!=a?a.interactionId:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"interactionId",hash:{},data:e}):b))+'"'},11:function(d,a,c,g,e){var b;return'            \x3cdiv class\x3d"flex-figure"\x3e\n              \x3csection class\x3d"rv-visual isRV"\x3e\n                  \x3cfigure class\x3d"image aspect-ratio4-3" alt\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'" data-media-type\x3d"image" data-lazy\x3d"true" data-src\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'" data-srcset\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+", //images.trvl-media.com//"+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+" 959w, //images.trvl-media.com//"+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+" 725w, //images.trvl-media.com//"+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+' 491w" data-alt\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'" data-aspect-ratio\x3d"4-3" data-class\x3d"tile-media"\x3e\n                      \x3cimg alt\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'" class\x3d"tile-media" src\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'"\x3e\n                      \x3cnoscript\x3e\n                          \x26lt;img src\x3d"//images.trvl-media.com//'+d.escapeExpression((b=null!=(b=c.thumbnail||(null!=a?a.thumbnail:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"thumbnail",hash:{},data:e}):b))+'" alt\x3d"missing image alt" class\x3d"tile-media"/\x26gt;\n                      \x3c/noscript\x3e\n                      \x3cspan class\x3d"media-loader"\x3e\n                          \x3cspan class\x3d"loader loader-primary loader-light loader-static loading" aria-hidden\x3d"true" title\x3d"Loading..."\x3e\x3c/span\x3e\n                      \x3c/span\x3e\n                  \x3c/figure\x3e\n              \x3c/section\x3e\n            \x3c/div\x3e\n'},13:function(d,a,c,g,e){var b;return'            \x3csection class\x3d"rv-visual isRS"\x3e\n              \x3cspan class\x3d"icon icon-'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:d.program(14,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:d.program(16,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:d.program(18,e,0),inverse:d.noop,data:e}))?b:"")+'"\x3e\x3c/span\x3e\n            \x3c/section\x3e\n'},14:function(d,a,c,g,e){return"packagesalt"},16:function(d,a,c,g,e){return"flightsalt"},18:function(d,a,c,g,e){return"hotelsalt"},20:function(d,a,c,g,e){var b;return'                        \x3ch5 class\x3d"flex-title truncate" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-main" title\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'"\x3e\n                            \x3cspan class\x3d"sm-tablet-greater"\x3e'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'\x3c/span\x3e\n                            \x3cspan class\x3d"sm-tablet"\x3e'+d.escapeExpression((b=null!=(b=c.rsfShortName||(null!=a?a.rsfShortName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"rsfShortName",hash:{},data:e}):b))+"\x3c/span\x3e\n                        \x3c/h5\x3e\n"},22:function(d,a,c,g,e){var b;return'                        \x3ch5 class\x3d"flex-title truncate" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-main" title\x3d"'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+'"\x3e'+d.escapeExpression((b=null!=(b=c.hotelName||(null!=a?a.hotelName:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):b))+"\x3c/h5\x3e\n"},24:function(d,a,c,g,e){var b;return'                        \x3cstrong class\x3d"star-rating rating-secondary rating secondary" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-rec-hotel-stars"\x3e\n                            \x3cspan class\x3d"icon icon-stars'+d.escapeExpression((b=null!=(b=c.starsIcon||(null!=a?a.starsIcon:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"starsIcon",hash:{},data:e}):b))+' stars-black value-title" title\x3d"'+d.escapeExpression((b=null!=(b=c.stars||(null!=a?a.stars:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"stars",hash:{},data:e}):b))+' Star"\x3e\x3c/span\x3e\n                        \x3c/strong\x3e\n'},26:function(d,a,c,g,e){var b;return'                        \x3cspan class\x3d"trip-info-dates" id\x3d"'+d.escapeExpression((b=null!=(b=c.id||(null!=a?a.id:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"id",hash:{},data:e}):b))+'-trip-info-dates"\x3e'+d.escapeExpression((b=null!=(b=c.dates||(null!=a?a.dates:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"dates",hash:{},data:e}):b))+"\x3c/span\x3e\n"},28:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.city||(null!=a?a.city:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"city",hash:{},data:e}):b))},30:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.flightTypeLocalized||(null!=a?a.flightTypeLocalized:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"flightTypeLocalized",hash:{},data:e}):b))},32:function(d,a,c,g,e){var b;return"                          "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.info:a,{name:"if",hash:{},fn:d.program(33,e,0),inverse:d.noop,data:e}))?b:"")+"\n"+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.info:a,{name:"unless",hash:{},fn:d.program(35,
e,0),inverse:d.noop,data:e}))?b:"")},33:function(d,a,c,g,e){var b;return d.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:e}):b))},35:function(d,a,c,g,e){var b;return'                              \x3cspan class\x3d"icon icon-flights"\x3e\x3c/span\x3e \x3cspan\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.flightIncluded:b,a))+"\x3c/span\x3e\n"},37:function(d,a,c,g,e){var b;return"                          \x3cspan\x3e"+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.flightAndHotelIncluded:b,a))+"\x3c/span\x3e\n"},39:function(d,a,c,g,e){var b;return"                          \x3cspan\x3e"+d.escapeExpression((b=null!=(b=c.info||(null!=a?a.info:a))?b:c.helperMissing,"function"===typeof b?b.call(null!=a?a:{},{name:"info",hash:{},data:e}):b))+"\x3c/span\x3e\n"},41:function(d,a,c,g,e){return" see-price"},43:function(d,a,c,g,e){return" has-price"},45:function(d,a,c,g,e){return" package-orig-price"},47:function(d,a,c,g,e){var b,f;return'                        \x3csection class\x3d"rv-savings-info" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-rv-savings-info"\x3e\n                            \x3cspan\x3e'+d.escapeExpression(d.lambda(null!=(b=null!=a?a.loc:a)?b.totalSavings:b,a))+' \x3cspan class\x3d"savingsAmount"\x3e'+d.escapeExpression((f=null!=(f=c.packageSavings||(null!=a?a.packageSavings:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"packageSavings",hash:{},data:e}):f))+"\x3c/span\x3e\x3c/span\x3e\n                        \x3c/section\x3e\n"},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,c,g,e){var b,f;return'\x3cdiv id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'" class\x3d"uitk-col '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.program(3,e,0),data:e}))?b:"")+'" '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.sfid:a,{name:"if",hash:{},fn:d.program(5,e,0),inverse:d.noop,data:e}))?b:"")+' data-rv-type\x3d"'+d.escapeExpression((f=null!=(f=c.rvType||(null!=a?a.rvType:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvType",hash:{},data:e}):f))+'" '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:d.program(7,e,0),inverse:d.noop,data:e}))?b:"")+" "+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.interactionId:a,{name:"if",hash:{},fn:d.program(9,e,0),inverse:d.noop,data:e}))?b:"")+'\x3e\n    \x3cdiv class\x3d"flex-card has-link '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(1,e,0),inverse:d.program(3,e,0),data:e}))?b:"")+'"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRV:a,{name:"if",hash:{},fn:d.program(11,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRS:a,{name:"if",hash:{},fn:d.program(13,e,0),inverse:d.noop,data:e}))?b:"")+'            \x3cdiv class\x3d"flex-content"\x3e\n                \x3cdiv class\x3d"flex-area-primary"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSF:a,{name:"if",hash:{},fn:d.program(20,e,0),inverse:d.program(22,e,0),data:e}))?b:"")+"\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.showHotelStars:a,{name:"if",hash:{},fn:d.program(24,e,0),inverse:d.program(26,e,0),data:e}))?b:"")+'\n                    \x3cspan class\x3d"trip-info-city" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-trip-info-city"\x3e\n                        '+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVH:a,{name:"if",hash:{},fn:d.program(28,e,0),inverse:d.program(30,e,0),data:e}))?b:"")+'\n                    \x3c/span\x3e\n\n                    \x3cspan class\x3d"trip-info-additional" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-trip-info-additional"\x3e\n'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRVP:a,{name:"if",hash:{},fn:d.program(32,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSP:a,{name:"if",hash:{},fn:d.program(37,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.isRSH:a,{name:"if",hash:{},fn:d.program(39,e,0),inverse:d.noop,data:e}))?b:"")+'                    \x3c/span\x3e\n                \x3c/div\x3e\n                \x3cdiv class\x3d"flex-area-secondary "\x3e\n                    \x3csection class\x3d"rv-price-info"  id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-rv-price-info"\x3e\n                        \x3cspan class\x3d"flex-price price-info-price'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.seePrice:a,{name:"if",hash:{},fn:d.program(41,e,0),inverse:d.noop,data:e}))?b:"")+(null!=(b=c.unless.call(null!=a?a:{},null!=a?a.seePrice:a,{name:"unless",hash:{},fn:d.program(43,e,0),inverse:d.noop,data:e}))?b:"")+'" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-price-info-price"\x3e'+d.escapeExpression((f=null!=(f=c.price||(null!=a?a.price:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"price",hash:{},data:e}):f))+'\x3c/span\x3e\n                        \x3cspan class\x3d"price-info-additional'+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.origPrice:a,{name:"if",hash:{},fn:d.program(45,e,0),inverse:d.noop,data:e}))?b:"")+'" id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'-price-additional"\x3e'+d.escapeExpression((f=null!=(f=c.origPrice||(null!=a?a.origPrice:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"origPrice",hash:{},data:e}):f))+d.escapeExpression((f=null!=(f=c.additionalPriceInfo||(null!=a?a.additionalPriceInfo:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"additionalPriceInfo",hash:{},data:e}):f))+"\x3c/span\x3e\n                    \x3c/section\x3e\n\n"+(null!=(b=c["if"].call(null!=a?a:{},null!=a?a.packageSavings:a,{name:"if",hash:{},fn:d.program(47,e,0),inverse:d.noop,data:e}))?b:"")+'                \x3c/div\x3e\n            \x3c/div\x3e\n\n            \x3ca class\x3d"flex-link" href\x3d"'+d.escapeExpression((f=null!=(f=c.localizedPageUrl||(null!=a?a.localizedPageUrl:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"localizedPageUrl",hash:{},data:e}):f))+'"\x3e'+d.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):f))+'\x3c/a\x3e\n\n        \x3cdiv class\x3d"flex-area-tertiary"\x3e\n            \x3cbutton  type\x3d"button" data-control\x3d"remove" data-target-id\x3d"'+d.escapeExpression((f=null!=(f=c.id||(null!=a?a.id:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"id",hash:{},data:e}):f))+'" data-topic\x3d"remove-rv-box" data-transition\x3d"none" class\x3d"btn-primary btn-close module-close flex-close"\x3e\n                \x3cspan class\x3d"icon icon-close" aria-hidden\x3d"true"\x3e\x3c/span\x3e\n                \x3cspan class\x3d"alt"\x3eClose '+d.escapeExpression((f=null!=(f=c.hotelName||(null!=a?a.hotelName:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"hotelName",hash:{},data:e}):f))+"\x3c/span\x3e\n            \x3c/button\x3e\n        \x3c/div\x3e\n    \x3c/div\x3e\n\x3c/div\x3e\n"},useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["rv-flex-card"]=h;Handlebars.partials=Handlebars.partials||
{};Handlebars.partials["rv-flex-card"]=h})();(function(){var h=Handlebars.template({1:function(d,a,c,g,e){var b;return null!=(b=d.invokePartial(g["rv-flex-card"],a,{name:"rv-flex-card",data:e,indent:"    ",helpers:c,partials:g,decorators:d.decorators}))?b:""},compiler:[7,"\x3e\x3d 4.0.0"],main:function(d,a,c,g,e){var b,f;return'\n\x3cheader class\x3d"cols-row-header"\x3e\n  \x3ch3 id\x3d"rv-title" class\x3d"rv-title"\x3e\n    '+d.escapeExpression((f=null!=(f=c.rvTitle||(null!=a?a.rvTitle:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvTitle",hash:{},data:e}):f))+'\n  \x3c/h3\x3e\n\x3c/header\x3e\n\x3cdiv class\x3d"uitk-grid all-x-gutter-24 desktop-col-1-2 tablet-col-1-1 flex-listing flex-theme-light" data-vtest-area\x3d"set-list-2up"\x3e\n'+(null!=(b=c.each.call(null!=a?a:{},null!=a?a.rvModel:a,{name:"each",hash:{},fn:d.program(1,e,0),inverse:d.noop,data:e}))?b:"")+'\x3c/div\x3e\n\n\n\x3cdiv\x3e\n  \x3cspan id\x3d"rv-legal-msg" class\x3d"rv-legal-msg"\x3e'+d.escapeExpression((f=null!=(f=c.rvLegalMsg||(null!=a?a.rvLegalMsg:a))?f:c.helperMissing,"function"===typeof f?f.call(null!=a?a:{},{name:"rvLegalMsg",hash:{},data:e}):f))+"\x3c/span\x3e\n\x3c/div\x3e\n"},usePartial:!0,useData:!0});Handlebars.templates=Handlebars.templates||{};Handlebars.templates["rv-container"]=h;Handlebars.partials=Handlebars.partials||{};Handlebars.partials["rv-container"]=h})();define("rv-loc",function(){return{days:"[x] days",nights:"[x] nights",night:"[x] night",freeCancellation:"Free cancellation",multidest:"Multiple destinations",oneway:"One way",othersBooking:"[x] bookings in the last 48 hours",othersBookingSingular:"1 booking in the last 48 hours",othersViewing:"[x] others viewing this hotel now",othersViewingSingular:"1 other viewing this hotel now",packageDealVolumeMessage:"Over 540 deals",perNight:"per night",perPerson:"per person",totalRate:"total rate",roomsLeft:"[x] rooms left",roundtrip:"Roundtrip",rsfTitle:"Flights from [A] to [B]",seeFullSearch:"See full search",seePrice:"See price",singleRoomLeft:"1 room left",to:"[A] to [B]",flightIncluded:"Flight included",flightAndHotelIncluded:"Flight and hotel included",removeHotelFromHF:"Remove [hotelName] from list of recently viewed flight searches",removeHotel:"Remove [hotelName] from list of recently viewed hotels",totalSavings:"Total savings",rvYourTitle:"Your Recent Searches",rvUserTitle:"[signedIn]'s Recent Searches",rvUserTitleV2:"Pick up where you left off",perNightLegalMessage:"Prices vary and will be updated when you view current results. 'Per nightâ€™ pricing represents the cheapest average nightly price based on your selected length of stay.",totalRateLegalMessage:"Prices vary and will be updated when you view current results."}});var recentlyViewed=recentlyViewed||{};recentlyViewed.hotelIds=[];recentlyViewed.rvModel=[];recentlyViewed.regionIds=[];recentlyViewed.tlaRegionIdLookup=[];function getRvRequirements(){return"rvModelBuilder rvUrgency uitk rv-loc gc/pageModel handlebars sfAbTest".split(" ")}define("recentlyViewed",getRvRequirements(),function(h,d,a,c,g,e,b){return{init:function(){"localhost"==window.location.hostname&&recentlyViewed.UAD?this.render():$.ajax({dataType:"json",url:"/UserActivityDataAjax/getUserActivityData",success:function(a){"undefined"!==typeof a&&null!=a&&(recentlyViewed.UAD=a,require(["recentlyViewed"],function(a){a.render()}))},complete:function(a,b,c){window.dctk&&dctk.enabled&&dctk.logging&&dctk.logging.logError?dctk.logging.logMessage("sf-web:rv",{status:b}):require("dctk/clientLogging",function(a){a.logMessage("sf-web:rv",{status:b})})},cache:!1,timeout:5E3})},render:function(){h.getModel();this.renderModel();d.getUrgencyMessages();a.subscribe("remove-rv-box",this.deleteBoxCallback)},renderModel:function(){if(recentlyViewed.rvModel[0]){var a=g.user,d=a.userStatus,e=c.rvYourTitle;("Identified"===d||"AUTHENTICATED"===d)&&"string"===typeof a.firstName&&0<a.firstName.length&&("1"===siteid||"18"===siteid?b.get(14787,!0,function(b){e=1==b.value?c.rvUserTitleV2:c.rvUserTitle.replace("[signedIn]",a.firstName)}):e=c.rvUserTitle.replace("[signedIn]",a.firstName));d={rvTitle:e,rvModel:recentlyViewed.rvModel,rvLegalMsg:recentlyViewed.config.getLegalMsg(c),loc:c};d=(0,Handlebars.partials["rv-container"])(d);$(".rv-container").html(d).find(".uitk-col:odd").addClass("even");this.addPlaceholders()}},addPlaceholders:function(){var a=recentlyViewed.rvModel.length;$(".uitk-col.placeholder-box").remove();$(".rv-container .even").removeClass("even");$(".rv-container").find(".uitk-col:odd").addClass("even");0<a%2&&$("#rv-container .uitk-grid").append("\x3cdiv class\x3d'uitk-col placeholder-box'\x3e \x3cdiv class\x3d'flex-card placeholder even'\x3e\x3c/div\x3e\x3c/div\x3e")},deleteBoxCallback:function(a,b){var c=b.attr("id"),d=b.attr("sfid"),e=b.attr("data-rv-type"),f=b.attr("data-interaction-id");f||(f=d);if(0===e.length)return!1;1===recentlyViewed.rvModel.length?($("#rv-container .uitk-grid").append("\x3cdiv class\x3d'uitk-col placeholder-box'\x3e \x3cdiv class\x3d'flex-card placeholder even'\x3e\x3c/div\x3e\x3c/div\x3e"),recentlyViewed.rvModel.length=0):($.each(recentlyViewed.rvModel,function(a,b){if(c===b.id)return recentlyViewed.rvModel.splice(a,1),!1}),require(["recentlyViewed"],function(a){a.addPlaceholders()}));"rvH"===e?c=c.split("-")[1]:"rvP"===e?c="VP-"+c.split("-")[1]:"rsH"===e?c="SH-"+d:"rsF"===e?c=d:"rsP"===e&&(c="SP-"+d);require(["recentlyViewed"],function(a){a.notInterested(c,f)})},notInterested:function(a,b){var c="";b&&(c="\x26interactionId\x3d"+b);$.ajax({url:"/UserActivityData/notInterested?id\x3d"+a+c,cache:!1})}}});require(["recentlyViewed"],function(h){h.init()});define("rvModelBuilder",["rvTileBuilder"],function(h){return{getModel:function(){recentlyViewed.rvModel=[];recentlyViewed.hotelIds.length=0;this.populateTimeSortedRvModel();return recentlyViewed.rvModel},getDataFromAirportTla:function(d,a){$.ajax({dataType:"jsonp",url:"https://suggest.expedia.com/hint/es/v2/sri/en_US/"+d+"?lob\x3dpackages",success:a,cache:!1,timeout:2E3})},sortViewedHotelsByViewDate:function(){recentlyViewed.UAD.viewedHotels=_.sortBy(recentlyViewed.UAD.viewedHotels,"viewedDate").reverse();return recentlyViewed.UAD},populateTimeSortedRvModel:function(){function d(a,b,d,e){a<b&&(a=new Date(d[a].searchedDate||d[a].viewedDate),""===c||a>c)&&(c=a,n=e)}function a(a,b){return-1===a.indexOf("?")?a+"?rfrr\x3dSTF.RSRV.Tile"+b:a+"\x26rfrr\x3dSTF.RSRV.Tile"+b}var c;this.sortViewedHotelsByViewDate();var g=recentlyViewed.UAD,e,b,f,k;var l=e=b=f=k=0;for(var p=g.viewedHotels?g.viewedHotels.length:0,r=g.viewedPackages?g.viewedPackages.length:0,t=g.searchedFlights?g.searchedFlights.length:0,u=g.searchedPackages?g.searchedPackages.length:0,q=0;8>q&&(0>b||f<t||k<u||l<p||e<r);){var n=c="";d(f,t,g.searchedFlights,"rsF");d(k,u,g.searchedPackages,"rsP");d(l,p,g.viewedHotels,"rvH");d(e,r,g.viewedPackages,"rvP");if("rsH"===n)var m=h.convertRSItem(g.searchedHotels[b],"hotel",b++);else if("rsF"===n)m=h.convertRSItem(g.searchedFlights[f],"flight",f++);else if("rsP"===n)m=h.convertRSItem(g.searchedPackages[k],"package",k++);else if("rvH"===n){var v=g.viewedHotels[l];m=h.convertRVItem(v,"hotel",l++);recentlyViewed.hotelIds.push(v.hotelId)}else"rvP"===n&&(m=h.convertRVItem(g.viewedPackages[e],"package",e++));m.localizedPageUrl=a(m.localizedPageUrl,q+1);recentlyViewed.rvModel.push(m);q++}if(0===recentlyViewed.tlaRegionIdLookup.length)uitk&&"function"===typeof uitk.publish&&uitk.publish("tickerRegionIds.ready",{state:"done"});else{uitk.subscribe("regionId-lookup-done",function(a,b){console.log(recentlyViewed.tlaRegionIdLookup);console.log(recentlyViewed.regionIds);uitk.publish("tickerRegionIds.ready",{state:"done"})});var w=function(){setTimeout(function(){var a=!0;console.log(recentlyViewed.tlaRegionIdLookup);console.log(recentlyViewed.regionIds);for(var b=0;b<recentlyViewed.tlaRegionIdLookup.length;b++)if(0!==recentlyViewed.tlaRegionIdLookup[b]){a=!1;break}a?uitk.publish("regionId-lookup-done"):w()},500)};w()}}}});
define("rvTileBuilder",["rvUtils","rv-loc","eapAspSearchUrl"],function(h,d,a){return{convertRVItem:function(a,g,e){var b={isRV:!0};b.hotelId=a.hotelId;b.interactionId=a.interactionId;b.hotelName=a.hotelName;b.localizedPageUrl=a.localizedPageUrl;b.thumbnail=a.thumbnail?a.thumbnail.replace("_t","_s"):"";b.city=a.regionLongName.substr(0,a.regionLongName.indexOf(","))||a.regionLongName;b.dates=h.formatDatePair(a.checkInDate,a.checkOutDate,g);b.checkIn=a.checkInDate;b.checkOut=a.checkOutDate;b.travelerUnits=a.travelerUnits;"hotel"===g?(b.id="rvH"+e+"-"+a.hotelId,b.rvType="rvH",b.isRVH=!0,b.price=a.price&&a.price.amount?h.formatPrice(a.price.amount,a.price.currency.currencyCode):d.seePrice,b.showHotelStars=!1,b.starsIcon=a.starRating.replace(".","-"),b.stars=a.starRating,a.checkInDate&&a.checkOutDate&&(g=a.localizedPageUrl.indexOf("chkin")+6,e=a.localizedPageUrl.indexOf("chkout"),e=a.localizedPageUrl.indexOf("\x26",e),b.localizedPageUrl=a.localizedPageUrl.substring(0,g)+h.formatDateStandard(a.checkInDate)+"\x26chkout\x3d"+h.formatDateStandard(a.checkOutDate)+a.localizedPageUrl.substring(e))):"package"===g&&(b.id="rvP"+e+"-"+a.hotelId,b.rvType="rvP",b.isRVP=!0,b.price=a.packagePricePerPerson&&a.packagePricePerPerson.amount?h.formatPrice(Math.ceil(a.packagePricePerPerson.amount),a.packagePricePerPerson.currency.currencyCode):d.seePrice,recentlyViewed.config.RVPackageDiscountMessageEnabled&&a.packageSavings&&0<a.packageSavings.amount&&(b.packageSavings=h.formatPrice(Math.round(a.packageSavings.amount),a.packageSavings.currency.currencyCode)),a.origin&&a.origin.city&&a.destination&&a.destination.city&&(b.info=d.to.replace("[A]",a.origin.city).replace("[B]",a.destination.city)));b.price==d.seePrice?b.seePrice=!0:1==b.isRVH?b.additionalPriceInfo=recentlyViewed.config.getTotalRateOrPerNightMessage(d):1==b.isRVP&&(b.additionalPriceInfo=d.perPerson);return b},convertRSItem:function(c,g,e){var b={};if("hotel"!==g)if("flight"===g){var f=c.destination.city+" ("+c.destinationTLA+")";b.hotelName=d.rsfTitle.replace("[A]",c.origin.city+" ("+c.originTLA+")").replace("[B]",f);b.rsfShortName=d.to.replace("[A]",c.originTLA).replace("[B]",c.destinationTLA);b.localizedPageUrl=c.searchUrl;b.dates=h.formatDatePair(c.departureDate,c.returnDate,g);b.rvType="rsF";b.id="rsF"+e;b.isRSF=!0;b.destTLA=c.destinationTLA;b.start=c.departureDate;b.end=c.returnDate;b.city=c.destination.city;b.flightType=c.flightType;if("ROUND_TRIP"===b.flightType){b.flightTypeLocalized=d.roundtrip;e=c.searchUrl.indexOf("departure")+10;g=c.searchUrl.indexOf("TANYT",e);f=c.searchUrl.indexOf("departure",g)+10;var k=c.searchUrl.indexOf("TANYT",f);b.localizedPageUrl=c.searchUrl.substring(0,e)+h.formatDateStandard(c.departureDate)+c.searchUrl.substring(g,f)+h.formatDateStandard(c.returnDate)+c.searchUrl.substring(k)}else"MULTIPLE_DESTINATION"===b.flightType?b.flightTypeLocalized=d.multidest:"ONE_WAY"===b.flightType&&(b.flightTypeLocalized=d.oneway,b.dates=h.formatDate(c.departureDate),e=c.searchUrl.indexOf("departure")+10,g=c.searchUrl.indexOf("TANYT",e),b.localizedPageUrl=c.searchUrl.substring(0,e)+h.formatDateStandard(c.departureDate)+c.searchUrl.substring(g));c.price&&(g=c.price.match(/\d+/g))&&g[0].length&&(c.price=h.formatPrice(c.price));b.travelerUnit=c.travelerUnit}else if("package"===g){b.hotelName=d.to.replace("[A]",c.origin.city).replace("[B]",c.destination.city);b.dates=h.formatDatePair(c.departureDate,c.returnDate,g);b.rvType="rsP";b.id="rsP"+e;b.isRSP=!0;var l=[],p=!0;$.each(c.travelerUnits,function(a,b){var c={};c.adults=b.numberOfAdults;c.children=b.childAges;l.push(c);p=!b.infantInLap});g=h.formatDateStandard(c.departureDate);e=h.formatDateStandard(c.returnDate);g={isPackage:!0,destination:c.destinationTLA,origin:c.originTLA,startDate:g,endDate:e,rooms:l,lapSeat:p?"lap":"seat",lang:recentlyViewed.config.lang};if(c.checkInDate&&c.checkInDate!==c.departureDate||c.checkOutDate&&c.checkOutDate!==c.returnDate)e=h.dateDiffInDays(c.departureDate,c.returnDate),f=h.dateDiffInDays(c.checkInDate,c.checkOutDate),g.isPartialStay=f<e,g.checkin=h.formatDateStandard(c.checkInDate),g.checkout=h.formatDateStandard(c.checkOutDate);b.localizedPageUrl=a(g,"flightHotel")}b.isRS=!0;b.sfid=c.cacheKey;b.price=c.price||d.seePrice;b.price==d.seePrice?(b.seePrice=!0,1==b.isRSP&&(b.price=d.seeFullSearch,b.additionalPriceInfo=d.packageDealVolumeMessage)):1==b.isRSF&&(b.additionalPriceInfo=d.perPerson);return b}}});define("rvUrgency",["rvUtils","rv-loc"],function(h,d){return{getUrgencyMessages:function(){0<recentlyViewed.hotelIds.length&&(this.getFreeCancellation(recentlyViewed.hotelIds),this.getTrendMessageV2(recentlyViewed.hotelIds))},getFreeCancellation:function(a){var c="";$.each(a,function(a,d){c=c+"\x26hotelId\x3d"+d});$.ajax({dataType:"json",url:"/UserActivityDataAjax/getAdditionalHotelAvailInfo?"+c,success:this.freeCancellationCallback,cache:!1,timeout:5E3})},freeCancellationCallback:function(a){if(null!==a){if("string"===typeof a){if("Error"===a.substring(0,5))return recentlyViewed.getTrendMessageV2(recentlyViewed.hotelIds),!1;dataArray=JSON.parse(a)}else dataArray=a;a='\x3cspan class\x3d"price-info-additional free-cancellation" style\x3d"display:none;"\x3e'+d.freeCancellation+"\x3c/span\x3e";for(var c=0;c<dataArray.length;c++){var g=dataArray[c];if(g.freeCancellation)$("[data-hotelId\x3d"+g.hotelId+"] .rv-price-info").append(a);else if(g.numberOfRoomsLeft&&0<parseInt(g.numberOfRoomsLeft)){var e=1<g.numberOfRoomsLeft?d.roomsLeft.replace("[x]",g.numberOfRoomsLeft):d.singleRoomLeft;$("[data-hotelId\x3d"+g.hotelId+"] .rv-price-info").append('\x3cspan class\x3d"price-info-additional number-of-rooms-left" style\x3d"display:none;"\x3e'+e+"\x3c/span\x3e")}}$(".free-cancellation, .number-of-rooms-left").fadeIn(1E3)}},getTrendMessageV2:function(a){"object"===typeof a&&0<a.length&&$.ajax({beforeSend:function(a){a.setRequestHeader("Accept","Application/json")},dataType:"jsonp",url:"https://urgency.expedia.com/urgencyservice/v1/ticker/hotel?clientId\x3dstorefront\x26viewDuration\x3d30m\x26bookingDuration\x3d48h\x26type\x3dview,booking\x26ids\x3d"+a.join(","),success:this.trendMessageCallback,cache:!1,timeout:5E3})},trendMessageCallback:function(a){null!==a&&("string"===typeof a&&(a=JSON.parse(a)),$.each(a.hotelTicker,function(a,g){var c="";g.bookingsCount&&0<parseInt(g.bookingsCount)?c=1==parseInt(g.bookingsCount)?d.othersBookingSingular:d.othersBooking.replace("[x]",g.bookingsCount):g.viewsCount&&0<parseInt(g.viewsCount)&&(c=1==parseInt(g.viewsCount)?d.othersViewingSingular:d.othersViewing.replace("[x]",g.viewsCount));c&&($("[data-hotelId\x3d"+g.id+"] .rv-trip-info .trip-info-additional").html('\x3cspan class\x3d"icon icon-trend" style\x3d"display:none;"\x3e\x3c/span\x3e\x3cspan style\x3d"display:none;"\x3e'+c+"\x3c/span\x3e").addClass("trend-msg"),$("[data-hotelId\x3d"+g.id+"] .flex-card .trip-info-additional").html('\x3cspan class\x3d"icon icon-trend" style\x3d"display:none;"\x3e\x3c/span\x3e\x3cspan style\x3d"display:none;"\x3e'+c+"\x3c/span\x3e").addClass("trend-msg"))}),$(".rv-trip-info .trip-info-additional span").fadeIn(1E3),$(".flex-card .trip-info-additional span").fadeIn(1E3))}}});define("rvUtils",["rv-loc","uitk","uitk_localized_dateApi","uitk_localized_priceApi","uitk_localized_config"],function(h,d){return{formatDate:function(a){return a?d.utils.createLocalizedDate(new Date(a),d.locale).mediumDate():""},dateDiffInDays:function(a,c){var d=new Date(a);d=Math.abs((new Date(c)).getTime()-d.getTime());return Math.ceil(d/864E5)},formatDatePair:function(a,c,d){if(!a||!c)return"";var e=this.dateDiffInDays(a,c);a=this.formatDate(a);c=this.formatDate(c);a=a+" - "+c;c=1===e?h.night:h.nights;return"hotel"===d?c.replace("[x]",e)+" ("+a+")":0===e?a:h.days.replace("[x]",e+1)+" ("+a+")"},formatDateStandard:function(a){return a?d.utils.createLocalizedDate(new Date(a),d.locale).shortDate():null},formatPrice:function(a,c){return"string"===typeof a?a:d.utils.createLocalizedPrice(a.toString(),window.locale,c).format()}}});var test={};
//# sourceMappingURL=recentlyViewed-1-en_US.js.map